<!doctype html><html lang=ja-jp><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>サイト内全文検索｜まくまく投資ノート</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-Q28XZ15ZKZ"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-Q28XZ15ZKZ")</script><meta property="og:site_name" content="まくまく投資ノート"><meta property="og:title" content="サイト内全文検索"><meta property="og:type" content="website"><meta property="og:url" content="https://toushi.maku.blog/search/"><meta property="og:locale" content="ja_JP"><meta property="og:image" content="https://toushi.maku.blog/img/site-logo.png"><meta property="og:image:width" content="1238"><meta property="og:image:height" content="397"><meta property="fb:app_id" content="525778660924912"><link rel=stylesheet href=../css/main.min.6596ab94cdec3a8e9b4e33f9a9c4484649ef23c7bdd289e229aac08eecb8c5d2.css><link rel=icon sizes="16x16 32x32 48x48 64x64" href=../assets/favicon/favicon.ico><link rel=icon sizes=192x192 href=../assets/favicon/192x192.png><link rel=apple-touch-icon href=../assets/favicon/180x180.png><script src=../assets/js/ext-links.js defer></script>
<script src=../assets/js/sidebar.js defer></script><style>.codoc-support{display:inline-block;margin:.5rem 0 0!important;padding:12px!important;width:210px!important;max-width:100%}.codoc-support .codoc-support-title{font-size:smaller!important;white-space:nowrap;margin-bottom:12px!important}.codoc-support .codoc-btn{width:180px!important}</style><script src=https://codoc.jp/js/cms.js data-css=black data-usercode=tp6ZPzTj3w defer></script><meta name=robots content="noindex,nofollow"></head><body><div id=xRoot><div id=xSiteHeader><a href=../>まくまく投資ノート</a></div><aside><div class=xBreadcrumb><span class=xBreadcrumb_item><a href=../>&#x1F3E0;</a></span>
<span class=xBreadcrumb_item>サイト内全文検索</span></div></aside><div id=xContainer><nav id=xMenu aria-label=メニュー><div id=sidebar style=height:100%><div id=sidebar_notFixed><a href=../><img src=https://toushi.maku.blog/img/site-logo.png alt=サイトロゴ></a><div class=xMenu_box data-sticky><form action=https://cse.google.com/cse target=_blank><div class=xSearchBox><input type=hidden name=cx value=a3565b62678da48be>
<input type=hidden name=ie value=UTF-8>
<input type=search name=q placeholder=サイト内検索 size=30 autocomplete=off>
<input type=submit value=検索></div></form><div class=xMenu_box_body></div></div><div class=xMenu_box data-sticky><h3 class=xMenu_box_title><a href=../latest/>新着</a></h3><div class=xMenu_box_body><div class=xBoxLink><a href=../p/mh3huem/>税金メモ: 個人事業主 vs ひとり法人
<time>2024-02-12</time></a></div><div class=xBoxLink><a href=../p/ecse2sc/>読書メモ『相場師スクーリング』
<time>2024-01-27</time></a></div><div class=xBoxLink><a href=../p/yx2ii4s/>カバードワラント
<time>2023-10-04</time></a></div><div class=xBoxLink><a href=../p/ibp4usz/>テクニカル指標: Stochastic Oscillator（ストキャスティクス）
<time>2023-09-25</time></a></div><div class=xBoxLink><a href=../p/aamwkiu/>MetaTrader/MQL: EA で使用できるイベント
<time>2023-07-17</time></a></div></div></div><div class=xMenu_box data-sticky><h3 class=xMenu_box_title><a href=../sitemap/>フォルダ</a></h3><div class=xMenu_box_body><div class=xNavTree><ul><li><a class=xNavTree-dir href=../p/wcx72e7/>読書メモ</a><li><a class=xNavTree-dir href=../p/7vdkmy5/>コラム・勉強</a><li><a class=xNavTree-dir href=../p/vdnp4g3/>投資家としての学び方・考え方</a><li><a class=xNavTree-dir href=../p/w4ps3zv/>トレード</a><li><a class=xNavTree-dir href=../p/mpnfuug/>ビジネス</a><li><a class=xNavTree-dir href=../p/8zuc9k9/>財務分析</a><li><a class=xNavTree-dir href=../p/gm6k6vd/>証券外務員メモ</a><li><a class=xNavTree-dir href=../p/c24qkcu/>株式会社法</a><li><a class=xNavTree-dir href=../p/9gvwaj2/>用語集</a><li><a class=xNavTree-dir href=../p/sjsjtaj/>投資家</a><li><a class=xNavTree-dir href=../p/dvbw2ib/>税金/Tax</a><li><a class=xNavTree-dir href=../p/nnncw8k/>金商法</a><li><a class=xNavTree-dir href=../p/tkt7bha/>保険</a><li><a class=xNavTree-dir href=../p/bii9qib/>人生の３大資金</a><li><a class=xNavTree-dir href=../p/xgic22o/>FP試験</a><li><a href=../p/o2gwbex/>リンク集</a><li><a href=../p/f55z9j5/>歴史</a></ul></div></div></div><div class=xMenu_box data-sticky><h3 class=xMenu_box_title><a href=../tags/>タグ</a></h3><div class=xMenu_box_body><div id=local-tag-container><div class=xMenu_tag><a href=../tags/metatrader/mql/>MetaTrader/MQL (108)</a></div><div class=xMenu_tag><a href=../tags/easylanguage/>EasyLanguage (21)</a></div><div class=xMenu_tag><a href=../tags/%E3%83%88%E3%83%AC%E3%82%B9%E3%83%86/>トレステ (20)</a></div><div class=xMenu_tag><a href=../tags/%E8%AA%AD%E6%9B%B8/>読書 (18)</a></div><div class=xMenu_tag><a href=../tags/%E3%83%86%E3%82%AF%E3%83%8B%E3%82%AB%E3%83%AB%E6%8C%87%E6%A8%99/>テクニカル指標 (12)</a></div><div class=xMenu_tag><a href=../tags/%E6%88%A6%E7%95%A5/>戦略 (12)</a></div><div class=xMenu_tag><a href=../tags/%E8%B2%A1%E5%8B%99%E5%88%86%E6%9E%90/>財務分析 (11)</a></div><div class=xMenu_tag><a href=../tags/%E4%BF%9D%E9%99%BA/>保険 (10)</a></div><div class=xMenu_tag><a href=../tags/%E8%A8%BC%E5%88%B8%E5%A4%96%E5%8B%99%E5%93%A1/>証券外務員 (10)</a></div><div class=xMenu_tag><a href=../tags/%E7%A8%8E%E9%87%91/>税金 (9)</a></div><div class=xMenu_tag><a href=../tags/fx/>FX (8)</a></div><div class=xMenu_tag><a href=../tags/metatrader/>MetaTrader (7)</a></div><div class=xMenu_tag><a href=../tags/%E8%B5%B7%E6%A5%AD/>起業 (7)</a></div><div class=xMenu_tag><a href=../tags/%E4%BC%9A%E7%A4%BE%E6%B3%95/>会社法 (5)</a></div><div class=xMenu_tag><a href=../tags/fp%E8%A9%A6%E9%A8%93/>FP試験 (4)</a></div><div class=xMenu_tag><a href=../tags/%E3%83%88%E3%83%AC%E3%83%BC%E3%83%89%E6%88%A6%E7%95%A5/>トレード戦略 (4)</a></div><div class=xMenu_tag><a href=../tags/%E6%8C%87%E6%A8%99%E6%8C%87%E6%95%B0/>指標・指数 (4)</a></div><div class=xMenu_tag><a href=../tags/%E9%87%91%E5%88%A9/>金利 (4)</a></div><div class=xMenu_tag><a href=../tags/%E9%87%91%E5%95%86%E6%B3%95/>金商法 (4)</a></div><div class=xMenu_tag><a href=../tags/%E9%8A%98%E6%9F%84%E9%81%B8%E3%81%B3/>銘柄選び (4)</a></div><div class=xMenu_tag><a href=../tags/%E3%83%AA%E3%83%95%E3%82%A1%E3%83%AC%E3%83%B3%E3%82%B9/>リファレンス (3)</a></div><div class=xMenu_tag><a href=../tags/%E4%BA%BA/>人 (3)</a></div><div class=xMenu_tag><a href=../tags/%E6%8C%87%E6%A8%99/>指標 (3)</a></div><div class=xMenu_tag><a href=../tags/rsi/>RSI (2)</a></div><div class=xMenu_tag><a href=../tags/%E3%82%A4%E3%83%B3%E3%82%B8%E3%82%B1%E3%83%BC%E3%82%BF%E3%83%BC/>インジケーター (2)</a></div><div class=xMenu_tag><a href=../tags/%E3%83%A9%E3%83%AA%E3%83%BC%E3%82%A6%E3%82%A3%E3%83%AA%E3%82%A2%E3%83%A0%E3%82%BA/>ラリー・ウィリアムズ (2)</a></div><div class=xMenu_tag><a href=../tags/%E4%B8%8D%E5%8B%95%E7%94%A3/>不動産 (2)</a></div><div class=xMenu_tag><a href=../tags/%E5%82%B5%E5%88%B8/>債券 (2)</a></div><div class=xMenu_tag><a href=../tags/%E5%A4%96%E5%8B%99%E5%93%A1/>外務員 (2)</a></div><div class=xMenu_tag><a href=../tags/%E5%BF%83%E5%BE%97/>心得 (2)</a></div><div class=xMenu_tag><a href=../tags/atr/>ATR (1)</a></div><div class=xMenu_tag><a href=../tags/dmi/>DMI (1)</a></div><div class=xMenu_tag><a href=../tags/etf/>ETF (1)</a></div><div class=xMenu_tag><a href=../tags/fp/>FP (1)</a></div><div class=xMenu_tag><a href=../tags/ifrs/>IFRS (1)</a></div><div class=xMenu_tag><a href=../tags/ma/>M&amp;A (1)</a></div><div class=xMenu_tag><a href=../tags/macd/>MACD (1)</a></div><div class=xMenu_tag><a href=../tags/%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3%E5%8F%96%E5%BC%95/>オプション取引 (1)</a></div><div class=xMenu_tag><a href=../tags/%E3%82%B9%E3%83%88%E3%82%AD%E3%83%A3%E3%82%B9%E3%83%86%E3%82%A3%E3%82%AF%E3%82%B9/>ストキャスティクス (1)</a></div><div class=xMenu_tag><a href=../tags/%E3%83%84%E3%83%BC%E3%83%AB/>ツール (1)</a></div><div class=xMenu_tag><a href=../tags/%E3%83%87%E3%83%AA%E3%83%90%E3%83%86%E3%82%A3%E3%83%96/>デリバティブ (1)</a></div><div class=xMenu_tag><a href=../tags/%E3%83%A2%E3%83%A1%E3%83%B3%E3%82%BF%E3%83%A0/>モメンタム (1)</a></div><div class=xMenu_tag><a href=../tags/%E3%83%AA%E3%82%B9%E3%82%AF/>リスク (1)</a></div><div class=xMenu_tag><a href=../tags/%E4%BC%9A%E8%A8%88/>会計 (1)</a></div><div class=xMenu_tag><a href=../tags/%E5%82%B5%E6%A8%A9/>債権 (1)</a></div><div class=xMenu_tag><a href=../tags/%E5%8F%A3%E5%BA%A7/>口座 (1)</a></div><div class=xMenu_tag><a href=../tags/%E6%8A%95%E8%B3%87%E4%BF%A1%E8%A8%97%E3%83%95%E3%82%A1%E3%83%B3%E3%83%89/>投資信託・ファンド (1)</a></div><div class=xMenu_tag><a href=../tags/%E7%94%A8%E8%AA%9E/>用語 (1)</a></div></div><a href=../tags/ style="display:block;padding:.2em .4em;margin:.3em;font-size:smaller">すべて表示 …</a></div></div><script>const NUM_TAGS=10;function getRandomItemsFromArray(e,t){const n=e.sort(()=>Math.random()-.5);return n.slice(0,t)}const containerElem=document.getElementById("local-tag-container"),tagElems=document.querySelectorAll(".xMenu_tag"),tagArray=Array.from(tagElems),shuffledTags=getRandomItemsFromArray(tagArray,NUM_TAGS);containerElem.innerHTML="",shuffledTags.forEach(e=>containerElem.appendChild(e))</script><div class=xMenu_box data-sticky><h3 class=xMenu_box_title>トレードツール</h3><div class=xMenu_box_body><div style=height:65px;overflow:hidden;border-radius:5px><a href="https://www.tradingview.com/chart/?aff_id=135484" rel=nofollow target=_blank><img style=width:100%;object-fit:cover src=https://s3.tradingview.com/pub/referrals/creatives/WT/JP/200x200SmallSquare.jpg></a></div><div style=margin-top:5px><a href="https://px.a8.net/svt/ejp?a8mat=3NCT8C+EV8PMA+1WP2+65EOH" rel=nofollow target=_blank><img style=border-radius:5px border=0 width=234 height=60 alt src="https://www22.a8.net/svt/bgt?aid=220627452899&wid=001&eno=01&mid=s00000008903001033000&mc=1"></a>
<img border=0 width=1 height=1 src="https://www18.a8.net/0.gif?a8mat=3NCT8C+EV8PMA+1WP2+65EOH" alt></div></div></div><div class=xMenu_box data-sticky><br></div></div><div id=sidebar_fixed style=position:-webkit-sticky;position:sticky;top:4rem></div></div></nav><main id=xMain><div id=redirect-notification style=display:none;font-size:smaller;padding:1em>Web サイトの URL が変わりました。ブックマークの変更をお願いします。<br>変更前: <s>https://memoja.net</s><br>変更後: <a href=https://toushi.maku.blog>https://toushi.maku.blog</a><br></div><script>const url=new URL(document.location);if(url.searchParams.get("redirected_from")==="memoja.net"){const e=document.getElementById("redirect-notification");e.style.display="block",url.searchParams.delete("redirected_from"),history.replaceState({},"",url)}</script><style>#xSearchBox input{margin:.5em .8em;color:#ff1493;font-size:1.2em;font-weight:bolder}#xSearchBox input::-webkit-input-placeholder{color:pink}#result{margin:1em}.item_title{text-decoration:none;color:#36f;font-weight:bolder}.item_excerpt{background:#fff;margin:.5em 2em 1em;padding:.5em;border:dashed 1px #d3d3d3;font-size:smaller}.item_excerpt b{background:pink}</style><article style="padding:1rem 0"><h2>サイト内全文検索</h2><div id=xSearchBox><input id=query onkeyup='location.replace("#"+this.value)' size=15 autocomplete=off autofocus placeholder=検索ワード>
<span id=inputWord></span> <span id=resultCount></span></div><div id=result></div></article><script>const data=[{url:"/p/vhu6hs4/",title:"MetaTrader/MQL: 基本",date:"2023-07-16T00:00:00Z",body:"MetaTrader/MQL: 基本"},{url:"/p/vu3bapp/",title:"MetaTrader の使い方",date:"2020-11-03T00:00:00Z",body:"MetaTrader の使い方"},{url:"/p/5wet9n3/",title:"EasyLanguage のコーディングルール（スタイル）",date:"2020-04-18T00:00:00Z",body:"EasyLanguage のコーディングルール（スタイル） スペース インデントは半角スペース x4 で行う（タブは使用しない）。 大文字・小文字 小文字で始める 制御構文: if、begin、and など プリミティブ型名: bool、double、null、スキップワード（a、at など） 変数定義: input: で宣言する入力変数や var: で宣言するローカル変数 大文字で始める 関数: AverageFC、StdDev など（ユーザー定義関数を含む） 売買命令: Buy、SellShort など（関数名っぽいので大文字で） 組み込み変数: Open、Close、CurrentBar、Date、Time など すべて大文字 定数: const: で宣言するもの 変数宣言のセクション名 入力変数は input:、定数は const:、変数は var: を使う（一番短い記述のものを採用）。 記述例 input: iPrice(Close) [DisplayName = &#34;Price&#34;, ToolTip = &#34;Enter an EasyLanguage expression.&#34;]; const: BASELINE_COLOR(&#34;Green&#34;); var: double myAvg(0), HorizontalLine myLine1(null), HorizontalLine myLine2(null); // ここから本文 上記では、入力変数のプレフィックスに i、ローカル変数のプレフィックスに my を付けていますが、付けなくても OK（myAvg の代わりに avg とかでよい）。 ただし、定義済みの変数名や関数名と被るのを避けるために、プレフィックスを付けるのをオススメします。 改行位置 then や begin は基本的に同じ行に続けて記述、end; は単独行に記述。 if AlertEnabled and alertCondition then begin if alertCond1 then Alert(&#34;Close crossed under high retrace&#34;) else Alert(&#34;Close crossed over low retrace&#34;); end; ただし、関数（メソッド）定義の場合は、begin の前に var 定義が挟まるので、その場合は begin は単独行に記述します。 method void printRgb(double inColor, string inName) var: Color objColor; begin objColor = Color.FromARGB(inColor); Print(string.Format(&#34;{0}: {1} ({2},{3},{4})&#34;, inName, objColor.Name, objColor.R, objColor.G, objColor.B)); end;"},{url:"/p/7y8y8yw/",title:"テクニカル指標の一覧",date:"2017-09-24T00:00:00Z",body:"テクニカル指標の一覧 テクニカル指標の種類 テクニカル指標は大きく分けて、トレンド系（順張り系）とオシレーター系（逆張り系）の指標に分けることができます。 トレンド系（順張り系） トレンド系の指標は相場の方向性を判断するために用いられます。移動平均線などが代表的です。 オシレーター系／モメンタム系（逆張り系） オシレータ系の指標は、相場の勢いや、買われ過ぎや売られ過ぎなどの情報を示します。オシレータ (oscillator) とは「振動するもの」という意味を持っており、その名の通り、一定の範囲内で値が上下する性質を持っています。 テクニカル指標一覧 指標名（英語） 指標名（日本語） モメンタム系 トレンド系 移動平均 特殊 オプション ノート その他 回帰分析 Awesome Oscillator Least Squares Moving Average Linear Regression (Least Square) Linear Regression Curve Linear Regression Intercept Linear Regression R-Squared Linear Regression Slope Raff Channel Standard Deviation Channel ボラティリティ ATR: Average True Range Chaikin Volatility Chande Volatility Index Dynamic Average Historical Volatility Ratio Relative Volatility Index 出来高分析 Klinger Volume Oscillator Negative Volume Index Percentage Volume Oscillator Positive Volume Index Volume ＊ PMO Volume Exponential Moving Average Volume Oscillator Volume Simple Moving Average Volume Weighted Moving Average オン・バランス・ボリューム (OBV) 加重平均価格"},{url:"/p/5q5gs5g/",title:"MetaTrader/MQL: カスタムインジケーターを作成する",date:"2015-02-01T00:00:00Z",body:"MetaTrader/MQL: カスタムインジケーターを作成する カスタムインジケータの作成 ここでは、最初のステップとして、ローソク足の終値をラインで結ぶだけのカスタムインジケータを作成してみます。 Meta Editor 上で Control + N を押して、Custom Indicator を選択すると、カスタムインジケータのファイルを新規作成することができます。 下記は、終値を結ぶラインを引く簡単なインジケーターの実装例です。 MyIndicator.mt4 #property strict #property indicator_chart_window #property indicator_buffers 1 #property indicator_plots 1 // Default properties for Line 1 #property indicator_label1 &#34;Line 1&#34; #property indicator_type1 DRAW_LINE #property indicator_color1 clrRed #property indicator_style1 STYLE_SOLID #property indicator_width1 1 // Buffer for indicator line double gBuffer[]; int OnInit() { SetIndexBuffer(0, gBuffer, INDICATOR_DATA); return INIT_SUCCEEDED; } int OnCalculate( const int rates_total, // ローソク足の数 const int prev_calculated, // 前回の OnCalculate() の戻り値 const datetime &amp;time[], // ローソク足ごとの時刻 [0..rates_total-1] const double &amp;open[], // ローソク足ごとの始値 [0..rates_total-1] const double &amp;high[], // ローソク足ごとの高値 [0..rates_total-1] const double &amp;low[], // ローソク足ごとの安値 [0..rates_total-1] const double &amp;close[], // ローソク足ごとの終値 [0..rates_total-1] const long &amp;tick_volume[], const long &amp;volume[], const int &amp;spread[]) { // 終値をそのままインデックス・バッファに詰める for (int i = 0; i &lt; rates_total; ++i) { gBuffer[i] = close[i]; } // 最新の終値をチャートの左上に表示 Comment(time[0] + &#34; -- &#34; + close[0]); // 次の OnCalculate() の prev_calculated にこの値が入る return rates_total; } 各パートの説明 プロパティ設定 #property indicator_chart_window // チャート上に表示する #property indicator_buffers 1 // 使用する時系列バッファの数（表示用 ＋ 計算用） #property indicator_plots 1 // 使用する時系列バッファの数（表示用） このプロパティでは、カスタムインジケータをローソクチャート上に重ねて表示すること、ラインを 1 本だけ使用することを宣言しています。 仮に、別ウィンドウでインジケータを表示したい場合は、indicator_chart_window の代わりに indicator_separate_window を指定します。 #property indicator_label1 &#34;Line 1&#34; #property indicator_type1 DRAW_LINE // 表示方法: ライン #property indicator_color1 clrRed // 色: 赤 #property indicator_style1 STYLE_SOLID // ラインの種類: 実線 #property indicator_width1 1 // 太さ: 1 上記のプロパティでは、表示用の 1 本目のラインの設定を行っています。ここではラインが 1 本だけですが、複数のラインを表示するカスタムインジケータを作る場合は、各プロパティ名のサフィックスを 2、3、4 と増やしていきます。 OnInit 関数 // Buffer for indicator line double gBuffer[]; int OnInit() { SetIndexBuffer(0, gBuffer, INDICATOR_DATA); // SetIndexBuffer(0, gBuffer); と省略しても OK return INIT_SUCCEEDED; } 最初に一度だけ呼ばれる OnInit 関数の中では、配列 gBuffer を、画面表示用のバッファ (INDICATOR_DATA) として割り当てています。 このバッファに値を設定することで、画面上にインジケータが表示されることになります。 デフォルトで INDICATOR_DATA が使われるので、SetIndexBuffer(0, gBuffer) と省略して記述することもできます。 もし、計算用としてだけ使うバッファを追加で割り当てたい場合は、INDICATOR_CALCULATIONS というタイプを指定して割り当てます（この場合、プログラム先頭部分の indicator_buffers プロパティの値を 2 に増やします）。 OnCalculate 関数 int OnCalculate( const int rates_total, const int prev_calculated, const datetime &amp;time[], const double &amp;open[], const double &amp;high[], const double &amp;low[], const double &amp;close[], const long &amp;tick_volume[], const long &amp;volume[], const int &amp;spread[]) { // 終値をそのままインデックス・バッファに詰める for (int i = 0; i &lt; rates_total; ++i) { gBuffer[i] = close[i]; } // 最新の終値をチャートの左上に表示 Comment(time[0] + &#34; -- &#34; + close[0]); // 次の OnCalculate() の prev_calculated にこの値が入る return rates_total; } 計算のメイン部分となるのが OnCalculate 関数です。 OnCalculate 関数は、tick（価格の更新）が発生するごとに呼び出されます。 チャート上のローソク足の数や、始値、終値などの情報がパラメーターとして渡されるので、これらの値を使って指標の値を計算します。 OnCalculate 関数のパラメーター（抜粋） int rates_total &hellip; ローソク足の数 const datetime &amp;time[] &hellip; ローソク足が確定した時刻（time[0] が最新のローソク足） const double &amp;open[] &hellip; ローソク足ごとの始値（open[0] が最新のローソク足） const double &amp;high[] &hellip; ローソク足ごとの高値（high[0] が最新のローソク足） const double &amp;low[] &hellip; ローソク足ごとの安値（low[0] が最新のローソク足） const double &amp;close[] &hellip; ローソク足ごとの終値（close[0] が最新のローソク足） 価格などを示すデータは、配列の形で渡されます。 配列のインデックス 0 が最新のローソク足の価格を表しています（直感とは逆かもしれないので注意）。 ローソク足の本数は rates_total で渡されるので、配列のインデックスとしては、0（最新の値）〜 rates_total-1（一番古い値）の範囲で指定することができます。 例えば以下のような感じです。 close[rates_total - 1] &hellip; チャート上の左端のローソク足の終値 close[0] &hellip; チャート上の右端のローソク足の終値 以下のようにすべてのローソク足の終値を、インジケータ用のバッファにそのまま設定してやることで、終値を結ぶインジケータを表示しています。 for (int i = 0; i &lt; rates_total; ++i) { gBuffer[i] = close[i]; } 実は、OnCalculate 関数が呼び出されるたびに gBuffer[] のすべての値を再設定する必要はありません。 前回の呼び出しでセットした値は、gBuffer[] に保持されているためです。 次に、これを利用した最適化方法を説明します。 カスタムインジケータの OnCalculate 関数を最適化する カスタムインジケータの計算部分を担う OnCalculate 関数は、価格の変化（NewTick イベント）ごとに呼び出されますが、prev_calculated パラメーターの値をうまく使うことで、すでに計算済みの値を再計算しないでも済むように処理を最適化できます。 下記の OnCalculate 実装では、インジケータ用のバッファー (gBuffer) に、各ローソク足の終値をセットしています。 // double gBuffer[]; // Buffer for indicator line /** * How many candles should be re-calculated. */ int changedBars(int rates_total, int prev_calculated) { if (prev_calculated == 0) { return rates_total; } // The latest bar should be updated, so add 1. return rates_total - prev_calculated + 1; } int OnCalculate(const int rates_total, const int prev_calculated, const datetime &amp;time[], const double &amp;open[], const double &amp;high[], const double &amp;low[], const double &amp;close[], const long &amp;tick_volume[], const long &amp;volume[], const int &amp;spread[]) { // 直近から見て何本のローソク足に対して計算が必要か？ int changed = changedBars(rates_total, prev_calculated); // インジケータの計算（新しく計算した部分だけ更新すれば OK） for (int i = 0; i &lt; changed; ++i) { gBuffer[i] = close[i]; } // 計算済みローソク足の数を返す return rates_total; } パラメータで渡される prev_calculated の値には、前回の OnCalculate 関数の戻り値として返した値が入ってきます。 つまり、OnCalculate 関数の戻り値として、いくつのローソク足の計算を終えたか (= rates_total) を返しておくことで、次回の OnCalculate 関数のパラメータ prev_calculated でその値を受け取ることができるということです。 OnCalculate 関数が呼び出された時、gBuffer 配列には、すでに prev_calculated の数だけ計算結果が格納されています。 例えば、現在のローソク足の数が 5 本 (rates_total=5) で、前回の計算数が 4 本 (prev_calculated=4) である場合、gBuffer の構成は下記のようになります。 gBuffer[0] ... 計算が必要（最新の価格） gBuffer[1] ... 計算済み gBuffer[2] ... 計算済み gBuffer[3] ... 計算済み gBuffer[4] ... 計算済み gBuffer の要素が 1 つシフトしていることに注意してください。前回の OnCalculate() で計算した gBuffer[0]〜gBuffer[3] の値は、今回の呼び出し時点では gBuffer[1]〜gBuffer[4] の位置に保持されています。常にインデックス 0 が最新の要素になるということです。 通常の配列は勝手に値がシフトしていくことはありませんが、gBuffer は、OnInit 関数の中で SetIndexBuffer を使ってデータバッファとして設定したため、このような動作をすることになります。 rates_total にはローソク足の総数、prev_calculated には計算済みの数が入っているので、新たに計算すべきローソク足の本数は下記のように計算することができます。 // 直近から見て何本のローソク足に対して計算が必要か？ int changed = (prev_calculated == 0) ? rates_total : rates_total - prev_calculated + 1; 例えば、新しく計算しなければならない足の本数が 10 本ならば、changed が 10 になります。 最初はひとつも計算していない状態 (prev_calculated == 0) なので、ローソク足の総数 (rates_total) の分すべて計算する必要があります。 2 回目以降の計算では、すでに前回の計算結果が保持されている (prev_calculated != 0) なので、その分だけ計算すべきローソク足の数は減ります。 ここで、1 を足しているのは、最新のローソク足の分を常に再計算するためです。 なぜなら、OnCalculate 関数はティック（価格変化）ごとに呼び出されるので、多くの場合最新のローソク足の終値が更新されているからです。"},{url:"/p/zjv8is4/",title:"MetaTrader/MQL: 情報取得",date:"2021-02-13T00:00:00Z",body:"MetaTrader/MQL: 情報取得"},{url:"/p/n8is3ck/",title:"MQL プログラミング",date:"2020-05-11T00:00:00Z",body:"MQL プログラミング MT4 Build 574 からは、MQL5 と MQL4 の構文が統一されました。 このサイトでは、この新しい構文を使ったコードを示します。"},{url:"/p/qboyakv/",title:"MetaTrader/MQL: 注文を出す",date:"2021-02-02T00:00:00Z",body:"MetaTrader/MQL: 注文を出す"},{url:"/p/br2airy/",title:"MetaTrader/MQL: カスタムインジケーター",date:"2023-06-18T00:00:00Z",body:"MetaTrader/MQL: カスタムインジケーター"},{url:"/p/g3fr3ep/",title:"MetaTrader/MQL: チャートを操作する",date:"2021-02-13T00:00:00Z",body:"MetaTrader/MQL: チャートを操作する"},{url:"/p/bw6tgck/",title:"MetaTrader/MQL: CTrade クラスで注文を出す (MT5)",date:"2020-11-08T00:00:00Z",body:"MetaTrader/MQL: CTrade クラスで注文を出す (MT5) MQL で注文を出すときは、クラスベースの CTrade や、関数ベースの OrderSend を使用します。 ここでは、CTrade クラスを使って注文を出す方法を説明します。 OrderSend 関数と違い、CTrade クラスは注文の種類ごとにメソッド名が Buy、Sell、BuyLimit のように分かれている ので、わかりやすいコードを記述することができます。 CTrade クラスのインクルード トレード用クラス のひとつである CTrade クラス を使用すると、取引のための注文を出したり、注文をキャンセルしたりできます。 Ctrade クラスを使用するには、次のように Trade/Trade.mql ヘッダファイルをインクルードする必要があります。 #include &lt;Trade/Trade.mqh&gt; CTrade trade; // CTrade インスタンスの生成 成行注文を出す (CTrade.Buy, Sell) カレントシンボルの成行注文 CTrade.Buy メソッド で 成行の買い 注文を出すことができます。 第 1 引数 (volume) だけが必須で、ここで取引のロット数（0.1 なら 1万通貨）を指定します。 許容するスリッページ（ポイント数）は、CTrade.SetDeviationInPoints メソッド で指定できます。 次のスクリプトを実行すると、現在のシンボルを 0.1 ロット購入します。 Scripts/Buy.mq5（成行買いのスクリプト実装例） #include &lt;Trade/Trade.mqh&gt; // CTrade const double LOT = 0.1; // 取引するロット数（ボリューム） 0.1 = 1万通貨 /** スクリプトのエントリポイント */ void OnStart() { CTrade trade; trade.SetDeviationInPoints(5); // 許容するスリッページ（ポイント数）を設定 if (!trade.Buy(LOT)) { // 現在のチャートの通貨を、現在の買値 (Ask) で購入 printTradeError(trade); } } /** トレード関数がエラーになったときのエラー出力 */ void printTradeError(const CTrade&amp; trade) { uint code = trade.ResultRetcode(); string desc = trade.ResultRetcodeDescription(); printf(&#34;ERROR(%u): %s&#34;, code, desc); } 成行の売り 注文を出したいときは、CTrade.Buy メソッドの代わりに CTrade.Sell メソッド を使用します。 パラメータは買い注文と同様です。 いろいろな条件の成行注文 CTrade.Buy メソッドのシグネチャは次のようになっており、第 2 引数以降で条件を指定して注文を出すことができます。 第 1 引数だけ指定した場合は、カレントチャートの通貨を、指定したロット数だけ成行買いすることになります。 CTrade クラスの Buy メソッド bool Buy( double volume, // ポジションボリューム（0.1 = 1 万通貨） const string symbol=NULL, // シンボル（NULL なら現在のシンボル） double price=0.0, // 価格（0 なら現在の買値 (Ask)） double sl=0.0, // 決済逆指値（同時に損切りの逆指値注文を出す） double tp=0.0, // 決済指値（同時に利食いの指値注文を出す） const string comment=&#34;&#34; // コメント ) 次のサンプルスクリプトでは、成行の買い注文を入れると同時に、損切り (stop loss) を 100 ポイント下（USDJPY ならおそらく 0.1 円）、利確 (take profit) を 200 ポイント上に設定します。 Scripts/BuyWithStopLoss.mq5 #include &lt;Trade/Trade.mqh&gt; void OnStart() { CTrade trade; // 許容するスリッページ（ポイント数）を設定 trade.SetDeviationInPoints(5); // 損切り価格、利食い価格を指定して成行の買い注文 string sym = _Symbol; // カレントチャートの通貨 double lot = 0.1; // ロット数 double ask = SymbolInfoDouble(sym, SYMBOL_ASK); // 現在の買値 double sl = ask - pointToPrice(sym, 100); // 損切りは 100 ポイント下 double tp = ask + pointToPrice(sym, 200); // 利食いは 200 ポイント上 if (!trade.Buy(lot, sym, ask, sl, tp)) { printTradeError(trade); } } // 指定した通貨において、ポイント数を価格に変換します。 double pointToPrice(string symbol, uint point) { double rate = SymbolInfoDouble(symbol, SYMBOL_POINT); return rate * point; } 参考: 現在の通貨／シンボルのポイントサイズを調べる (Point, SymbolInfoDouble) 指値注文、逆指値注文を出す (CTrade.BuyLimit, BuyStop, SellLimit, SellStop) CTrade.Buy や CTrade.Sell メソッドの代わりに、次のようなメソッドを使用することで、指値注文や逆指値注文を出すことができます。 パラメータは成行注文とほぼ同様ですが、待機注文になるため、有効期限などを指定できるようになっています。 CTrade.BuyLimit メソッド &hellip; 買い指値注文（現在 Ask 値より低い値段に買い予約） CTrade.BuyStop メソッド &hellip; 買い逆指値注文（現在 Ask 値より高い値段に買い予約） CTrade.SellLimit メソッド &hellip; 売り指値注文（現在 Bid 値より高い値段に売り予約） CTrade.SellStop メソッド &hellip; 売り逆指値注文（現在 Bid 値より低い値段に売り予約） マジックナンバーを指定する (Ctrade.SetExpertMagicNumber) EA で注文を出す場合は、あらかじめ CTrade.SetExpertMagicNumber メソッド を使ってマジックナンバーを設定しておく必要があります。 次のサンプルコードは、初回の NewTick イベントで買い注文を入れる EA の実装例です。 グローバル変数が増えるとコードが読みにくくなるので、取引まわりの処理は MyAlgo クラスにまとめています。 Experts/BuyOnce.mq5（EA の例） #property strict #include &lt;Trade/Trade.mqh&gt; // CTrade input double Lot = 0.1; // 取引するロット数（ボリューム） input ulong Slippage = 3; // 最大許容スリッページポイント // Auto-generated by https://toushi.maku.blog/p/p6fgxgf/ input ulong Magic = 58146000; // EA のマジックナンバー class MyAlgo { CTrade m_trade; bool m_isOrdered; // 一度だけオーダーするためのフラグ public: void Init() { m_isOrdered = false; m_trade.SetDeviationInPoints(Slippage); // 最大許容スリッページポイント m_trade.SetExpertMagicNumber(Magic); // EA のマジックナンバーを設定 } /** 最初の呼び出し時のみ、成行買いを行います。 */ void BuyOnce() { if (m_isOrdered) return; m_isOrdered = true; // 現在のチャートの通貨を、現在の買値 (Ask) で購入 if (!m_trade.Buy(Lot)) printTradeError(m_trade); } private: /** トレード関数がエラーになったときのエラー出力 */ void printTradeError(const CTrade&amp; trade) { uint code = trade.ResultRetcode(); string desc = trade.ResultRetcodeDescription(); printf(&#34;ERROR(%u): %s&#34;, code, desc); } }; MyAlgo g_algo; int OnInit() { g_algo.Init(); return INIT_SUCCEEDED; } void OnTick() { g_algo.BuyOnce(); }"},{url:"/p/vyt8n3g/",title:"EasyLanguage: ペイントバーを作成する",date:"2020-05-06T00:00:00Z",body:"EasyLanguage: ペイントバーを作成する ペイントバーとは？ ペイントバーは、その名の通り、チャートのローソク足（バー）に色を付ける機能です。 通常、チャートの足は、陽線（赤）と陰線（青）で色分けしますが、ペイントバーを使用すると、任意の条件でバーを色分けすることができます。 上の日足チャートでは、月曜日のバーを緑色で描画するようにしています。 ペイントバーの新規作成 新しくペイントバーを作成するには、TradeStation 開発環境のメニューから下記のように辿ります。 ファイル → 新規作成 → ペイントバー インジケーター として新規作成してしまうと、ペイントバー の実装は行えないので注意してください（後述の PaintPB を呼び出せません）。 ペイントバーの実装 下記は、木曜日のローソク足に色を付けるペイントバーの実装例です。 #PB_Monday if DayOfWeek(Date) = Monday then begin PlotPB(High, Low, &#34;Monday&#34;, Green); end; ローソク足に色をつけるには、PlotPB（あるいは PlotPaintBar）を使用します。 PlotPB(価格1, 価格2, プロット名, 色); 例: PlotPB(High, Low, &quot;MyPB&quot;, Yellow); &hellip; ローソク足全体に色を付ける PlotPB(Open, Close, &quot;MyPB&quot;, Yellow); &hellip; 実体部分（ひげを除く）に色を付ける 第 1 引数と、第 2 引数の上下関係は入れ替わっても同じ振る舞いになります。"},{url:"/p/ct3bjry/",title:"EasyLanguage: レーダースクリーン用のインジケーターを作成する",date:"2020-05-03T00:00:00Z",body:"EasyLanguage: レーダースクリーン用のインジケーターを作成する インジケーターの新規作成 レーダースクリーン用のインジケーターを新しく作成するには、トレードステーション開発環境のメニューから、 ファイル → 新規作成 → インジケーター と辿ります。 インジケーターは、デフォルトでは「チャート分析」ウィンドウと、「レーダースクリーン」ウィンドウの両方に適用できるように設定されています（Plot1 や Plot2 で出力した値がどちらのウィンドウでも使われます）。 インジケーターを「レーダースクリーン」専用にするには、新規作成ダイアログで、下記のように「チャート分析」のチェックボックスを外します。 このようにインジケーターを作成すると、「レーダースクリーン」をアクティブにして分析テクニックを挿入するときだけ、インジケーターがリストに表示されるようになります。 レーダースクリーン用のインジケーター実装サンプル ここでは、下の図のように、レーダースクリーン上に 4 つの指標（指標1 〜 指標4）を表示するインジケーターを作成してみます。 !TestRader once begin // テキスト色 SetPlotColor(1, Cyan); SetPlotColor(2, Red); SetPlotColor(3, White); SetPlotColor(4, White); // 背景色 SetPlotBgColor(1, DarkBlue); SetPlotBgColor(2, DarkRed); SetPlotBgColor(3, Black); SetPlotBgColor(4, RGB(50, 80, 50)); end; once (LastBarOnChart) begin Plot1(100, &#34;指標1&#34;); Plot2(200, &#34;指標2&#34;); Plot3(&#34;買い？&#34;, &#34;指標3&#34;); Plot4(&#34;売りでしょ&#34;, &#34;指標3&#34;); end; 各セルのテキスト色や背景色は、SetPlotColor および SetPlotBgColor で設定することができます。 上記では、once begin でインジケーターのアタッチ時に一度だけ色設定しているので、全ての銘柄で同じ色になっていますが、本来は、何らかのシグナルが発生しているときにハイライト表示すると分かりやすいです。 セルに表示する値は、チャート分析のインジケーター同様、Plot1 や Plot2 を使用します。 第 1 引数で表示する値を指定するのですが、ここには数字だけでなく、文字列を指定することもできます。 第 2 引数には、カラム名として表示される文字列を指定します。 省略することもできますが、その場合は Plot1、Plot2 のように意味不明なカラム名になってしまうので、必ず指定するようにしましょう。 コードを保存して、F3 キーでコンパイルすれば完成です。 レーダースクリーンに追加する 作成したインジケーターをレーダースクリーンに適用するには、レーダースクリーンをアクティブにした状態で、下記のような方法で追加ダイアログを開きます。 Alt + C ホットキー .iat &lt;Enter&gt; コマンド 右クリック → すべての分析テクニックを設定 メニューから 挿入 → インジケーター 左側のリストから挿入したいインジケーターを選択し、追加 ボタンを押せば OK です。 逆に、必要のないインジケーターをこのダイアログでまとめて削除することもできます。"},{url:"/p/fsy7djp/",title:"MetaTrader/MQL: カスタムインジケーターに水平線を表示する (IndicatorSet*)",date:"2015-06-14T00:00:00Z",body:"MetaTrader/MQL: カスタムインジケーターに水平線を表示する (IndicatorSet*) IndicatorSetXxx() 系の関数を使用して、インジケーターに水平線を表示することができます。 下記の例では、0.1 と -0.1 の値の位置に水平線を表示しています（0.0 の位置には、デフォルトで水平線が表示されるようです）。 void InitLevelLines() { // The number of horizontal lines. IndicatorSetInteger(INDICATOR_LEVELS, 2); // First line settings. IndicatorSetString(INDICATOR_LEVELTEXT, 0, &#34;Upper line&#34;); IndicatorSetDouble(INDICATOR_LEVELVALUE, 0, 0.1); IndicatorSetInteger(INDICATOR_LEVELSTYLE, 0, STYLE_DASHDOT); IndicatorSetInteger(INDICATOR_LEVELCOLOR, 0, clrPink); IndicatorSetInteger(INDICATOR_LEVELWIDTH, 0, 1); // Second line settings. IndicatorSetString(INDICATOR_LEVELTEXT, 1, &#34;Lower line&#34;); IndicatorSetDouble(INDICATOR_LEVELVALUE, 1, -0.1); IndicatorSetInteger(INDICATOR_LEVELSTYLE, 1, STYLE_DASHDOT); IndicatorSetInteger(INDICATOR_LEVELCOLOR, 1, clrPink); IndicatorSetInteger(INDICATOR_LEVELWIDTH, 1, 1); } int OnInit() { // ... InitLevelLines(); // ... return INIT_SUCCEEDED; }"},{url:"/p/ugs5fq2/",title:"MetaTrader/MQL: カスタムインジケーターで使用できるイベント",date:"2015-06-10T00:00:00Z",body:"MetaTrader/MQL: カスタムインジケーターで使用できるイベント カスタムインジケーターのプログラム内で、決まったシグネチャ（関数名やパラメーター構成）で関数を定義しておくと、特定のイベント発生時に自動的にその関数を呼び出してくれるようになります。 参考リンク アプリの種類ごとに扱えるイベントハンドラーの一覧 EA で使用できるイベント スクリプトで使用できるイベント カスタムインジケーターでは次のようなイベントハンドラーを定義することができます。 OnInit 関数 int OnInit(void); インジケーターの OnInit() 関数は、Init イベントが発生したときに呼び出されます。 Init イベントは次のようなタイミングで発生します。 インジケーターが最初にチャートにアタッチされたとき チャートのシンボル（USDJPY など）やタイムフレーム（時間足）が変更されたとき MetaEditor 上でインジケーターが再コンパイルされたとき インジケーターの入力パラメータがダイアログから変更されたとき このハンドラー関数内では、描画用バッファーの初期化などを行います。 戻り値が void のバージョンもありますが、互換性のために残されているだけなので、int を返すバージョンを使ってください。 OnDeinit 関数 void OnDeinit(const int reason); インジケーターの OnDeinit 関数は、次のようなタイミングで呼び出されます（参考: Uninitialization Reason Codes）。 パラメータ部分の const を省略して int reason と記述したりすると、ちゃんと呼び出されないので注意してください。 説明 定数 チャートからインジケーターをデタッチしたとき REASON_REMOVE (1) MetaEditor 上でインジケーターが再コンパイルされたとき REASON_RECOMPILE (2) チャートのシンボル（USDJPY など）やタイムフレーム（時間足）が変更されたとき REASON_CHARTCHANGE (3) チャートを閉じたとき REASON_CHARTCLOSE (4) インジケーターの入力パラメータがダイアログから変更されたとき REASON_PARAMETERS (5) 別のアカウントで接続されたとき REASON_ACCOUNT (6) テンプレートが適用されて、インジケーターが設定されたチャートが開くとき REASON_TEMPLATE (7) OnInit() 処理が失敗して 0 以外の値を返したとき REASON_INITFAILED (8) ターミナル (MetaTrader) を閉じたとき REASON_CLOSE (9) OnCalculate 関数 int OnCalculate( const int rates_total, // price[] array size const int prev_calculated, // number of handled bars at the previous call const int begin, // index number in the price[] array meaningful data starts from const double&amp; price[] // array of values for calculation ); int OnCalculate( const int rates_total, // size of input time series const int prev_calculated, // bars handled in previous call const datetime&amp; time[], // Time const double&amp; open[], // Open const double&amp; high[], // High const double&amp; low[], // Low const double&amp; close[], // Close const long&amp; tick_volume[], // Tick Volume const long&amp; volume[], // Real Volume const int&amp; spread[] // Spread ); インジケーターの OnCalculate() 関数は、Calculate イベントが発生したとき（最新の価格が変化したとき）に呼び出されます。 インジケーターを最初にチャートにアタッチしたときにも呼び出されます。 OnTimer 関数 void OnTimer(void); インジケーターの OnTimer() 関数は、Timer イベントが発生したときに呼び出されます。 EventSetTimer() 関数でセットした秒数ごとに Timer イベントが発生します。タイマーのセットは、通常 OnInit() 関数で行います。 OnChartEvent 関数 void OnChartEvent() const int id, // event ID const long&amp; lparam, // long type event parameter const double&amp; dparam, // double type event parameter const string&amp; sparam // string type event parameter ); インジケーターの OnChartEvent() 関数は、ChartEvent イベントが発生したときに呼び出されます。 EventChartCustom() 関数を使うと、独自の ChartEvent イベントを発生させることができます。 OnBookEvent 関数 void OnBookEvent(const string&amp; symbol); インジケーターの OnBookEvent() 関数は、BookEvent イベントが発生したときに呼び出されます。 （おまけ）インジケーターのイベントをすべて表示するインジケーター https://github.com/maku77/metatrader/blob/main/MQL5/Indicators/maku77/IndicatorEvents.mq5"},{url:"/p/du6env6/",title:"MetaTrader/MQL: 描画オブジェクトの基本 (ObjectCreate, ObjectDelete, ObjectSetXxx)",date:"2021-02-13T00:00:00Z",body:"MetaTrader/MQL: 描画オブジェクトの基本 (ObjectCreate, ObjectDelete, ObjectSetXxx) 描画オブジェクトの作成 (ObjectCreate) MetaTrader のチャート上に何らかの図形を描画するには、ObjectCreate 関数（日本語）を使って、描画オブジェクトを生成します。 ObjectCreate 関数 bool ObjectCreate( long chart_id, // チャート ID（0 ならカレントチャート） string name, // オブジェクト名 ENUM_OBJECT type, // オブジェクトの種類 int sub_window, // サブウィンドウ番号（0 ならメインウィンドウ） datetime time1, // 1 番目のアンカーポイントの時刻 double price1, // 1 番目のアンカーポイントの価格 ... // : datetime time30=0, // 30番目のアンカーポイントの時刻 double price30=0 // 30番目のアンカーポイントの価格 ); chart_id / sub_window chart_id 引数と sub_window 引数には、どのチャートの、どのウィンドウに描画オブジェクトを表示するかを指定します。 カレントチャートのメインウィンドウに表示するのであれば、両方とも 0 を指定しておけば OK です。 name name 引数では、作成する描画オブジェクトに名前を付けます。 描画オブジェクトの各種プロパティを設定するときは、この名前で描画オブジェクトを指定することになります。 名前はチャート内（サブウィンドウを含む）で一意でなければいけません。 ただし、使用上 63 文字までしか使えないので、その範囲で他のインジケーターとできるだけ被らない名前を付ける必要があります。 簡単なテクニックとして、次のようなプレフィックスマクロを定義しておけば、 #define OBJ_PREFIX &#34;MY_INDI_&#34; オブジェクト名が必要なところで次のように使えます。 文字列リテラルを並べると自動的に結合されるので、+ 演算子を使った文字列結合は必要ないことに注意してください。 string name1 = OBJ_PREFIX &#34;LABEL_1&#34;; //=&gt; &#34;MY_INDI_LABEL_1&#34; になる string name2 = OBJ_PREFIX &#34;LABEL_2&#34;; //=&gt; &#34;MY_INDI_LABEL_2&#34; になる type type 引数では、どのような種類の描画オブジェクトを作成するかを指定します。 例えば、ラベルであれば OBJ_LABEL を指定し、水平線であれば OBJ_HLINE を指定します。 time1 / price1 time1 引数や price1 引数では、描画オブジェクトのアンカーポイントを指定します。 アンカーポイントとは、描画オブジェクトの表示位置を示す座標情報です。 描画オブジェクトの種類によって、アンカーポイントをいくつ指定しなければいけないかが決まっています（0 個以上）。 例えば、長方形オブジェクト (OBJ_RECTANGLE) やトレンドラインオブジェクト (OBJ_TREND) の場合は、2 つのアンカーポイント（time1、price1、time2、price2）を指定する必要があります。 ラベルオブジェクト (OBJ_LABEL) のように、アンカーポイントをまったく使用しない描画オブジェクトもあります（ラベルの表示位置は OBJPROP_XDISTANCE などのプロパティで指定します）。 その場合でも、ObjectCreate 関数の使用上、1 つはアンカーポイントを指定しなければいけません。 ラベルオブジェクトを作成する場合は、time1 引数と price1 引数には、適当に 0 を指定しておけば OK です。 次のインジケーターでは、CreateObject 関数を使って、1 つの水平線オブジェクト (OBJ_HLINE) を作成しています。 水平線は 1 つのアンカーポイント（price1 のみ）を使用します。 Scripts/Test.mq5 #property strict #property indicator_chart_window #property indicator_plots 0 input double Price = 100; // 水平線を引く価格 int OnInit() { ObjectCreate(0, &#34;HLINE_1&#34;, OBJ_HLINE, 0, 0, Price); return INIT_SUCCEEDED; } int OnCalculate(const int rates_total, const int prev_calculated, const int begin, const double &amp;price[]) { return rates_total; } 描画オブジェクトの削除 (ObjectDelete, ObjectDeleteAll) 描画オブジェクトを 1 つずつ削除（ObjectDelete） CreateObject で作成した描画オブジェクトは、ObjectDelete 関数（日本語）を使って削除することができます。 ObjectDelete 関数 bool ObjectDelete(long chart_id, string name); インジケーターの OnDeinit 関数内で呼び出すようにしておけば、インジケーターをチャートからデタッチしたときに、自動的に描画オブジェクトを削除できます。 Indicators/Test.mq5（抜粋） input double Price = 105; // 水平線をひく価格 #define OBJ_PREFIX &#34;MY_INDI_&#34; int OnInit() { ObjectCreate(0, OBJ_PREFIX &#34;HLINE_1&#34;, OBJ_HLINE, 0, 0, Price); return INIT_SUCCEEDED; } void OnDeinit(const int reason) { ObjectDelete(0, OBJ_PREFIX &#34;HLINE_1&#34;); ObjectFind(0, OBJ_PREFIX &#34;HLINE_1&#34;); // 確実に反映させる } 注意点としては、ObjectDelete 関数は非同期で実行されるため、OnDeinit 関数で単独で呼び出しても処理が即座に反映されないことがあるということです（市場がクローズしているときなど）。 この問題を解決するには、ObjectDelete 関数の後ろで、ObjectFind 関数など同期実行される関数を呼び出しておきます。 描画オブジェクトをまとめて削除 (ObjectsDeleteAll) ObjectDeleteAll 関数（日本語）を使うと、指定したチャート内の描画オブジェクトをまとめて削除することができます。 ObjectDeleteAll 関数 int ObjectsDeleteAll( long chart_id, // チャート識別子 int sub_window=-1, // ウィンドウ番号 int type=-1 // オブジェクトの型 ); int ObjectsDeleteAll( long chart_id, // チャート識別子 const string prefix, // オブジェクト名のプレフィックス int sub_window=-1, // ウィンドウ番号 int object_type=-1 // オブジェクトの型 ); 2 つ目のバージョンでは、指定したプレフィックスを名前に持つ描画オブジェクトだけをまとめて削除することができます。 これを使えば、インジケーターが自分で追加したオブジェクトだけをまとめて削除することができます。 次のインジケーターは、チャートへのアタッチ時に 3 つの水平線を生成し、デタッチ時に自分が作成した水平線をすべて削除します。 Indicators/Test.mq5 #property strict #property indicator_chart_window #property indicator_plots 0 input double Price = 105; // 水平線をひく価格 // 描画オブジェクトのプレフィックス #define OBJ_PREFIX &#34;MY_INDI_&#34; int OnInit() { // 同じプレフィックスで描画オブジェクトを生成する ObjectCreate(0, OBJ_PREFIX &#34;HLINE_UPPER&#34;, OBJ_HLINE, 0, 0, Price - 0.5); ObjectCreate(0, OBJ_PREFIX &#34;HLINE_MIDDLE&#34;, OBJ_HLINE, 0, 0, Price); ObjectCreate(0, OBJ_PREFIX &#34;HLINE_LOWER&#34;, OBJ_HLINE, 0, 0, Price + 0.5); return INIT_SUCCEEDED; } void OnDeinit(const int reason) { // 同じプレフィックスを持つ描画オブジェクトをすべて削除する ObjectsDeleteAll(0, OBJ_PREFIX); } int OnCalculate(const int rates_total, const int prev_calculated, const int begin, const double &amp;price[]) { return rates_total; } 描画オブジェクトの設定 (ObjectSetXxx) ObjectCreate 関数によって描画オブジェクトを作成したら、あとは次のような関数を使って各種プロパティを設定していきます。 ObjectSetInteger 関数（日本語）&hellip; 整数型のプロパティを設定 ObjectSetDouble 関数（日本語）&hellip; 浮動小数点数型のプロパティを設定 ObjectSetString 関数（日本語）&hellip; 文字列型のプロパティを設定 次のサンプルスクリプトでは、ラベルオブジェクト作成し、上記の関数を使ってフォントサイズや表示位置の設定を行っています。 Indicators/Test.mq5（ラベルを右下に表示） #property strict #property indicator_chart_window #property indicator_plots 0 // 描画オブジェクトのプレフィックス #define OBJ_PREFIX &#34;MY_INDI_&#34; int OnInit() { // ラベルを作成する string name = OBJ_PREFIX &#34;LABEL_1&#34;; ObjectCreate(0, name, OBJ_LABEL, 0, 0, 0); // 表示するテキスト、色、フォントサイズを設定 ObjectSetString(0, name, OBJPROP_TEXT, &#34;Hello&#34;); ObjectSetInteger(0, name, OBJPROP_COLOR, clrYellow); ObjectSetInteger(0, name, OBJPROP_FONTSIZE, 20); // ラベルはチャートの右下に表示する ObjectSetInteger(0, name, OBJPROP_CORNER, CORNER_RIGHT_LOWER); ObjectSetInteger(0, name, OBJPROP_ANCHOR, ANCHOR_RIGHT_LOWER); ObjectSetInteger(0, name, OBJPROP_XDISTANCE, 10); ObjectSetInteger(0, name, OBJPROP_YDISTANCE, 10); // 直ちに画面に反映させる ChartRedraw(); return INIT_SUCCEEDED; } void OnDeinit(const int reason) { ObjectsDeleteAll(0, OBJ_PREFIX); } int OnCalculate(const int rates_total, const int prev_calculated, const int begin, const double &amp;price[]) { return rates_total; }"},{url:"/p/nb7h9vg/",title:"MetaTrader/MQL: アカウント情報（口座情報）を取得する (AccountInfo*) (MT5)",date:"2021-01-12T00:00:00Z",body:`MetaTrader/MQL: アカウント情報（口座情報）を取得する (AccountInfo*) (MT5) MQL5 の下記の関数を使用すると、現在の口座の情報（証拠金残高や損益合計など）を取得することができます。 関数は、戻り値の型によって使い分けます。 long AccountInfoInteger(ENUM_ACCOUNT_INFO_INTEGER) &hellip; 戻り値が整数（あるいは bool）の口座情報 double AccountInfoDouble(ENUM_ACCOUNT_INFO_DOUBLE) &hellip; 戻り値が浮動小数点数の口座情報 string AccountInfoDouble(ENUM_ACCOUNT_INFO_STRING) &hellip; 戻り値が文字列の口座情報 デポジット通貨を取得する 口座の入出金に使用される通貨（デポジット通貨）は、下記のようにして取得することができます。 // 口座の通貨（&#34;JPY&#34; など） string currency = AccountInfoString(ACCOUNT_CURRENCY); 口座残高、純資産の情報を取得する 口座の証拠金情報は、AccountInfoDouble を使用して取得することができます。 通貨が日本円 (JPY) の場合は小数点数以下の情報は必要ありませんが、いろいろな通貨を扱えるようにするために戻り値は double 型になっています。 // 証拠金残高（ポジションを取っても変化せず、決済した時点で増減する） double balance = AccountInfoDouble(ACCOUNT_BALANCE); // 評価損益（ポジションを閉じると証拠金残高に反映される） double profit = AccountInfoDouble(ACCOUNT_PROFIT); // 純資産（証拠金残高＋評価損益） double equity = AccountInfoDouble(ACCOUNT_EQUITY); Alert(StringFormat(&#34;Balance: %.0f, Profit: %.0f, Equity: %.0f&#34;, balance, profit, equity)); 純資産は評価損益を加味したものですので、balance + profit = equity が成り立っているはずです。 必要証拠金や有効証拠金の情報を取得する 現在のポジションのために使用している 必要証拠金 や、さらにどれだけのエントリができるかを表す 有効証拠金 の情報を取得するには、下記のようにします。 // 純資産 double equity = AccountInfoDouble(ACCOUNT_EQUITY); // 必要証拠金（ポジションや予約注文のために使用している証拠金） double margin = AccountInfoDouble(ACCOUNT_MARGIN); // 有効証拠金（使用可能な証拠金の残り金額） double freeMargin = AccountInfoDouble(ACCOUNT_MARGIN_FREE); Alert(StringFormat( &#34;Equity: %.0f, Margin: %.0f, FreeMargin: %.0f&#34;, equity, margin, freeMargin)); 有効証拠金は、純資産から必要証拠金を引いた残りの金額なので、上記の結果は equity = margin + freeMargin となっているはずです。 証拠金維持率を取得する 証拠金維持率 (%) に関する情報を取得するには下記のようにします。 マージンコールがかかる維持率の情報を取得することもできます。 // 証拠金維持率 (%)（純資産／必要証拠金） double marginLevel = AccountInfoDouble(ACCOUNT_MARGIN_LEVEL); // マージンコールがかかる証拠金維持率 (Margin call level: %) double marginSoCall = AccountInfoDouble(ACCOUNT_MARGIN_SO_CALL); // 強制ロスカットがかかる証拠金維持率 (Stop out level: %) double marginSoSo = AccountInfoDouble(ACCOUNT_MARGIN_SO_SO); Alert(StringFormat( &#34;MarginLevel: %.2f%%, MarginSoCall: %.2f%%, MarginSoSo: %.2f%%&#34;, marginLevel, marginSoCall, marginSoSo)); ちなみに、ちょくちょく出てくる So というのは Stop Out の略です。 証拠金維持率は、現在の必要証拠金 (margin) に対する純資産 (equity) の割合ですから、下記のように計算することもできます。 double equity = AccountInfoDouble(ACCOUNT_EQUITY); double margin = AccountInfoDouble(ACCOUNT_MARGIN); double marginLevel = equity * 100 / margin; Alert(StringFormat(&#34;MarginLevel: %.2f%%&#34;, marginLevel)); レバレッジ情報を取得する 現在の口座のレバレッジ設定を取得するには下記のようにします。 例えば、レバレッジ 25 倍の口座であれば、25 という値が取得できます。 long leverage = AccountInfoInteger(ACCOUNT_LEVERAGE); Alert(StringFormat(&#34;Leverage: %d&#34;, leverage)); すべてのアカウント情報を表示するスクリプト 最後に、簡単にすべてのアカウント情報を表示するスクリプトの実装例を紹介しておきます。 次のスクリプトを実行すると、すべてのアカウント情報をメッセージボックスで表示します。 Scripts/maku/ShowAccountInfo.mq5 #property strict /** * AccountInfoInteger API で取得できるアカウント情報を取得する。 */ string getAccountInfoInteger() { // 口座番号 long login = AccountInfoInteger(ACCOUNT_LOGIN); // 口座取引モード ENUM_ACCOUNT_TRADE_MODE tradeMode = (ENUM_ACCOUNT_TRADE_MODE) AccountInfoInteger(ACCOUNT_TRADE_MODE); // 口座レバレッジ long leverage = AccountInfoInteger(ACCOUNT_LEVERAGE); // アクティブな未決注文の最大許容数 long limitOrders = AccountInfoInteger(ACCOUNT_LIMIT_ORDERS); // 許容された最小証拠金を設定するモード ENUM_ACCOUNT_STOPOUT_MODE marginSoMode = (ENUM_ACCOUNT_STOPOUT_MODE) AccountInfoInteger(ACCOUNT_MARGIN_SO_MODE); // 口座で取引が許可されているか bool tradeAllowed = AccountInfoInteger(ACCOUNT_TRADE_ALLOWED); // エキスパートアドバイザーで取引が許可されているか bool tradeExpert = AccountInfoInteger(ACCOUNT_TRADE_EXPERT); // 証拠金計算モード ENUM_ACCOUNT_MARGIN_MODE marginMode = (ENUM_ACCOUNT_MARGIN_MODE) AccountInfoInteger(ACCOUNT_MARGIN_MODE); // 取引結果を正確に表示するために必要な口座通貨の小数点以下の桁数 int currencyDigits = (int) AccountInfoInteger(ACCOUNT_CURRENCY_DIGITS); // FIFOルールによってのみポジションを決済できることを示す bool fifoClose = AccountInfoInteger(ACCOUNT_FIFO_CLOSE); string s; StringConcatenate(s, &#34;----- AccountInfoInteger -----&#34; &#34;\\nACCOUNT_LOGIN = &#34;, login, &#34;\\nACCOUNT_TRADE_MODE = &#34;, tradeMode, &#34; (&#34;, EnumToString(tradeMode), &#34;)&#34;, &#34;\\nACCOUNT_LEVERAGE = &#34;, leverage, &#34;\\nACCOUNT_LIMIT_ORDERS = &#34;, limitOrders, &#34;\\nACCOUNT_MARGIN_SO_MODE = &#34;, marginSoMode, &#34; (&#34;, EnumToString(marginSoMode), &#34;)&#34;, &#34;\\nACCOUNT_TRADE_ALLOWED = &#34;, tradeAllowed, &#34;\\nACCOUNT_TRADE_EXPERT = &#34;, tradeExpert, &#34;\\nACCOUNT_MARGIN_MODE = &#34;, marginMode, &#34; (&#34;, EnumToString(marginMode), &#34;)&#34;, &#34;\\nACCOUNT_CURRENCY_DIGITS = &#34;, currencyDigits, &#34;\\nACCOUNT_FIFO_CLOSE = &#34;, fifoClose ); return s; } /** * AccountInfoDouble API で取得できるアカウント情報を取得する。 */ string getAccountInfoDouble() { // 証拠金残高（円） double balance = AccountInfoDouble(ACCOUNT_BALANCE); // 信用額（円） double credit = AccountInfoDouble(ACCOUNT_CREDIT); // 評価損益（円） double profit = AccountInfoDouble(ACCOUNT_PROFIT); // 純資産（証拠金残高 - 損益）（円） double equity = AccountInfoDouble(ACCOUNT_EQUITY); // 必要証拠金（円） double margin = AccountInfoDouble(ACCOUNT_MARGIN); // 有効証拠金（円） double marginFree = AccountInfoDouble(ACCOUNT_MARGIN_FREE); // 証拠金維持率（％） double marginLevel = AccountInfoDouble(ACCOUNT_MARGIN_LEVEL); // マージンコール値（ACCOUNT_MARGIN_SO_MODE によってパーセントまたは預金通貨） double marginSoCall = AccountInfoDouble(ACCOUNT_MARGIN_SO_CALL); // 強制ロスカット値（ACCOUNT_MARGIN_SO_MODE によってパーセントまたは預金通貨） double marginSoSo = AccountInfoDouble(ACCOUNT_MARGIN_SO_SO); // 当初証拠金（全ての未決注文の証拠金をカバーするために口座内でリザーブされた額） double marginInitial = AccountInfoDouble(ACCOUNT_MARGIN_INITIAL); // 維持証拠金（全ての未決済ポジションの最小額をカバーするために口座内でリザーブされた最低資本金） double marginMaintenance = AccountInfoDouble(ACCOUNT_MARGIN_MAINTENANCE); // 流動資産？ double assets = AccountInfoDouble(ACCOUNT_ASSETS); // 流動負債？ double liabilities = AccountInfoDouble(ACCOUNT_LIABILITIES); // 拘束された手数料の額 double commissionBlocked = AccountInfoDouble(ACCOUNT_COMMISSION_BLOCKED); // 文字列に結合して返す int digits = (int) AccountInfoInteger(ACCOUNT_CURRENCY_DIGITS); int soDigits = AccountInfoInteger(ACCOUNT_MARGIN_SO_MODE) == ACCOUNT_STOPOUT_MODE_PERCENT ? 1 : digits; string s; StringConcatenate(s, &#34;----- AccountInfoDouble -----&#34;, &#34;\\nACCOUNT_BALANCE = &#34;, DoubleToString(balance, digits), &#34;\\nACCOUNT_CREDIT = &#34;, DoubleToString(credit, digits), &#34;\\nACCOUNT_PROFIT = &#34;, DoubleToString(profit, digits), &#34;\\nACCOUNT_EQUITY = &#34;, DoubleToString(equity, digits), &#34;\\nACCOUNT_MARGIN = &#34;, DoubleToString(margin, digits), &#34;\\nACCOUNT_MARGIN_FREE = &#34;, DoubleToString(marginFree, digits), &#34;\\nACCOUNT_MARGIN_LEVEL = &#34;, DoubleToString(marginLevel, 1), &#34;\\nACCOUNT_MARGIN_SO_CALL = &#34;, DoubleToString(marginSoCall, soDigits), &#34;\\nACCOUNT_MARGIN_SO_SO = &#34;, DoubleToString(marginSoSo, soDigits), &#34;\\nACCOUNT_MARGIN_INITIAL = &#34;, DoubleToString(marginInitial, digits), &#34;\\nACCOUNT_MARGIN_MAINTENANCE = &#34;, DoubleToString(marginMaintenance, digits), &#34;\\nACCOUNT_ASSETS = &#34;, DoubleToString(assets, digits), &#34;\\nACCOUNT_LIABILITIES = &#34;, DoubleToString(liabilities, digits), &#34;\\nACCOUNT_COMMISSION_BLOCKED = &#34;, DoubleToString(commissionBlocked, digits) ); return s; } /** * AccountInfoString API で取得できるアカウント情報を取得する。 */ string getAccountInfoString() { // クライアント名 string name = AccountInfoString(ACCOUNT_NAME); // 取引サーバー名 string server = AccountInfoString(ACCOUNT_SERVER); // 口座の通貨名 string currency = AccountInfoString(ACCOUNT_CURRENCY); // 口座を提供している会社名 string company = AccountInfoString(ACCOUNT_COMPANY); return &#34;---- AccountInfoString ----&#34; + &#34;\\nACCOUNT_NAME = &#34; + name + &#34;\\nACCOUNT_SERVER = &#34; + server + &#34;\\nACCOUNT_CURRENCY = &#34; + currency + &#34;\\nACCOUNT_COMPANY = &#34; + company; } /** * スクリプトのエントリーポイント。 */ void OnStart() { MessageBox( getAccountInfoInteger() + &#34;\\n\\n&#34; + getAccountInfoDouble() + &#34;\\n\\n&#34; + getAccountInfoString() ); } 実行結果 ----- AccountInfoInteger ----- ACCOUNT_LOGIN = 123456789 ACCOUNT_TRADE_MODE = 0 (ACCOUNT_TRADE_MODE_DEMO) ACCOUNT_LEVERAGE = 25 ACCOUNT_LIMIT_ORDERS = 0 ACCOUNT_MARGIN_SO_MODE = 0 (ACCOUNT_STOPOUT_MODE_PERCENT) ACCOUNT_TRADE_ALLOWED = true ACCOUNT_TRADE_EXPERT = true ACCOUNT_MARGIN_MODE = 2 (ACCOUNT_MARGIN_MODE_RETAIL_HEDGING) ACCOUNT_CURRENCY_DIGITS = 0 ACCOUNT_FIFO_CLOSE = false ----- AccountInfoDouble ----- ACCOUNT_BALANCE = 2998975 ACCOUNT_CREDIT = 0 ACCOUNT_PROFIT = -46086 ACCOUNT_EQUITY = 2952889 ACCOUNT_MARGIN = 203632 ACCOUNT_MARGIN_FREE = 2749257 ACCOUNT_MARGIN_LEVEL = 1450.1 ACCOUNT_MARGIN_SO_CALL = 100.0 ACCOUNT_MARGIN_SO_SO = 100.0 ACCOUNT_MARGIN_INITIAL = 0 ACCOUNT_MARGIN_MAINTENANCE = 0 ACCOUNT_ASSETS = 0 ACCOUNT_LIABILITIES = 0 ACCOUNT_COMMISSION_BLOCKED = 0 ---- AccountInfoString ---- ACCOUNT_NAME = maku ACCOUNT_SERVER = OANDA-Japan MT5 Demo ACCOUNT_CURRENCY = JPY ACCOUNT_COMPANY = OANDA Corporation`},{url:"/p/mpq5zks/",title:"MetaTrader で新規注文を出す（新規注文ウィンドウ）",date:"2019-04-11T00:00:00Z",body:"MetaTrader で新規注文を出す（新規注文ウィンドウ） 新規注文ウィンドウを開く MetaTrader による通貨の売買は、通常は新規注文ウィンドウから行います。 新規注文ウィンドウは、次のようにいろいろな方法で表示することができます。 F9 キーを押す（これが素早くてオススメ） メニューから ツール → 新規注文 と選択する チャートを右クリックして、注文発注 → 新規注文 と選択する ツールバー上の 新規注文 ボタンを押す 気配値表示 のウィンドウで、通貨ペアをダブルクリックする 新規注文ウィンドウの使い方 証券会社が提供する MetaTrader によって、新規注文のウィンドウ内の表示は微妙に異なる可能性はありますが、だいたい上記のような構成で表示されるはずです。 一番重要なところは売買する通貨量を設定する**数量（ロット）**の部分で、MT では通常は 1 ロットが 10 万通貨単位を示しています。 例えば、USDJPY を数量 1 で買うと、10 万ドルを買うという意味になります。 日本の FX 会社の説明などでは、1 万通貨を基本サイズとして説明されることが多いので注意してください。 1 万通貨の売買を行いたい場合は、数量を 0.1 に設定しておきます。 成行注文（ストリーミング注文） 現在の価格で売買を行いたい場合は、注文種別 の部分でストリーミング注文や、成行注文を選択します（ここの表示は FX 会社によって微妙に異なります）。 この状態で、成行売り や 成行買い のボタンを押すと、指定したロット数が約定して次のように表示されます。 通常は、ボタンを押したときに表示されていた価格で約定しますが、ボラティリティの大きい相場のとき（雇用統計時など）には、大きく価格が動くため約定に失敗することがあります。 このようなケースでは、下の方に表示されている 表示価格との価格誤差を有効にする にチェックを入れておくと、数ポイントのスリッページを許容し、約定させることができます（この機能が提供されているかどうかは FX 会社によります）。 指値注文 指定した価格での売買（指値・逆指値注文）を行いたい場合は、注文種別 の部分で 指値注文 (Pending Order) を選択します（待機注文と表示されている場合もあります）。 すると、さらに下記のような 注文種別 を選択できるようになります。 Buy Limit（買い指値） &hellip; 現在より安く（有利な価格で）買う Sell Limit（売り指値） &hellip; 現在より高く（有利な価格で）売る Buy Stop（買い逆指値） &hellip; 現在より高く（不利な価格で）買う Sell Stop（売り逆指値） &hellip; 現在より安く（不利な価格で）売る 新規注文と同時に利確／損切の注文を入れる 新規注文ウィンドウから注文を出すとき、利益確定のための注文（決済逆指値 (S/L)）や、損切りのための注文（決済指値 (T/P)）を同時に入れておくことも出来ます。 参考: 利益確定と損切りの注文を入れる"},{url:"/p/zha2yzb/",title:"テンバガーになりやすい銘柄とは",date:"2018-04-08T00:00:00Z",body:"テンバガーになりやすい銘柄とは マーケットアナライズ＋の四季報特集で、テンバガーになりやすい企業の傾向を分析していました。 テンバガーを達成した企業が、10年前にどのような企業であったかを調べ、現在それと同じような状況にある企業を探せばよい、という理屈です。 実際にテンバガーになった企業が10年前にどのような企業だったかをざっとまとめると以下のような感じだそうです。 経営形態 &hellip; オーナー系・同族が80％を占める 上場からの年数 &hellip; ５年未満が60％を占める 東証33業種別 &hellip; サービスが30％、小売が29%、情報通信が10%を占める 時価総額 &hellip; 200億円未満が80％を占める 営業利益 &hellip; 20億円未満が72％を占める ふむふむ。 オーナー系で、サービス業や小売業を営んでいて、比較的規模が小さいところを探せってことですね。 もっともな感じですけど、こういった条件でスクリーニングして、そこにドカンと投資すればよいというわけではないことに注意しなくちゃですね。 似たような分析ってよくありますけど、リスクに関して同時に語らないところはちょっと不公平さを感じます。 確かに、テンバガーを達成しやすい企業は上記のような傾向があるのかもしれませんが、同時に倒産しやすい企業である可能性もあります。 そういったリスクの傾向まで示すのが本物の分析ですよね。 とはいえ、手っ取り早くテンバガーを狙いたいのであれば、創業してあまり年数が経っておらず、比較的規模の小さい企業を探した方がよいというのはセオリーですから、リスクも高いだろうと認識した上で、無理のない範囲で投資していきたいところです。"},{url:"/p/rc2n8kr/",title:"債券の基礎",date:"2016-07-31T00:00:00Z",body:"債券の基礎 債券とは 債券は 有価証券の一種 で、「国」「地方公共団体」「一般の企業」などが、多額のお金 を調達するために発行するものです。 返却の時期（償還期限）があらかじめ決められていますが、債券は 売買が可能 であるため、株式と同じように取引され、刻々と価格が変化します。 発行者にとって 債券は、不特定多数の人からお金を借りられるというところに特徴があります。 債券の発行側にとっては、不特定多数の人から借りることによって、償還日まで計画的に資金運用できるというメリットがあります。 購入者にとって 債券を購入する人にとっては、多くの人が取引に参加していることで流動性が確保されているところにメリットがあります。 特に、国が発行する 国債の安全性は高い とされており、安全資産として活用されています。 債権の三原則 下記は債券の三原則と呼ばれており、すべてにおいて有利なものは存在しないと言われています。 収益性 ・・・ 利回りはどれくらいか 安全性 ・・・ 発行体は信頼できるか 流動性 ・・・ 換金しやすいか 債券の額面金額と発行価格 額面金額 債券の償還日になったときに 戻ってくる金額のことを額面金額 といいます。 昔は紙の形で債券が発行されており、金額がその券面に表記されていたので「額面」と呼ばれています。 発行価格 債券は市場で取引されるため、発行済みのもの（既発債）は刻々と価格が変わるのですが、発行時には価格が決められています（発行価格）。 この価格は、額面 100 円に対する価格として表示されます。 例えば、99円50銭などが発行価格となります。 利率と利回りの違い 利率 債券の額面金額に対して支払われる 1 年分の利子の割合のことを「利率」 といいます。 利率は債券が発行されるときに、2％などあらかじめ決められれています。 ある債券の「利率」は、発行されたときから変化しません。 利回り 一方で、「利回り」は実際の 1 年あたりの儲けの割合 を示しています。 債券の価格は常に変化しているため、安いときに買って、高いときに売れば「利回り」は高くなります。 もちろん「利回り」の計算には利子による儲けも含まれるため、「利率」の要素も含んでいることになります。 一般に、債券の利回りと言うと、現時点から償還期限まで持ち続けた場合の利回りを示します。 その他、債権の使われ方など 国債は生命保険会社の主な運用資産 多額の資産を長期に渡って運用しなければいけない銀行や生命保険会社では、比較的リスクの低い債券が活用されています。 特に、発行量の多い国債は、生命保険会社の中心的な投資対象となっています。 日本の巨大ファンドである GPIF（年金積立金管理運用独立行政法人）の資産内訳は公社債が70％弱を占めていましたが（2009年度）、安倍政権になり、よりリスクの高い株式の割合が大幅に増やされました。 金利の指標となる10年国債 世の中にはいろいろな金利（住宅ローンや預金金利）がありますが、その 金利の指標となっているのが長期金利（10年物の国債利回り） です。 銀行などが多額の資産を国債で運用していることを考えれば、その銀行によって提供される貸出金利が、国債の金利によって左右されるのは当然と言えば当然のことです。 日本国債 (JGB) だけでなく、アメリカの米国債や、ドイツのドイツ連邦債 (EGB) に関しても、10年物の利回りのことを長期金利と呼んでいます。 短期金利は日銀の政策金利によって大きく左右されますが、長期金利は市場で形成されていくと言われています。 債券の売買は店頭取引が中心 東証などの証券取引所でも取引されている債券はありますが、現物債と呼ばれる一般的な債券は、証券会社による店頭取引が中心 です（店頭と言っても、多くの取引は実際には電話やインターネット経由です）。 債券は市場で売買されるため、常に価格が変動しています。 景気が悪いときに買われる？ 景気が悪いときや、物価が下落しているときには債権が買われやすいと言われています。 それは下記のようなことが想定されるからです。 景気が悪くなる 日銀が景気刺激のために政策金利を引き下げる 回りまわって長期金利が下がる 債券価格が上がる また、景気が悪いときや金融危機が発生した場合には安全資産として国債が買われます。 その他 ハイイールド債は、本格的な景気回復の局面では、比較的安定したパフォーマンスを上げられると考えられています。"},{url:"/p/rk2hvbq/",title:"MetaTrader 用のプログラミング言語 MQL とは",date:"2014-11-09T00:00:00Z",body:"MetaTrader 用のプログラミング言語 MQL とは MQL は MetaQuotes Language の略であり、MetaQuotes Software 社の作成した言語です。MetaQuotes Software 社は FX トレードのためのソフトウェアである MetaTrader（Windows 用）を開発しており、MQL はこの中で動作するプログラムを作成するための言語です。MQL を使ってプログラムを作成すると、 自動売買を行うトレーディング・ロボット (Expert Advisor、通称 EA) カスタムインジケータ (Custom Indicator) 任意の処理を行うスクリプト (Script) などを作成することができます。MQL は C/C++ 言語をベースとした構文になっているため、C/C++ の経験者であれば簡単に使用することができます。 MetaTrader には、MQL でコーディングを行うための MetaEditor が付属しています。まずは MetaTrader をダウンロードしてインストールしましょう。現在公開されている MetaTrader にはバージョン 4 と 5 があり、それぞれの環境で使用可能な MQL のバージョンも異なります (MQL4 と MQL5)。日本の FX 会社が対応しているのは、主に MetaTrader 4 です。 MetaTrader 4 のダウンロード MetaTrader 5 のダウンロード 練習や、開発用途で使用するのであれば、MetaQuotes のサイトからダウンロードできる MetaTrader を使い、インストール時にデモアカウントを作成すれば十分です。 実際に FX 会社の口座を使って取引するための MetaTrader は、ほとんどの場合、その FX 会社がカスタマイズ版の MetaTrader として配布していますので、そちらを使うのがよいでしょう。 次のステップ → MQL で Hello World"},{url:"/p/qcp2cnx/",title:"MetaTrader/MQL: ポジション情報を取得する (PositionXxx) (MT5)",date:"2021-01-24T00:00:00Z",body:`MetaTrader/MQL: ポジション情報を取得する (PositionXxx) (MT5) ポジション情報の取得方法 MT5 で現在の口座のポジション情報を取得するには、下記のような関数に取得したい情報の enum 値を渡します。 long PositionGetInteger(ENUM_POSITION_PROPERTY_INTEGER) 戻り値が整数（あるいは bool や enum 値）のポジション情報 double PositionGetDouble(ENUM_POSITION_PROPERTY_DOUBLE) 戻り値が浮動小数点数のポジション情報 string PositionGetString(ENUM_POSITION_PROPERTY_STRING) 戻り値が文字列のポジション情報 あと後述しますが、これらの関数には、戻り値が bool 型になった別バージョンも用意されています。 これらの関数を呼び出す前に、どのポジションの情報を取得するかを、次のような関数を使って選択しておく必要があります。 これらの関数を呼び出した瞬間に、内部的にそのポジションの情報がコピーされ、上記の参照関数で取得できるようになるようです。 string PositionGetSymbol(int index) ポジションの インデックス番号 を指定してポジションを選択します。指定可能なインデックスの範囲は 0 〜 PositionsTotal() - 1 です。この関数は、ついでに選択したポジションのシンボル名を返します。ポジションを選択できなかった場合は、空文字列 (&quot;&quot;) を返します。 bool PositionSelect(string symbol) シンボル名 でポジションを選択します。主にシンボルごとにポジションが集約されるネットアカウントで使われますが、ヘッジアカウントで使用すると、そのシンボルのポジションのうち、最小インデックスのポジションが選択されます。 bool PositionSelectByTicket(ulong ticket) ポジションの チケット番号 を指定してポジションを選択します。通し番号ではなく、ポジションごとに割り当てられたユニークな ID であることに注意してください。 ☝️ ポジションの選択という煩わしさ ポジションに関する情報を取得する場合、「ポジションの選択 → そのポジションの情報取得」 という手順を踏まないといけないため、コーディングが非常に煩わしくなってしまいます。 非同期処理があたり前の昨今では、このような API 体系は設計が悪いとしか言いようがないのですが、こうなっている以上、これを使ってがんばるしかないです。 多くの EA では独自のラッパー関数を作成して、ポジションの選択と情報取得をまとめて行うようにしているようです。 戻り値が bool 型のバージョン PositionGetInteger、PositionGetDouble、PositionGetString 関数には、戻り値が bool 型になった次のようなオーバーロードが用意されています。 このバージョンを使うと、戻り値の真偽値によって、情報取得に成功したかどうかを判断できます。 取得した値は、2 つ目の引数で参照渡しした変数に格納されます。 bool PositionGetInteger( ENUM_POSITION_PROPERTY_INTEGER property_id, long&amp; long_var); bool PositionGetDouble( ENUM_POSITION_PROPERTY_DOUBLE property_id, double&amp; double_var); bool PositionGetString( ENUM_POSITION_PROPERTY_STRING property_id, string&amp; string_var); ポジション情報を取得できなかったときのエラーチェックを入れる場合は、こちらのバージョンを使うとコードの意味が伝わりやすくなるかもしれません。 とはいえ、戻り値が数値や文字列のバージョンでも、値の取得に失敗した場合は 0 や空文字列を返すようになっているので、エラーチェックを行えないということはありません。 戻り値で情報を取得するバージョン double volume = PositionGetDouble(POSITION_VOLUME); if (volume == 0) { // 情報を取得できなかった場合のエラー処理 } 戻り値で bool（成功 or 失敗）を返すバージョン double volume; if (!PositionGetDouble(POSITION_VOLUME, volume)) { // 情報を取得できなかった場合のエラー処理 } 大して変わらないので、好きな方を使えばよさそうです。 サンプルコード（ポジション情報を表示する） 次のサンプルスクリプトは、現在保有しているポジションの情報をメッセージボックスで表示します。 ポジションの数だけ表示されるので注意してください。 メッセージボックスのタイトルバーに、現在表示中のポジションのインデックス番号が表示されます。 Scripts/ShowPositionInfo.mq5 #property strict string getPositionInfoStr() { // ポジションのシンボル名（&#34;USDJPY&#34; など） string symbol = PositionGetString(POSITION_SYMBOL); // ポジションのコメント（オプショナル） string comment = PositionGetString(POSITION_COMMENT); // 外部の取引システム（取引所）におけるポジション ID string externalId = PositionGetString(POSITION_EXTERNAL_ID); string s; StringConcatenate(s, &#34;POSITION_SYMBOL = &#34;, symbol, &#34;\\nPOSITION_COMMENT = &#34;, comment, &#34;\\nPOSITION_EXTERNAL_ID = &#34;, externalId ); return s; } string getPositionInfoInteger() { // ポジションのチケット番号（MqlTradeRequest.position で使う） long ticket = PositionGetInteger(POSITION_TICKET); // リオープンされても変化しないポジションの ID long identifier = PositionGetInteger(POSITION_IDENTIFIER); // ポジションをオープンした日時の datetime 値 datetime time = (datetime) PositionGetInteger(POSITION_TIME); // ポジションをオープンした日時の　1970 年からの経過ミリ秒 long timeMsc = PositionGetInteger(POSITION_TIME_MSC); // ポジションの最終更新日時の datetime 値 datetime timeUpdate = (datetime) PositionGetInteger(POSITION_TIME_UPDATE); // ポジションの最終更新日時の 1970 年からの経過ミリ秒 long timeUpdateMsc = PositionGetInteger(POSITION_TIME_UPDATE_MSC); // ポジションの種類 ENUM_POSITION_TYPE type = (ENUM_POSITION_TYPE) PositionGetInteger(POSITION_TYPE); // ポジションの EA マジックナンバー long magic = PositionGetInteger(POSITION_MAGIC); // ポジションが何によって作られたか（モバイルアプリ、EAなど） ENUM_POSITION_REASON reason = (ENUM_POSITION_REASON) PositionGetInteger(POSITION_REASON); string s; StringConcatenate(s, &#34;POSITION_TICKET = &#34;, ticket, &#34;\\nPOSITION_IDENTIFIER = &#34;, identifier, &#34;\\nPOSITION_TIME = &#34;, time, &#34;\\nPOSITION_TIME_MSC = &#34;, timeMsc, &#34;\\nPOSITION_TIME_UPDATE = &#34;, timeUpdate, &#34;\\nPOSITION_TIME_UPDATE_MSC = &#34;, timeUpdateMsc, &#34;\\nPOSITION_TYPE = &#34;, type, &#34; (&#34;, EnumToString(type), &#34;)&#34;, &#34;\\nPOSITION_MAGIC = &#34;, magic, &#34;\\nPOSITION_REASON = &#34;, reason, &#34; (&#34;, EnumToString(reason), &#34;)&#34; ); return s; } string getPositionInfoDouble() { // ポジションのボリューム（ロット数） double volume = PositionGetDouble(POSITION_VOLUME); // ポジションオープン時の価格 double priceOpen = PositionGetDouble(POSITION_PRICE_OPEN); // 対象シンボルの現在価格 double priceCurrent = PositionGetDouble(POSITION_PRICE_CURRENT); // ポジションの損切価格 (Stop loss level) double sl = PositionGetDouble(POSITION_SL); // ポジションの利確価格 (Take profit level) double tp = PositionGetDouble(POSITION_TP); // このポジションでの損益 double profit = PositionGetDouble(POSITION_PROFIT); // このポジションでの累積スワップ double swap = PositionGetDouble(POSITION_SWAP); // ポジションの価格を小数点数以下何桁まで表示すればいいか int symbolDigits = (int) SymbolInfoInteger(PositionGetString(POSITION_SYMBOL), SYMBOL_DIGITS); // 損益と累積スワップをどの通貨で表示すればいいか string accountCurrency = AccountInfoString(ACCOUNT_CURRENCY); int accountDigits = (int) AccountInfoInteger(ACCOUNT_CURRENCY_DIGITS); string s; StringConcatenate(s, &#34;POSITION_VOLUME = &#34;, volume, &#34;\\nPOSITION_PRICE_OPEN = &#34;, DoubleToString(priceOpen, symbolDigits), &#34;\\nPOSITION_PRICE_CURRENT = &#34;, DoubleToString(priceCurrent, symbolDigits), &#34;\\nPOSITION_SL = &#34;, sl, &#34;\\nPOSITION_TP = &#34;, tp, &#34;\\nPOSITION_PROFIT = &#34;, DoubleToString(profit, accountDigits), &#34; &#34;, accountCurrency, &#34;\\nPOSITION_SWAP = &#34;, DoubleToString(swap, accountDigits), &#34; &#34;, accountCurrency ); return s; } void OnStart() { const int total = PositionsTotal(); for (int i = 0; i &lt; total; i++) { PositionGetSymbol(i); // ポジションを選択状態にする string s = StringFormat(&#34;%s\\n\\n%s\\n\\n%s&#34;, getPositionInfoStr(), getPositionInfoInteger(), getPositionInfoDouble()); MessageBox(s, StringFormat(&#34;Position[%d]&#34;, i)); } } 表示例 POSITION_SYMBOL = EURUSD POSITION_COMMENT = POSITION_EXTERNAL_ID = POSITION_TICKET = 1558806 POSITION_IDENTIFIER = 1558806 POSITION_TIME = 2021.01.07 21:42:30 POSITION_TIME_MSC = 1610055750757 POSITION_TIME_UPDATE = 2021.01.07 21:42:30 POSITION_TIME_UPDATE_MSC = 1610055750757 POSITION_TYPE = 0 (POSITION_TYPE_BUY) POSITION_MAGIC = 5432100 POSITION_REASON = 3 (POSITION_REASON_EXPERT) POSITION_VOLUME = 0.1 POSITION_PRICE_OPEN = 1.22690 POSITION_PRICE_CURRENT = 1.21694 POSITION_SL = 0.0 POSITION_TP = 0.0 POSITION_PROFIT = -10337 JPY POSITION_SWAP = -682 JPY`},{url:"/p/ay9a762/",title:"MQL で Hello World",date:"2020-10-27T00:00:00Z",body:"MQL で Hello World ここでは、MetaTrader の MetaEditor を使って、次のように Hello World と表示するだけの Script を作成してみます。 MetaEditor の起動 MQL でコーディングを行うためには、MetaTrader に付属している MetaEditor を使用します。MetaTrader の画面で下記のいずれかの方法で MetaEditor を起動します。 F4 キーを押す ツールバー上の Editor アイコン をクリックする メニューから ツール → MetaQuotes Language Editor を選択する Script ファイルの新規作成 MetaEditor が起動したら、下記のようにして新規コードを作成します。 最初に作成するファイルの種類を選ぶのですが、ここでは一番単純な「Script」を選択します。 Ctrl + N で新規作成ウィザード (MQL Wizard) を開く Script を選択 プロパティとして次のような感じで入力 名前: Scripts\\Hello 著作者: （空欄） リンク: （空欄） すると、Hello.mq4 というファイル（MQL5 の場合は Hello.mq5）というファイルが生成され、エディタが開きます。 ☝️ ワンポイント ここではファイルの種類として Script を選択しましたが、新規作成ウィザードから選択できるもののうち、下記のものが 実行可能 になるプログラムです。 エキスパートアドバイザー (Expert Advisor) &hellip; 自動売買用のプログラム（EAと呼ばれる） カスタム指標 (Custom Indicator) &hellip; 独自のインジケータを表示するためのプログラム スクリプト (Script) &hellip; 一度だけ実行するプログラム それ以外の Library などのファイルは、他のプログラムから共有して使用する関数群などを定義するためのファイルを作成したい時に使用します。 ソースコードの入力 MetaEditor 上で開いた Hello.mq4 ファイルに、次のように入力します。 Hello.mq4 (Hello.mq5) void OnStart() { MessageBox(&#34;Hello World&#34;, &#34;Sample&#34;); } Script のエントリポイントは、Start イベントをハンドルする、OnStart() という関数です。 この中に、メッセージボックスで Hello World と表示するコードを記述しています。 ソースコードのコンパイルと実行 MQL4/MQL5 のソースコードの拡張子は、それぞれ mq4 と mq5 ですが、このソースコードのままでは実行はできません。 C/C++ と同様に、実行する前にはコンパイルする必要があり、ex4、ex5 という拡張子の実行ファイルを作成する必要があります。 MetaEditor 上で作成しているコードをコンパイルするには、F7 キーを押します。 コンパイルに成功すると、MetaTrader のメイン画面の方の「ナビゲーター」ウィンドウに Hello スクリプトのアイコンが表示されます。 MetaTrader のメイン画面には、F4 キーで切り替えられます。 Hello スクリプトのアイコンをダブルクリックするとスクリプトを実行できます。 次のようなメッセージボックスが表示されれば成功です。 スクリプトは特定のチャートに関連付けて実行することができるため、スクリプトアイコンを、チャート上にドラッグ＆ドロップすることでもスクリプトを起動できます。"},{url:"/p/ta82y8n/",title:"MetaTrader でワンクリックオーダーを有効にして素早く注文する",date:"2019-04-11T00:00:00Z",body:"MetaTrader でワンクリックオーダーを有効にして素早く注文する ワンクリックオーダーを有効にする ワンクリックオーダーを有効にするには、下記のように設定します。 メニューから ツール → オプション を選択（あるいは Ctrl + O） 取引 タブを開き、ワンクリック注文 にチェックを入れて OK チャート上のトレードパネルからワンクリックで注文する ワンクリックオーダーの機能をもっとも直観的に使えるのは、チャートの左上に表示されるトレードパネル（ワンクリックトレード）でしょう。 トレードパネルは、チャート左上の下向き矢印をクリックするか、Alt + T で表示することができます。 ワンクリックオーダーが有効になっていると、左側のボタンで成行売り注文、右側のボタンで成行買い注文が一撃で実行されます。 ロット数（数量）は、中央の数字で調整します。 上記の例の場合は、0.1 になっているので、1 万通貨単位の売買になります。 板注文画面からの注文も一撃で終了 Alt + B を押すと、板注文画面を表示することができます。 ワンクリックオーダーが有効になっていると、この板注文画面で 売り、買い、決済 ボタンも押したときに即時に注文が実行されます。 決済 ボタンを押したときは、ターミナルの 取引 ペーンで選択されているポジションが決済されます。 また、この板注文画面で ▼ ボタンや ▲ ボタンをクリックすると、指値注文や逆指値注文を出せるのですが、これらの注文もワンクリックするだけで実行されます。 ポジションの決済も一撃で終了 ポジションを持っていると、ターミナルの 取引 タブに下記のようにポジションが一覧表示されます。 この右端に決済を行うための × ボタンが配置されていますが、ワンクリックオーダーが有効になっていると、このボタンを押した瞬間に決済が行われます。 ものすごくスピーディに決済処理できますが、間違ってクリックしないようにしましょう。 チャート上の利確ライン、損切りラインの調整も一撃で終了 チャート上にはポジションを取ったときの価格がラインで表示されており、このラインを上下にドラッグ＆ドロップすると、決済のための指値注文 (T/P: Take Profit)、逆指値注文 (S/L: Stop Loss) を設定することができます。 ワンクリックオーダーが有効になっていると、これらの注文もラインをドラッグ＆ドロップした瞬間に完了します。 すでに設定されている指値のライン、逆指値のラインも、ドラッグ＆ドロップだけで調整できるようになります。 簡単に変えられるからといって、ストップロスをずらし続けるのはやめようね（＾ー＾）"},{url:"/p/ryi6dov/",title:"社債の種類",date:"2016-08-29T00:00:00Z",body:"社債の種類 転換社債型新株予約権付社債、転換社債、CB (Convertible Bond) 決められた価格で株式に転換するすることができる新株予約権（旧称：転換請求権）の付いた社債です。 2002年4月の商法改正により、転換社債 (CB) は「転換社債型新株予約権付社債」と呼ばれるようになりました。 新株に転換する場合は、社債としての権利は失います。 社債としての機能と、新株予約権として機能は、どちらか一方だけを使用できるものなので、新株予約権部分と社債部分を分離して譲渡することはできません。 新株予約権を行使する際には、社債の償還金額が払い込み用の金額に充当されます。 新株予約権を行使しない場合は、確定利付証券として利子を受け取ることができ、最終的に償還期限を迎えて額面通りに払い戻されます。 新株予約権の設定条件によっては有利発行（既存株主の持ち分が希薄化される）とみなされることがあるため、転換社債を発行する前に、株主総会において特別決議が必要になることもあります。 ワラント債、新株引受権付社債 (bonds with warrant) 決められた行使価格で新株を購入する新株引受権（ワラント）の付いた社債です。 ワラントの魅力がある分だけ、通常の社債よりも安い金利で発行されます。 転換社債（転換社債型新株予約権付社債）とは異なり、株式を購入した後も社債が残るのが特徴です。 ワラント部分を分離して市場で売買できる分離型と、分離できない非分離型があります（「新株予約権を譲渡できない新株予約権付社債」とも呼ばれます）。 新株予約権付社債 2002年4月の商法改正で、**転換社債とワラント債（非分離型）は、まとめて「新株予約権付社債」**と呼ばれるようになりました。ただし、分離型のワラント債は新株予約権付社債に含まれません。 社債 新株予約権付社債 転換社債 (CB) &mdash; 社債を株と交換できる ワラント債（非分離型） &mdash; 安価に株を購入できる ワラント債（分離型） &mdash; 安価に株を購入できる（この権利だけ売却できる） 転換社債の転換請求権、ワラント歳の新株引受権（ワラント）、ストックオプションなどは、いずれも一定数の株式を決められた価格で購入することのできる権利であり、まとめて「新株予約権」と呼ばれます。 新株予約権を行使された場合、発行会社は新株を発行して渡すか、自己株式（金庫株）を渡すことになります（「新株予約権」という名前ですが、必ずしも新株を発行する必要はないというところに注意してください）。 他社株式転換債、他社株転換可能債、EB (Exchangeable Bond) EB債（他社株式転換債、他社株転換可能債）は、満期召喚前に別銘柄の株式に転換される可能性のある複雑な債権です。 発行者: 海外の政府系、あるいは民間の金融機関 円建て or 外貨建て: 円建て メリット: 円建てのため低金利だが、高いクーポンを得ることができる デメリット: 元本割れの可能性がある"},{url:"/p/h4fq2cm/",title:"MetaTrader/MQL: チャート上にラベルを描画する (OBJ_LABEL, CChartObjectLabel)",date:"2016-03-20T00:00:00Z",body:"MetaTrader/MQL: チャート上にラベルを描画する (OBJ_LABEL, CChartObjectLabel) ラベルオブジェクトについて 図: チャート上のラベル表示 ラベルオブジェクト (OBJ_LABEL) は、MetaTrader のチャート上に表示できる描画オブジェクトのひとつです。 ラベルオブジェクトの表示位置は、ウィンドウ上の左上を起点 (CORNER_LEFT_UPPER) として XY 座標が指定されるため、チャートを時間軸方向に移動させても、ラベルの表示位置は固定されて動きません（一方で、テキストオブジェクト (OBJ_TEXT) の場合は、表示位置が時間 (time) と価格 (price) で指定されるため、チャートの時間軸を移動させると同時に移動します）。 ラベルオブジェクトの作成 ラベルオブジェクトを作成するには、組み込み関数である ObjectCreate の type パラメータに OBJ_LABEL を指定します（ObjectCreate の詳しい使い方はこちら）。 bool ObjectCreate( long chart_id, // チャート識別子（0 はカレントチャート） string name, // オブジェクト名（ラベルの識別子） ENUM_OBJECT type, // オブジェクトの型（OBJ_LABEL を指定） int sub_window, // ウィンドウインデックス（0 はメインウィンドウ） datetime time1, // 1 番目のアンカーポイントの時間（ラベルの場合は使用しない） double price1, // 1 番目のアンカーポイントの価格（ラベルの場合は使用しない） // ...残りは省略可... ) 例えば、カレントチャート (chart_id=0) の、メインウィンドウ (sub_window=0) に表示するためのラベルオブジェクトを作成するには下記のようにします。 if (!::ObjectCreate(0, &#34;Label1&#34;, OBJ_LABEL, 0, 0, 0)) { // ラベルオブジェクトの作成に失敗 } ラベルオブジェクトは、チャート上に複数追加することができますが、これらのラベルは、チャート ID（chart_id パラメータ）と、オブジェクト名 (name) で識別することになります。 現在アクティブになっているチャートにラベルを追加するのであれば、chart_id は 0 に設定します。 オブジェクト名はチャートの中で一意 になるような名前を付けます。 すでに同じ名前のオブジェクトが存在する場合は、ObjectCreate は失敗します。 ラベルオブジェクトは、XY 座標指定で表示位置を指定するので、time1 パラメータと price1 パラメータは本来必要ないのですが、ObjectCreate 関数の仕様として、これらのパラメータが省略できないようになっているので、何らかの値を指定して呼び出す必要があります（イケてない・・・）。 ラベルオブジェクトのプロパティ設定 ラベルオブジェクトに表示するテキストや、表示位置などを設定するには、ObjectSetXxx 系のメソッドを使用します。 どのラベルオブジェクトに対する設定なのかを示すために、第 1 引数と第 2 引数で、チャート ID とラベル名を指定する必要があります。 ラベルに表示するテキストを指定する ::ObjectSetString(0, &#34;Label1&#34;, OBJPROP_TEXT, &#34;Hello&#34;); // 表示テキスト ::ObjectSetString(0, &#34;Label1&#34;, OBJPROP_FONT, &#34;Arial&#34;); // フォント ::ObjectSetInteger(0, &#34;Label1&#34;, OBJPROP_FONTSIZE, 20); // フォントサイズ ラベルの表示位置を指定する ::ObjectSetInteger(0, &#34;Label1&#34;, OBJPROP_XDISTANCE, 0); // X 座標 ::ObjectSetInteger(0, &#34;Label1&#34;, OBJPROP_YDISTANCE, 0); // Y 座標 ::ObjectSetInteger(0, &#34;Label1&#34;, OBJPROP_CORNER, CORNER_LEFT_UPPER); // 基準座標 ::ObjectSetInteger(0, &#34;Label1&#34;, OBJPROP_ANCHOR, ANCHOR_LEFT_UPPER); // アンカー ラベルオブジェクトの削除 ObjectDelete 関数にチャート ID とラベル名を渡すことで、ラベルを削除することができます。 ::ObjectDelete(0, &#34;Label1&#34;); プログラムによってラベルオブジェクトを追加したのであれば、プログラムからラベルを削除するにようしておくのが行儀のよいプログラムです。 例えば、インジケータの OnInit イベントハンドラでラベルを追加したのであれば、OnDeinit イベントハンドラでラベルを削除するのがよいでしょう。 // bool AddLabel() { /* ... */ } // void DeleteLabel() { /* ... */ } int OnInit() { return AddLabel() ? INIT_SUCCEEDED : INIT_FAILED; } void OnDeinit(const int reason) { DeleteLabel(); } サンプルコード 下記のサンプルコードは、画面左上にラベルを表示するだけの簡単なインジケータの例です。 インジケータをチャートにアタッチするとラベルが表示され、インジケータをデタッチするとラベルが削除されます。 Indicator/LabelSample.mq4 #property copyright &#34;maku77&#34; #property link &#34;https://maku77.github.io/&#34; #property version &#34;1.00&#34; #property strict #property indicator_chart_window #include &lt;stdlib.mqh&gt; // to use ErrorDescription static const string LABEL_NAME = &#34;Label1&#34;; // ラベルの ID static const string LABEL_TEXT = &#34;Hello Label&#34;; // 表示するテキスト bool AddLabel() { const int chart = 0; // 0 means the current chart const int subWindow = 0; // 0 means the main window const string name = LABEL_NAME; // Label ID to be added // ラベルの作成 if (!::ObjectCreate(chart, name, OBJ_LABEL, subWindow, 0, 0)) { ::Alert(&#34;Failed to create a label: &#34;, ErrorDescription(::GetLastError())); return false; } // ラベルに表示するテキスト ::ObjectSetString(chart, name, OBJPROP_TEXT, LABEL_TEXT); ::ObjectSetString(chart, name, OBJPROP_FONT, &#34;Arial&#34;); ::ObjectSetInteger(chart, name, OBJPROP_FONTSIZE, 20); // ラベルの表示位置 ::ObjectSetInteger(chart, name, OBJPROP_XDISTANCE, 0); ::ObjectSetInteger(chart, name, OBJPROP_YDISTANCE, 0); ::ObjectSetInteger(chart, name, OBJPROP_CORNER, CORNER_LEFT_UPPER); ::ObjectSetInteger(chart, name, OBJPROP_ANCHOR, ANCHOR_LEFT_UPPER); // ラベルの色 ::ObjectSetInteger(chart, name, OBJPROP_COLOR, clrCyan); // ラベルをドラッグ＆ドロップできるか ::ObjectSetInteger(chart, name, OBJPROP_SELECTABLE, false); ::ObjectSetInteger(chart, name, OBJPROP_SELECTED, false); return true; } void DeleteLabel() { const int chart = 0; ::ObjectDelete(chart, LABEL_NAME); } //--- event handlers --- int OnInit() { return AddLabel() ? INIT_SUCCEEDED : INIT_FAILED; } void OnDeinit(const int reason) { DeleteLabel(); } int OnCalculate(const int rates_total, const int prev_calculated, const int begin, const double&amp; price[]) { // Nothing to do return rates_total; } オブジェクト指向バージョン (CChartObjectLabel) を使用する方法 MQL5 で定義された CChartObjectLabel クラスは、オブジェクト指向なラベルオブジェクトを提供します。 CChartObjectLabel クラスは CChartObject クラスを継承して作成されており、CChartObject クラスのデストラクタでは、チャートから描画オブジェクトを削除するコードが記述されています。 つまり、このデストラクタをうまく利用することで、プログラムの終了時（例えばインジケータのデタッチ時）に自動的にラベルオブジェクトを削除することができます。 下記のインジケータのサンプルコードで、ラベルオブジェクトを明示的に削除していないことに注目してください。 #include &lt;stdlib.mqh&gt; // ErrorDescription #include &lt;ChartObjects/ChartObjectsTxtControls.mqh&gt; // CChartObjectLabel // ここではラベルオブジェクトをグローバルに定義（終了時の自動削除のため） CChartObjectLabel gLabel; bool AddLabel() { const int chart = 0; // 0 means the current chart const int subWindow = 0; // 0 means the main window // ラベルの作成 if (!gLabel.Create(chart, &#34;Label1&#34;, subWindow, 0, 0)) { Alert(&#34;Failed to create a label: &#34;, ErrorDescription(GetLastError())); return false; } // ラベルに表示するテキスト gLabel.SetString(OBJPROP_TEXT, &#34;Hello Label&#34;); gLabel.Font(&#34;Arial&#34;); gLabel.FontSize(20); // ラベルの表示位置 gLabel.X_Distance(0); gLabel.Y_Distance(0); gLabel.Corner(CORNER_LEFT_UPPER); gLabel.Anchor(ANCHOR_LEFT_UPPER); // ラベルの色 gLabel.Color(clrCyan); // ラベルをドラッグ＆ドロップできるか gLabel.Selectable(false); gLabel.Selected(false); return true; } //--- event handlers --- int OnInit() { return AddLabel() ? INIT_SUCCEEDED : INIT_FAILED; } void OnDeinit(const int reason) { // CChartObject will be automatically deleted by its constructor } int OnCalculate(const int rates_total, const int prev_calculated, const int begin, const double&amp; price[]) { // Nothing to do return rates_total; }"},{url:"/p/4p3fq3d/",title:"MetaTrader/MQL: 注文情報を取得する (OrderXxx) (MT5)",date:"2021-01-24T00:00:00Z",body:`MetaTrader/MQL: 注文情報を取得する (OrderXxx) (MT5) 待機注文 (Pending Order) とは 待機注文というのは、指値価格や逆指値価格を指定して売買を待機している注文のことです。 日本では、「指値注文」や「逆指値注文」というと、この待機注文のことを示していることが多いです。 MQL の関数で Order で始まる次の関数群は、待機注文 (Pending Order) を扱う関数であることを示しています。 OrdersTotal &hellip; 待機注文の数を取得 OrderGetTicket / OrderSelect &hellip; 待機注文を選択 OrderGetDouble / OrderGetInteger / OrderGetString &hellip; 待機注文の情報を取得 これらの関数は、取引関数 (Trade Functions) に分類されており、下記に関数の一覧があります。 Trade Functions - MQL5 Reference（日本語） 現在入っている注文の数を調べる (OrdersTotal) OrdersTotal 関数（日本語）を使用すると、現在の口座における待機注文の数を取得することができます。 int total = OrdersTotal(); printf(&#34;OrdersTotal: %d&#34;, total); これを利用すると、まだ注文が入っていないときのみ注文処理を行うプログラムを作成することができます。 Scripts/SampleScript.mq5 void OnStart() { if (OrdersTotal() == 0) { // 注文がひとつもないときの処理 } else { // すでに何らかの注文が入っているときの処理 } } EA のプログラム内で現在の注文数合計を取得する場合は、次のように、その EA のマジックナンバーで入れられた注文だけを対象にカウントすべきかもしれません。 input ulong Magic = 63043000; /** 指定したマジックナンバーで入っている注文の数を調べます。 */ int GetOrdersTotalByMagic(ulong magic) { const int total = OrdersTotal(); int totalByMagic = 0; for (int i = 0; i &lt; total; i++) { OrderGetTicket(i); // 注文を選択状態にする if (OrderGetInteger(ORDER_MAGIC) == magic) { totalByMagic += 1; } } return totalByMagic; } void OnStart() { if (GetOrdersTotalByMagic(Magic) == 0) { // 注文がひとつもないときの処理 } else { // すでに何らかの注文が入っているときの処理 } } 待機注文の情報を取得する方法 MT5 で各待機注文の情報を取得するには、下記のような関数に取得したい情報の enum 値を渡します。 long OrderGetInteger(ENUM_ORDER_PROPERTY_INTEGER)（日本語） 戻り値が整数（あるいは bool や enum 値）の待機注文情報 double OrderGetDouble(ENUM_ORDER_PROPERTY_DOUBLE)（日本語） 戻り値が浮動小数点数の待機注文情報 string OrderGetString(ENUM_ORDER_PROPERTY_STRING)（日本語） 戻り値が文字列の待機注文情報 これらの関数を呼び出す前に、どの待機注文の情報を取得するかを、次のような選択関数を使って選択しておく必要があります。 選択関数を呼び出した瞬間に、その待機注文の情報が内部バッファにコピーされ、上記の参照関数で取得できるようになるようです。 ulong OrderGetTicket(int index)（日本語） 待機注文のインデックス番号を指定して待機注文を選択します。指定可能なインデックスの範囲は 0 〜 OrdersTotal() - 1 です。この関数は、ついでに選択した待機注文のチケット番号を返します。待機注文を選択できなかった場合は、0 を返します。 bool OrderSelect(ulong ticket)（日本語） 待機注文のチケット番号を指定して待機注文を選択します。チケット番号は、OrderGetInteger(ORDER_TICKET) で取得できる値と同じものです。待機注文を選択できなかった場合は、false を返します。 サンプルコード（待機注文の情報を表示する） 下記のスクリプトを実行すると、現在入っている待機注文の詳細情報を 1 つずつメッセージボックスで表示します。 Scripts/ShowOrderInfo.mq5 #property strict // 文字列系の待機注文情報を文字列にして返します。 string getOrderInfoStr() { // 注文対処のシンボル（銘柄） string symbol = OrderGetString(ORDER_SYMBOL); // 注文につけられたコメント string comment = OrderGetString(ORDER_COMMENT); string s; StringConcatenate(s, &#34;ORDER_SYMBOL = &#34;, symbol, &#34;\\nORDER_COMMENT = &#34;, comment ); return s; } // 整数系の待機注文情報を文字列にして返します。 string getOrderInfoInteger() { // 注文のチケット番号 long ticket = OrderGetInteger(ORDER_TICKET); // 注文の種類（ORDER_TYPE_BUY_LIMIT など） ENUM_ORDER_TYPE type = (ENUM_ORDER_TYPE) OrderGetInteger(ORDER_TYPE); // 注文状態（ORDER_STATE_PLACED など） ENUM_ORDER_STATE state = (ENUM_ORDER_STATE) OrderGetInteger(ORDER_STATE); // 注文のフィル・ポリシー（ORDER_FILLING_RETURN など） ENUM_ORDER_TYPE_FILLING typeFilling = (ENUM_ORDER_TYPE_FILLING) OrderGetInteger(ORDER_TYPE_FILLING); // 注文の設定日時（datetime 値） datetime timeSetup = (datetime) OrderGetInteger(ORDER_TIME_SETUP); // 注文の設定日時（1970年からの経過ミリ秒） long timeSetupMsc = OrderGetInteger(ORDER_TIME_SETUP_MSC); // 注文の実行及びキャンセル日時（datetime 値） datetime timeDone = (datetime) OrderGetInteger(ORDER_TIME_DONE); // 注文の実行及びキャンセル日時（1970年からの経過ミリ秒） long timeDoneMsc = OrderGetInteger(ORDER_TIME_DONE_MSC); // 注文期限の種類（ORDER_TIME_GTC など） ENUM_ORDER_TYPE_TIME typeTime = (ENUM_ORDER_TYPE_TIME) OrderGetInteger(ORDER_TYPE_TIME); // 注文期限の日時 datetime timeExpiration = (datetime) OrderGetInteger(ORDER_TIME_EXPIRATION); // 注文時に指定した EA マジックナンバー long magic = OrderGetInteger(ORDER_MAGIC); // 注文の理由またはソース（ORDER_REASON_CLIENT など） ENUM_ORDER_REASON reason = (ENUM_ORDER_REASON) OrderGetInteger(ORDER_REASON); // 実行後すぐに注文に設定される不変のポジション識別子 long positionId = OrderGetInteger(ORDER_POSITION_ID); // 反対注文 (ORDER_TYPE_CLOSE_BY) 時の反対ポジションの識別子 long positionById = OrderGetInteger(ORDER_POSITION_BY_ID); string s; StringConcatenate(s, &#34;ORDER_TICKET = &#34;, ticket, &#34;\\nORDER_TYPE = &#34;, type, &#34; (&#34;, EnumToString(type), &#34;)&#34;, &#34;\\nORDER_STATE = &#34;, state, &#34; (&#34;, EnumToString(state), &#34;)&#34;, &#34;\\nORDER_TYPE_FILLING = &#34;, typeFilling, &#34; (&#34;, EnumToString(typeFilling), &#34;)&#34;, &#34;\\nORDER_TIME_SETUP = &#34;, timeSetup, &#34;\\nORDER_TIME_SETUP_MSC = &#34;, timeSetupMsc, &#34;\\nORDER_TIME_DONE = &#34;, timeDone, &#34;\\nORDER_TIME_DONE_MSC = &#34;, timeDoneMsc, &#34;\\nORDER_TYPE_TIME = &#34;, typeTime, &#34; (&#34;, EnumToString(typeTime), &#34;)&#34;, &#34;\\nORDER_TIME_EXPIRATION = &#34;, timeExpiration, &#34;\\nORDER_MAGIC = &#34;, magic, &#34;\\nORDER_REASON = &#34;, reason, &#34; (&#34;, EnumToString(reason), &#34;)&#34;, &#34;\\nORDER_POSITION_ID = &#34;, positionId, &#34;\\nORDER_POSITION_BY_ID = &#34;, positionById ); return s; } // 浮動小数点数系の待機注文情報を文字列にして返します。 string getOrderInfoDouble() { // 初期の注文ボリューム（ロット数） double volumeInitial = OrderGetDouble(ORDER_VOLUME_INITIAL); // 現在の注文ボリューム（ロット数） double volumeCurrent = OrderGetDouble(ORDER_VOLUME_CURRENT); // 注文時に指定された価格 double priceOpen = OrderGetDouble(ORDER_PRICE_OPEN); // 注文シンボルの現在の価格 double priceCurrent = OrderGetDouble(ORDER_PRICE_CURRENT); // ストップリミット注文の場合の指値注文価格 double priceStoplimit = OrderGetDouble(ORDER_PRICE_STOPLIMIT); // 損切用の逆指値価格 double sl = OrderGetDouble(ORDER_SL); // 利確用の指値価格 double tp = OrderGetDouble(ORDER_TP); string s; StringConcatenate(s, &#34;ORDER_VOLUME_INITIAL = &#34;, volumeInitial, &#34;\\nORDER_VOLUME_CURRENT = &#34;, volumeCurrent, &#34;\\nORDER_PRICE_OPEN = &#34;, priceOpen, &#34;\\nORDER_PRICE_CURRENT = &#34;, priceCurrent, &#34;\\nORDER_PRICE_STOPLIMIT = &#34;, priceStoplimit, &#34;\\nORDER_SL = &#34;, sl, &#34;\\nORDER_TP = &#34;, tp ); return s; } void showOrderInfo(int orderIndex) { // 待機注文を選択状態にする if (OrderGetTicket(orderIndex) == 0) { Alert(&#34;インデックス &#34;, orderIndex, &#34; の待機注文の選択に失敗しました&#34;); return; } // 選択した待機注文の情報を表示 string msg = StringFormat(&#34;%s\\n\\n%s\\n\\n%s&#34;, getOrderInfoStr(), getOrderInfoInteger(), getOrderInfoDouble() ); MessageBox(msg, StringFormat(&#34;Order[%d]&#34;, orderIndex)); } void OnStart() { const int total = OrdersTotal(); if (total == 0) { MessageBox(&#34;待機注文はありません&#34;); return; } for (int i = 0; i &lt; total; i++) { showOrderInfo(i); } } 実行結果 ORDER_SYMBOL = USDJPY ORDER_COMMENT = ORDER_TICKET = 1699871 ORDER_TYPE = 2 (ORDER_TYPE_BUY_LIMIT) ORDER_STATE = 1 (ORDER_STATE_PLACED) ORDER_TYPE_FILLING = 2 (ORDER_FILLING_RETURN) ORDER_TIME_SETUP = 2021.01.26 08:31:19 ORDER_TIME_SETUP_MSC = 1611649879303 ORDER_TIME_DONE = 1970.01.01 00:00:00 ORDER_TIME_DONE_MSC = 0 ORDER_TYPE_TIME = 0 (ORDER_TIME_GTC) ORDER_TIME_EXPIRATION = 1970.01.01 00:00:00 ORDER_MAGIC = 0 ORDER_REASON = 0 (ORDER_REASON_CLIENT) ORDER_POSITION_ID = 0 ORDER_POSITION_BY_ID = 0 ORDER_VOLUME_INITIAL = 0.1 ORDER_VOLUME_CURRENT = 0.1 ORDER_PRICE_OPEN = 103.686 ORDER_PRICE_CURRENT = 103.734 ORDER_PRICE_STOPLIMIT = 0.0 ORDER_SL = 0.0 ORDER_TP = 0.0`},{url:"/p/tp5dcrj/",title:"MetaTrader で利益確定と損切りの注文を入れる",date:"2019-04-11T00:00:00Z",body:"MetaTrader で利益確定と損切りの注文を入れる 新規注文時に利確／損切ラインを設定する 新規注文ウィンドウから売買注文を出すときに、数量のすぐ下にある 決済逆指値 や 決済指値 の価格を 0 以外に設定しておくと、注文と同時に、損切のための逆指値注文 (S/L: Stop Loss) や、利確のための指値注文 (T/P: Take Profit) を入れることができます。 これらの設定は、成行注文（ストリーミング注文）と指値注文のどちらでも入れることができますが、決済逆指値はその約定価格よりも不利な価格、決済指値は有利な価格になっている必要があります。 それぞれ、損切りと利確の設定を行うためのものなので当然ですね。 おかしな価格が入力されている場合は、新規注文が失敗します。 決済逆指値（損切り）の価格はスリップすることに注意 決済逆指値 (S/T: Stop Loss) を設定しておくと、損失を抑えるための損切りを自動化することができますが、実際の約定は、条件を満たす価格（悪い条件内）でベストエフォートで行われることに注意してください。 つまり、ボラティリティが大きいとき（急激な価格の変化が発生しているとき）は、設定した損切価格よりも悪い条件で約定する可能性があります。 この価格差のことをスリッページと呼びます。 チャート上のドラッグ＆ドロップで利確／損切ラインを設定する ポジションを持っていると、チャート上にその価格を示すラインが表示されます。 このラインを上下にドラッグ＆ドロップすることで、そのポジションに対する決済のための指値注文、逆指値注文を設定することができます。 買いポジションであれば、上へドラッグすることで利確ライン（指値 T/P）、下へドラッグすることで損切ライン（逆指値 S/L）を生成することができます。 ラインの左端には、どのポジションに対する決済注文なのかがわかるように注文番号が表示されてます。 その隣に表示される tp は Take Profit（利確）、sl は Stop Loss（損切り）を表しています。 一度設定した利確／損切ラインも、ドラッグ＆ドロップで簡単に移動することができます。 ターミナルの取引ペーンから利確／損切の決済価格を設定する ターミナル（Ctrl + T で表示）の 取引 ペーンには、現在のポジションの一覧が表示されます。 ここで、決済逆指値(S/L) や 決済指値(T/P) が 0 になっている場合は、そのポジションに利確／損切のラインが設定されていません。 この数字部分をダブルクリックすると、決済逆指値(S/L)と決済指値(T/P)を設定するためのダイアログが開きます。 赤枠の部分で、損切りと利確の価格を直接入力するのもよいですし、その上に表示されている 現在との差 というツールで、現在価格を基準にして損切幅／利確幅で設定することもできます。 もちろん、どちらか一方だけを設定することもできます。 少なくとも損切ラインだけは設定しておきたいですね。"},{url:"/p/qju4dmu/",title:"MetaTrader/MQL: チャート上に矩形を描画する (OBJ_RECTANGLE, CChartObjectRectangle)",date:"2016-03-21T00:00:00Z",body:"MetaTrader/MQL: チャート上に矩形を描画する (OBJ_RECTANGLE, CChartObjectRectangle) 矩形オブジェクトについて 矩形オブジェクト (OBJ_RECTANGLE) および、矩形ラベルオブジェクト (OBJ_RECTANGLE_LABEL) は、MetaTrader のチャート上に表示できる描画オブジェクトです。 表示位置の指定方法によって、下記のように使い分けます。 矩形オブジェクト (OBJ_RECTANGLE) 矩形の表示位置が、チャートの時間軸 (time) および、価格 (price) に基づいて指定されます。チャートの時間軸を移動させると、それに合わせて矩形の表示位置も移動します。 矩形ラベルオブジェクト (OBJ_RECTANGLE_LABEL) 矩形の表示位置は、ウィンドウ上の左上を起点として XY 座標が指定されるため（CORNER_LEFT_UPPER を指定した場合）、チャートを時間軸方向に移動させても、ラベルの表示位置は固定されて動きません。 矩形オブジェクト（矩形ラベルオブジェクト）の作成 矩形オブジェクト（矩形ラベルオブエジェクト）を作成するには、組み込み関数である ObjectCreate の type パラメータに OBJ_RECTANGLE、あるいは OBJ_RECTANGLE_LABEL を指定します。 bool ObjectCreate( long chart_id, // チャート識別子（0 はカレントチャート） string name, // オブジェクト名 (ラベルの識別子） ENUM_OBJECT type, // オブジェクトの型（OBJ_LABEL を指定） int sub_window, // ウィンドウインデックス（0 はメインウィンドウ） datetime time1, // 1 番目のアンカーポイントの時間（ラベルの場合は使用しない） double price1, // 1 番目のアンカーポイントの価格（ラベルの場合は使用しない） // ...残りは省略可... ) 例えば、カレントチャート (chart_id=0) の、メインウィンドウ (sub_window=0) に表示するための矩形ラベルオブジェクトを作成するには下記のようにします。 if (!::ObjectCreate(0, &#34;Rect1&#34;, OBJ_RECTANGLE_LABEL, 0, 0, 0)) { // 矩形ラベルオブジェクトの作成に失敗 } すでに同じ名前 (name) のオブジェクトが、そのチャートに追加されている場合は、ObjectCreate は失敗します。 矩形オブジェクトは、チャート上に複数追加することができますが、オブジェクトは、チャート ID（chart_id パラメータ）と、オブジェクト名 (name) で識別することになります。 現在アクティブになっているチャートにオブジェクトを追加するのであれば、chart_id は 0 に設定します。 オブジェクト名はチャートの中で一意になるような名前を付けます。 矩形オブジェクト（矩形ラベルオブジェクト）のプロパティ設定 矩形の表示方法を指定するには、ObjectSetXxx 系の関数を使用します。 どのオブジェクトに対する設定なのかを示すために、第一引数と、第二引数で、それぞれチャート ID とオブジェクト名を指定する必要があります。 矩形オブジェクトの表示設定 // 表示位置／サイズの設定 ::ObjectSetInteger(chart, name, OBJPROP_CORNER, CORNER_LEFT_UPPER); ::ObjectSetInteger(chart, name, OBJPROP_XDISTANCE, 30); // X 座標 ::ObjectSetInteger(chart, name, OBJPROP_YDISTANCE, 30); // Y 座標 ::ObjectSetInteger(chart, name, OBJPROP_XSIZE, 100); // 幅 ::ObjectSetInteger(chart, name, OBJPROP_YSIZE, 50); // 高さ // 背景色の設定 ::ObjectSetInteger(chart, name, OBJPROP_BGCOLOR, clrBlue); // 背景色 ::ObjectSetInteger(chart, name, OBJPROP_BACK, true); // ローソク足などの後ろ側に表示 // ボーダーの設定 ::ObjectSetInteger(chart, name, OBJPROP_BORDER_TYPE, BORDER_FLAT); // ボーダーのタイプ ::ObjectSetInteger(chart, name, OBJPROP_COLOR, clrYellow); // flat border の色 ::ObjectSetInteger(chart, name, OBJPROP_STYLE, STYLE_DOT); // 線の種類 ::ObjectSetInteger(chart, name, OBJPROP_WIDTH, 1); // 線の太さ // ダブルクリックで選択してドラッグ＆ドロップで移動できるか ::ObjectSetInteger(chart, name, OBJPROP_SELECTABLE, false); ::ObjectSetInteger(chart, name, OBJPROP_SELECTED, false); 矩形オブジェクトの OBJPROP_BACK プロパティの設定は重要です。 この値を true にしておかないと、ローソク足よりも前面に矩形が描画されて、ローソク足が隠れてしまいます。 サンプルコード 下記のサンプルコードは、画面左上に青色の矩形を表示するだけの簡単なインジケーターの実装例です。 インジケーターをチャートにアタッチすると矩形が表示され (OnInit)、デタッチすると矩形が削除されます (OnDeinit)。 #property copyright &#34;maku&#34; #property link &#34;https://toushi.maku.blog/&#34; #property version &#34;1.00&#34; #property strict #property indicator_chart_window #include &lt;stdlib.mqh&gt; // ErrorDescription static const string RECT_NAME = &#34;Rect1&#34;; // 描画オブジェクトの ID bool AddRect() { const int chart = 0; // 0 means the current chart const int subWindow = 0; // 0 means the main window const string name = RECT_NAME; // Object ID to be added // Create a new rectangle if (!::ObjectCreate(chart, name, OBJ_RECTANGLE_LABEL, subWindow, 0, 0)) { ::Alert(&#34;Failed to create a rect: &#34;, ErrorDescription(::GetLastError())); return false; } // Position ::ObjectSetInteger(chart, name, OBJPROP_CORNER, CORNER_LEFT_UPPER); ::ObjectSetInteger(chart, name, OBJPROP_XDISTANCE, 30); ::ObjectSetInteger(chart, name, OBJPROP_YDISTANCE, 30); ::ObjectSetInteger(chart, name, OBJPROP_XSIZE, 100); ::ObjectSetInteger(chart, name, OBJPROP_YSIZE, 50); // Background ::ObjectSetInteger(chart, name, OBJPROP_BGCOLOR, clrBlue); ::ObjectSetInteger(chart, name, OBJPROP_BACK, true); // Border ::ObjectSetInteger(chart, name, OBJPROP_BORDER_TYPE, BORDER_FLAT); ::ObjectSetInteger(chart, name, OBJPROP_COLOR, clrYellow); ::ObjectSetInteger(chart, name, OBJPROP_STYLE, STYLE_DOT); ::ObjectSetInteger(chart, name, OBJPROP_WIDTH, 1); // Drag and drop ::ObjectSetInteger(chart, name, OBJPROP_SELECTABLE, false); ::ObjectSetInteger(chart, name, OBJPROP_SELECTED, false); return true; } void DeleteRect() { const int chart = 0; // 0 means the current chart ObjectDelete(chart, RECT_NAME); } //--- event handlers --- int OnInit() { return AddRect() ? INIT_SUCCEEDED : INIT_FAILED; } void OnDeinit(const int reason) { DeleteRect(); } int OnCalculate(const int rates_total, const int prev_calculated, const int begin, const double&amp; price[]) { // Nothing to do return rates_total; } オブジェクト指向バージョン (CChartObjectRectLabel) を使用する方法 MQL5 で定義された CChartObjectRectLabel クラスは、矩形ラベルオブジェクトをオブジェクト指向で扱うためのクラスです。 このクラスを使ってコードを記述すると、ObjectCreate や ObjectSetXxx を使った場合よりも簡潔なコードになります。 例えば、CChartObjectRectLabel::Create メソッドは、XY 座標や矩形のサイズを指定できるようになっています。 CChartObjectRectLabel::Create bool Create( long chart_id, const string name, const int window, const int X, const int Y, const int sizeX, const int sizeY ); CChartObjectRectLabel クラスは CChartObject クラスを継承して作成されており、CChartObject クラスのデストラクタでは、チャートから描画オブジェクトを削除するように実装されています。 つまり、このデストラクタをうまく利用することで、プログラムの終了時（例えばインジケータのデタッチ時）に自動的に描画オブジェクトを削除することができます。 下記のインジケーターのサンプルコードで、描画オブジェクトを明示的に削除していないことに注目してください。 #include &lt;stdlib.mqh&gt; // ErrorDescription #include &lt;ChartObjects/ChartObjectsTxtControls.mqh&gt; // CChartObjectRectLabel // ここでは描画オブジェクトをグローバルに定義（終了時の自動削除のため） CChartObjectRectLabel gRect; bool AddRect() { const int chart = 0; // 0 means the current chart const int subWindow = 0; // 0 means the main window // Create a new rectangle if (!gRect.Create(chart, &#34;Rect1&#34;, subWindow, 30, 30, 100, 50)) { ::Alert(&#34;Failed to create a rect: &#34;, ErrorDescription(::GetLastError())); return false; } // Position gRect.Corner(CORNER_LEFT_UPPER); // gRect.X_Distance(30); // gRect.Y_Distance(30); // gRect.X_Size(100); // gRect.Y_Size(50); // Background gRect.BackColor(clrBlue); gRect.Background(true); // Border gRect.BorderType(BORDER_FLAT); gRect.Color(clrYellow); // Flat border color gRect.Style(STYLE_DOT); gRect.Width(1); // Drag and drop gRect.Selectable(false); gRect.Selected(false); return true; } //--- event handlers --- int OnInit() { return AddRect() ? INIT_SUCCEEDED : INIT_FAILED; } void OnDeinit(const int reason) { // CChartObject will be automatically deleted by its destructor } int OnCalculate(const int rates_total, const int prev_calculated, const int begin, const double&amp; price[]) { // Nothing to do return rates_total; }"},{url:"/p/iz8gpw6/",title:"MetaTrader/MQL: OrderSend で成行注文を出す (MT5)",date:"2021-02-01T00:00:00Z",body:"MetaTrader/MQL: OrderSend で成行注文を出す (MT5) 成行注文時の OrderSend 関数の使い方 MT5 で売買注文を出すには、OrderSend 関数（日本語） を使用します。 OrderSend 関数は様々な注文で使用されるため、成行注文を行うには、それ用に設定した MqlTradeRequest オブジェクトを引数で渡してやる必要があります。 bool OrderSend(MqlTradeRequest&amp; request, MqlTradeResult&amp; result) まず、ブローカーが設定している 注文執行方式 によって指定すべき値が変わってくるので、対象銘柄がどの注文執行方式で取引されるかを把握しておいてください（→ FX 会社の注文執行方式について）。 簡単に言えば、次の注文執行方式であれば価格とスリッページ (deviation) の指定が必要で、 Instant Execution（成行方式、ストリーミング方式） Request Execution（リクエスト方式） 次の注文執行方式であれば価格とスリッページの指定は必要ありません（取引価格は時価で決まる）。 Market Execution（カウントダウン方式、マーケット方式） Exchange Execution（エクスチェンジ方式） それぞれの注文執行方式において、MqlTradeRequest オブジェクトのどのフィールドが必須かは MqlTradeRequest 構造体のドキュメント（日本語）に説明があります。 ただ、公式ドキュメントはとても分かりにくいので下記表でまとめておきます。 引数 Instant / Request Execution Market / Exchange Execution action TRADE_ACTION_DEAL TRADE_ACTION_DEAL magic ほぼ必須 ほぼ必須 symbol 必須 必須 volume 必須 必須 type 必須 必須 type_filling 必須 必須 price 必須 ─ deviation 必須 ─ sl オプショナル オプショナル tp オプショナル オプショナル comment オプショナル オプショナル 表: 成行注文で必要な MqlTradeRequest のフィールド 一見難しそうですが、要するに約定させる価格 (price / deviation) をユーザーが指定すべきかどうかだけの違いです。 どの注文執行方式でも動作するように OrderSend 関数を呼び出すには、常に price 引数と deviation 引数を指定するようにすればよいでしょう（Market Execution および Exchange Execution では無視されます）。 マジックナンバーはオプショナルですが、プログラムから売買するときは設定しておいた方がよいでしょう（マジックナンバーに関しての説明はこちら）。 OrderSend 関数で成行注文を出す 下記の EA をチャートにアタッチすると、キーボードの 1 キーを押したときに成行の買い注文を出せるようになります。 ユーティリティ関数 (Util::SelectFillPolicy、Util::ErrorDescWithCode) を使用するために、Util.mqh をインクルードしてます。 Experts/BuyWith1Key.mq5 #include &lt;maku77/Util.mqh&gt; input double Lot = 0.1; input ulong SlippagePoint = 3; input ulong Magic = 67068000; // 0.1 ロットの成行買い注文を出す uint buyMarketOrder() { MqlTradeRequest request = {0}; request.action = TRADE_ACTION_DEAL; // 成行注文 request.magic = Magic; // マジックナンバー request.symbol = Symbol(); // カレントシンボル request.volume = Lot; // ロット数 request.type = ORDER_TYPE_BUY; // 買い注文 request.price = SymbolInfoDouble(Symbol(), SYMBOL_ASK); // 価格 request.type_filling = Util::SelectFillPolicy(request.symbol); // フィル・モード request.deviation = SlippagePoint; // 許容スリッページ（ポイント） // 注文を送信 MqlTradeResult result = {0}; if (OrderSend(request, result)) { switch (result.retcode) { case TRADE_RETCODE_PLACED: // 注文が出された case TRADE_RETCODE_DONE: // リクエスト完了 case TRADE_RETCODE_DONE_PARTIAL: // リクエストが一部完了 case TRADE_RETCODE_NO_CHANGES: // リクエストに変更なし // 注文成功時のログ出力 printf(&#34;BUY: symbol=%s, price=%f, volume=%f, retcode=%d, comment=%s&#34;, request.symbol, result.price, result.volume, result.retcode, result.comment); break; default: // 取引サーバーがエラーコードを返した場合（不正な価格指定や、証拠金不足など） printf(&#34;Trade ERROR: retcode=%d, comment=%s&#34;, result.retcode, result.comment); break; } } else { // OrderSend 関数自体が失敗した場合（パラメータの不正など） Print(Util::ErrorDescWithCode(&#34;OrderSend&#34;)); printf(&#34;Trade ERROR: retcode=%d, comment=%s&#34;, result.retcode, result.comment); } return result.retcode; } int OnInit() { return INIT_SUCCEEDED; } void OnChartEvent(const int id, const long &amp;lparam, const double &amp;dparam, const string &amp;sparam) { // チャート上で 1 キーを押したときに成行買い注文 if (id == CHARTEVENT_KEYDOWN &amp;&amp; lparam == &#39;1&#39;) { if (MessageBox(&#34;Are you sure to buy?&#34;, NULL, MB_YESNO) == IDYES) { buyMarketOrder(); } } } OrderSend 関数が戻り値 true を返し、さらに MqlTradeResult 構造体の retcode フィールドの値 が次のような値になっていれば、注文は正しく受け入れられたと判断できます。 MqlTradeResult.retcode の値: TRADE_RETCODE_PLACED &hellip; 注文が出された TRADE_RETCODE_DONE &hellip; リクエスト完了 TRADE_RETCODE_DONE_PARTIAL &hellip; リクエストが一部完了 TRADE_RETCODE_NO_CHANGES &hellip; リクエストに変更なし OrderSend 関数が true 返しただけだと、トレードサーバー側で注文を最後まで処理（リクエスト完了）できなかった場合の判断ができないので、必ず MqlTradeResult.retcode の値を確認する必要があります。 MqlTradeResult.comment には、MqlTradeResult.retcode に対応する説明テキスト（トレードサーバーからのメッセージ）が格納されているので、これらを合わせてログ出力しておけば、注文失敗時の原因が簡単にわかります。 成行の「買い」注文ではなく、「売り」注文にするには、MqlTradeRequest の次のフィールドを変更すれば OK です。 // 買いの場合 request.type = ORDER_TYPE_BUY; request.price = SymbolInfoDouble(Symbol(), SYMBOL_ASK); // 売りの場合 request.type = ORDER_TYPE_SELL; request.price = SymbolInfoDouble(Symbol(), SYMBOL_BID);"},{url:"/p/wb8rxic/",title:"MetaTrader/MQL: OrderSend で決済注文を出す（ポジションのクローズ）(MT5)",date:"2021-02-02T00:00:00Z",body:"MetaTrader/MQL: OrderSend で決済注文を出す（ポジションのクローズ）(MT5) ポジションのクローズは反対売買 MT5 においてポジションのクローズ（決済）を行うには、OrderSend で逆方向のポジションを追加する注文を行います。 つまり、現在のポジションと相殺するように買い注文 or 売り注文を出します。 現在の口座が、両建て可能な「ヘッジアカウント」の場合、反対注文を出すときは、対象のポジションを特定するためのチケット番号 (MqlTradeRequest.position) を指定しなければいけないことに注意してください。 「ネットアカウント」を使用している場合は、シンボル（銘柄）だけを指定すれば OK です（ポジションのチケット番号を指定しても無視されます）。 参考: ヘッジアカウントとネットアカウントの違いを理解する ネットアカウントにおけるポジションクローズ ネットアカウントにおいて既存のポジションをクローズするには、シンボル名を指定して OrderSend で成行注文 (action == TRADE_ACTION_DEAL) あるいは、指値注文 (action == TRADE_ACTION_PENDING) を入れます。 成行注文でも指値注文でも決済タイミングが異なるだけで同様です。 あるシンボルのポジションをすべて閉じるには、反対方向に同じボリュームだけ売買注文を入れる必要があります。 そのため、まずは現在のポジションの量を調べます。 /** * ネットアカウントにおいて、指定したシンボルのポジション情報を取得します。 * ヘッジアカウントで使用すると、最初に見つかったポジションの情報を返します。 * * @param volume[out] 保有ポジションのロット数 * @param posType[out] 保有ポジションの売買方向 * (POSITION_TYPE_SELL or POSITION_TYPE_BUY) * @param symbol[in] 取得対象のシンボル（省略時はカレントシンボル） * @return ポジションが見つかった場合: true、ノーポジの場合: false */ bool getOpenPosition_InNetAccount( double &amp;volume, ENUM_POSITION_TYPE &amp;posType, string symbol = NULL ) { if (symbol == NULL) symbol = Symbol(); if (!PositionSelect(symbol)) { // 指定したシンボルのポジションが存在しないときは、PositionSelect() は失敗して、 // GetLastError() == 4753 (Position not found) になる。 return false; } // 見つかったポジション情報を格納 volume = PositionGetDouble(POSITION_VOLUME); posType = (ENUM_POSITION_TYPE) PositionGetInteger(POSITION_TYPE); return true; } void OnStart() { double volume; ENUM_POSITION_TYPE posType; if (getOpenPosition_InNetAccount(volume, posType)) { printf(&#34;ポジション情報: volume=%f, posType=%s&#34;, volume, EnumToString(posType)); } else { Print(&#34;ポジション情報が見つかりません&#34;); } } 見つかったポジションのタイプが POSITION_TYPE_BUY であれば、ロングポジション（買いポジ）を持っているので、同じボリュームの売り注文を出せば、すべてのポジションをクローズできることになります。 Scripts/ClosePosition_InNetAccount.mq5 /** * 買い or 売りの成行注文を出します。 * * @param symbol 対象シンボル * @param volume ロット数（ボリューム） * @param orderType 買い(ORDER_TYPE_BUY) or 売り(ORDER_TYPE_SELL) */ bool marketOrder(const string&amp; symbol, double volume, ENUM_ORDER_TYPE orderType) { // Ask/Bid 価格のどちらを使うか？ ENUM_SYMBOL_INFO_DOUBLE bidOrAsk = orderType == ORDER_TYPE_BUY ? SYMBOL_ASK : SYMBOL_BID; // 注文の作成 MqlTradeRequest request = {0}; request.action = TRADE_ACTION_DEAL; // 成行注文 request.symbol = symbol; // シンボル（銘柄） request.volume = volume; // ロット数 request.type = orderType; // 買い or 売り request.price = SymbolInfoDouble(symbol, bidOrAsk); // 価格 request.type_filling = ORDER_FILLING_IOC; // フィル・モード request.deviation = 10; // 許容スリッページ（ポイント） // 注文を送信 MqlTradeResult result = {0}; if (OrderSend(request, result)) { switch (result.retcode) { case TRADE_RETCODE_PLACED: // 注文が出された case TRADE_RETCODE_DONE: // リクエスト完了 case TRADE_RETCODE_DONE_PARTIAL: // リクエストが一部完了 case TRADE_RETCODE_NO_CHANGES: // リクエストに変更なし printf(&#34;Position closed: %s, vol=%f, %s&#34;, request.symbol, result.volume, EnumToString(orderType)); return true; } } // OrderSend 関数自体が失敗した場合（パラメータの不正など）、 // あるいは、取引サーバーがエラーコードを返した場合 printf(&#34;Could not close position: retcode=%d, comment=%s&#34;, result.retcode, result.comment); return false; } /** * ネットアカウントにおいて、指定したシンボル（省略時はカレントシンボル）のポジションをすべて決済します。 * ヘッジアカウントで使用すると、最初に見つかったポジションと同じボリュームの新規反対ポジションが作られます。 * * @return ポジションクローズしたら true、ポジションがなかったり、クローズしっぱしたら false */ bool closePosition_InNetAccount(string symbol = NULL) { if (symbol == NULL) symbol = Symbol(); // ポジション情報を取得する if (!PositionSelect(symbol)) { // 指定したシンボルのポジションが存在しないときは、PositionSelect() は失敗して、 // GetLastError() == 4753 (Position not found) になる。 return false; } double volume = PositionGetDouble(POSITION_VOLUME); ENUM_POSITION_TYPE posType = (ENUM_POSITION_TYPE) PositionGetInteger(POSITION_TYPE); // 反対方向の売買注文を出す ENUM_ORDER_TYPE orderType = posType == POSITION_TYPE_BUY ? ORDER_TYPE_SELL : ORDER_TYPE_BUY; return marketOrder(symbol, volume, orderType); } void OnStart() { closePosition_InNetAccount(); } ネットアカウント（両建てなし口座）において、上記のスクリプトを実行すると、カレントシンボルのポジションをすべて決済します。 ただし、ヘッジアカウント（両建てあり口座）で実行すると、最初に見つかったポジションと同量の反対ポジションが新規にオープンされることに注意してください。 なぜなら、ヘッジアカウントで各ポジションのロット数を増減させるときは、対象のポジションを示すチケット番号 (MqlTradeRequest.position) を指定しなければいけないからです。 ヘッジアカウントでポジションのチケット番号を指定せずに注文すると、新規にポジションが作られ、新しいチケット番号が割り当てられます。 ヘッジアカウントでも、次のように取得したポジションのチケット番号を MqlTradeRequest.position に指定してやれば、反対方向の売買注文がそのポジションのクローズ（ロット数削減）として扱われます。 // PositionSelect(symbol); uint positionTicket = (uint) PositionGetInteger(POSITION_TICKET); ただし、ヘッジアカウントにおいて PositionSelect 関数（シンボル指定）でポジションを選択すると、そのシンボル内で一番古いポジションが 1 つだけ選択されることになります。 つまり、上記のように取得したチケット番号でポジションをクローズしようとすると、一番古いポジションだけがクローズされることになります。 次に説明する、ポジションチケット単位でクローズする処理は、ネットアカウントとヘッジアカウントの両方で動作します。 ヘッジアカウントにおけるポジションクローズ（ネットアカウントでも利用可） ヘッジアカウント（両建て可能口座）では、1 つのシンボルにつき複数のポジションを同時保有することができます。 そのため、ヘッジアカウントにおいて、あるシンボルのポジションをすべてクローズするには、複数のポジションをループ処理して順番にクローズしていく必要があります。 すべてのポジションをループ処理するには、PositionGetTicket あるいは PositionGetSymbol にインデックスを指定してポジション情報を 1 つずつ取得していきます。 ポイントは、ポジションクローズ時に残りのポジションのインデックスがずれてしまわないように、後ろのインデックスのものからクローズしていく ところです。 Scripts/CloseAllPositions.mq5 /** * 買い or 売りの成行注文を出します（決済用）。 * * @param symbol 対象シンボル * @param volume ロット数（ボリューム） * @param position 決済対象のポジションのチケット番号（ネットアカウント時は無視されます） * @param orderType 買い(ORDER_TYPE_BUY) or 売り(ORDER_TYPE_SELL) */ bool marketOrder( const string&amp; symbol, double volume, ENUM_ORDER_TYPE orderType, uint position ) { // Ask/Bid 価格のどちらを使うか？ ENUM_SYMBOL_INFO_DOUBLE bidOrAsk = orderType == ORDER_TYPE_BUY ? SYMBOL_ASK : SYMBOL_BID; // 注文の作成 MqlTradeRequest request = {0}; request.action = TRADE_ACTION_DEAL; // 成行注文 request.symbol = symbol; // シンボル（銘柄） request.volume = volume; // ロット数 request.type = orderType; // 買い or 売り request.position = position; request.price = SymbolInfoDouble(symbol, bidOrAsk); // 価格 request.type_filling = ORDER_FILLING_IOC; // フィル・モード request.deviation = 10; // 許容スリッページ（ポイント） // 注文を送信 MqlTradeResult result = {0}; if (OrderSend(request, result)) { switch (result.retcode) { case TRADE_RETCODE_PLACED: // 注文が出された case TRADE_RETCODE_DONE: // リクエスト完了 case TRADE_RETCODE_DONE_PARTIAL: // リクエストが一部完了 case TRADE_RETCODE_NO_CHANGES: // リクエストに変更なし printf(&#34;Position closed: %s, vol=%f, %s&#34;, request.symbol, result.volume, EnumToString(orderType)); return true; } } // OrderSend 関数自体が失敗した場合（パラメータの不正など）、 // あるいは、取引サーバーがエラーコードを返した場合 printf(&#34;Could not close position: retcode=%d, comment=%s&#34;, result.retcode, result.comment); return false; } /** * 指定したインデックス、シンボルのポジションをクローズします。 */ bool closePositionByIndex(int posIndex, const string&amp; symbol) { // ポジションをインデックスで選択すると同時にシンボルの確認 string selectedSymbol = PositionGetSymbol(posIndex); if (selectedSymbol != symbol) { return false; // 対象外のシンボル } // ポジション情報を取得する double volume = PositionGetDouble(POSITION_VOLUME); ENUM_POSITION_TYPE posType = (ENUM_POSITION_TYPE) PositionGetInteger(POSITION_TYPE); uint position = (uint) PositionGetInteger(POSITION_TICKET); // 反対方向の売買注文を出す ENUM_ORDER_TYPE orderType = posType == POSITION_TYPE_BUY ? ORDER_TYPE_SELL : ORDER_TYPE_BUY; return marketOrder(selectedSymbol, volume, orderType, position); } /** * 指定したシンボル（省略時はカレントシンボル）のすべてのポジションをクローズします。 */ void closeAllPositions(string symbol = NULL) { if (symbol == NULL) symbol = Symbol(); // インデックスがずれないように後ろのポジションから閉じていく for (int i = PositionsTotal(); i &gt;= 0; i--) { closePositionByIndex(i, symbol); } } void OnStart() { closeAllPositions(); } ちなみに、ネットアカウントにおいても、ポジションのチケット番号の取得や、チケット番号ベースでの情報取得が可能です。 なので、上記の closeAllPositions 関数は、ネットアカウントでも動作します（OrderSend 関数はあくまでシンボル名に従って売買処理を行います）。 マジックナンバーの一致をチェックする ヘッジアカウントで動作させる EA において、その EA がオープンしたポジションだけを決済対象にしたいときは、PositionGetInteger 関数でポジションのマジックナンバーを取得して、自分自身がオープンしたポジションかどうかをチェックします。 Experts/MyEa.mq5（抜粋） // input ulong Magic = 67639000; // この EA のマジックナンバー // ポジション情報を取得する uint magic = (uint) PositionGetInteger(POSITION_MAGIC); if (magic != Magic) { return false; // 自分が開いたポジションではないので勝手にクローズしない }"},{url:"/p/xmseugr/",title:"MetaTrader/MQL: ヘッジアカウントとネットアカウントの違いを理解する",date:"2021-02-02T00:00:00Z",body:"MetaTrader/MQL: ヘッジアカウントとネットアカウントの違いを理解する MT5 のアカウント（口座）には、ヘッジアカウント と ネットアカウント の 2 種類があり、それぞれポジションの取り方が異なります。 どちらを使用できるかは、FX 会社によって異なります。 ヘッジカウント 同一シンボル（通貨）でも、注文ごとにポジションが作られるため 両建てが可能です。ポジションを決済するときは、ポジションを特定するチケット番号 (MqlTradeRequest 構造体 の position フィールド) の指定が必要です。 ネットアカウント シンボル（通貨）ごとに 1 つにマージされたポジションになるため、両建てができません。例えば、USDJPY を 0.1 ロット買い、次に 0.5 ロット売ると、USDJPY の 0.4 ロットのショートポジションが残ります。2 つのロングポジションを取ると、加重平均のオープン価格でポジションを取ったのと同じ扱いになります。注文時のパラメータ指定は、基本的にシンボル情報＋売買タイプだけの指定になります。 以前はネットアカウントの FX 会社が多かったのですが、現在は多くの FX 会社がヘッジアカウントを採用しています。 MT4 で両建てが可能だったのに、MT5 でできなくなったことに対して不満が出たためでしょう。 『くるくるワイド』 みたいな両建て手法は、基本的にはヘッジアカウントでなければ実行できません。 MQL でアカウントのタイプを調べる方法 MT5 のタイトルバーで確認する MetaTrader アプリケーションのタイトルバーに、次のような感じで Headge と表示されていれば、ヘッジアカウントであることが分かります。 MQL プログラムで確認する AccountInfoInteger 関数を使って、ヘッジアカウントとネットアカウントのどちらを使っているかを調べることができます。 Scripts/ShowAccountType.mq5 void OnStart() { ENUM_ACCOUNT_MARGIN_MODE marginMode = (ENUM_ACCOUNT_MARGIN_MODE) AccountInfoInteger(ACCOUNT_MARGIN_MODE); switch (marginMode) { case ACCOUNT_MARGIN_MODE_RETAIL_HEDGING: MessageBox(&#34;ヘッジアカウントを使用しています。両建て可能です。&#34;); break; case ACCOUNT_MARGIN_MODE_RETAIL_NETTING: MessageBox(&#34;ネットアカウントを使用しています。両建てできません。&#34;); break; case ACCOUNT_MARGIN_MODE_EXCHANGE: MessageBox(&#34;株式取引用のアカウントを使用しています。&#34;); break; } } 参考: アカウント情報（口座情報）を取得する (AccountXxx) (MT5)"},{url:"/p/6uype3p/",title:"MetaTrader のショートカットキー（ホットキー）を使いこなす",date:"2020-11-03T00:00:00Z",body:"MetaTrader のショートカットキー（ホットキー）を使いこなす MetaTrader にはたくさんのメニューやボタンが配置されていますが、これらはほとんどキーボードだけで操作できるようになっています。 普段からなるべくキーボードだけで操作して、自然に手を動かせるようになりましょう。 特に、通貨ペアや時間足を頻繁に切り替えるときは、Fast Navigation という仕組みを知っていると爆速操作が可能になります。 どのチャートがアクティブかに依存しないホットキー ユーザーガイド（ヘルプ）を開くF1 メタエディター (MetaEditor) を開く（Terminal ↔ MetaEditor）F4 気配値のポップアップ表示 (Popup Prices) を開くF10 次／前のプロファイルへ切り替えるCtrl + F5 / Shift + F5 次／前のチャートをアクティブにするCtrl + F6 (Ctrl + Tab) / Shift + Ctrl + F6 EA の有効化／無効化Ctrl + E ナビゲーター (Navigator) ウィンドウを表示／非表示Ctrl + N データ (Data) ウィンドウを表示／非表示Ctrl + D 気配値表示 (Market) ウィンドウを表示／非表示Ctrl + M テスター (Tester) ウィンドウを表示／非表示Ctrl + R ターミナル (Terminal) ウィンドウを表示／非表示Ctrl + T 通貨ペアリストのダイアログを開くCtrl + U オプション (Setup) ダイアログを開くCtrl + O チャートウィンドウの一覧ダイアログを開くAlt + W 各種ダイアログを閉じるEsc アクティブなチャートに作用するホットキー Fast Navigation の表示Enter チャートを左右にスクロール← / → チャートを左右にスクロール（高速）↑ / ↓ チャートを左右にスクロール（ページ単位）PageUp / PageDown チャートを左右にスクロール（1 バー）F12 / Shift + F12 最初のバー／最後のバーへジャンプHome / End ズームアウト- ズームイン+ バーチャートAlt + 1 ローソク足Alt + 2 ラインチャートAlt + 3 出来高の表示／非表示Ctrl + L 背景のグリッドを表示／非表示Ctrl + G Crosshair ツールの起動Ctrl + F / マウス中ボタン 上端の OHLC 価格テキストを表示／非表示Ctrl + H インジケーターリストのダイアログを開くCtrl + I チャートを印刷Ctrl + P チャートのデータを CSV で保存Ctrl + S 日付変更線を表示／非表示Ctrl + Y ヒストリーセンター (History Center) のダイアログを開くF2 グローバル変数 (Global Variables) のダイアログを開くF3 EA のテスターウィンドウを開くF6 EA のプロパティウィンドウを開くF7 チャートのプロパティ (Chart Setup) ダイアログを開くF8 新規注文 (New Order) ダイアログを開くF9 チャートを全画面表示F11 サブチャートのサイズをリセットCtrl + A チャートを閉じるCtrl + W / Ctrl + F4 選択されたオブジェクトをすべて削除Delete 最後に挿入されたオブジェクトを削除Backspace チャートの高速切り替え (Fast Navigation) チャート上で Enter を押すと、Fast Navigation というコマンド入力領域が表示されます。 そこに下記のような、通貨ペアや時間足を入力することで、素早くチャートを切り替えることができます。 Enter で切替実行、Esc でキャンセルできます。 通貨ペア (symbol) の変更 USDJPY &hellip; ドル円（シンボル名は FX 会社の設定に依存します） EURUSD &hellip; ユーロドル EURJPY &hellip; ユーロ円 時間足 (period) の変更 M1 / 1 &hellip; 1 分足 M5 / 5 &hellip; 5 分足 M30 / 30 &hellip; 30 分足 H / H1 / 60 &hellip; 1 時間足 H4 / 240 &hellip; 4 時間足 D / D1 / 1440 &hellip; 日足 W / W1 / 10080 &hellip; 週足 MN &hellip; 月足 通貨ペア (symbol) と時間足 (period) は同時に指定可能 USDJPY,5 &hellip; ドル円の 5 分足 EURUSD,H &hellip; ユーロドルの 1 時間足 EURJPY,D &hellip; ユーロ円の日足 日時指定でジャンプ 2015.10.23 / 23.10.15 &hellip; 2015年10月23日 (YYYY.MM.DD or DD.MM.YY) 8:30 &hellip; 8時30分 2015.10.23 8:30 &hellip; 2015年10月23日 8時30分"},{url:"/p/2roz7fo/",title:"MetaTrader/MQL: 成行注文の 4 つの注文執行方式 (Request Execution Type) を理解する",date:"2021-01-18T00:00:00Z",body:"MetaTrader/MQL: 成行注文の 4 つの注文執行方式 (Request Execution Type) を理解する 4 つの注文執行方式 MT5 から成行注文 (Market Orders) を出すときには、4 種類の注文執行方式（Request Execution Type/Mode とも）が用意されており、ブローカー（FX 会社）によって設定されることとされています。 これが意外とややこしいのでまとめておきます。 執行モード 説明 1 Market Execution（カウントダウン方式、マーケット方式） 最終的なマーケット価格で約定 2 Instant Execution（成行方式、ストリーミング方式） ユーザー指定の価格で約定（許容スリッページ指定あり） 3 Exchange Execution（エクスチェンジ方式） ECN ブローカーを通じて FX 市場に直接注文を出す方式 (NDD)。扱い方は Market Execution と同じ。 4 Request Execution（リクエスト方式） ブローカーから先に提示された価格で取引する。主に為替以外で使われる。 「成行方式」と「成行注文」という用語の違いに注意してください。 注文執行方式として成行方式を採用しているブローカーに対しては、「成行方式で成行注文を出す」ということになります。 注文執行方式によって、MQL5 プログラム内の OrderSend 関数で指定すべきパラメーターが変わってくるので、EA を作成する場合はこれらの違いを把握しておく必要があります（このあたりを理解せずに作られた EA がたくさん出回っています）。 日本の多くの FX 会社は、Market Execution（カウントダウン方式）か Instant Execution（成行方式）を採用しているので、この 2 つの違いを理解しておけば OK です。 簡単に言えば、許容スリッページの指定があるかないかの違いです。 海外の FX 会社はよく Exchange Execution（エクスチェンジ方式）を採用していますが、MQL プログラムなどでの扱い方は Market Execution と同じです。 1. Market Execution（カウントダウン方式、マーケット方式） カウントダウン方式は 注文を約定させることを重視 する方式で、スリッページが発生したとしても、最終的な市場価格 (Ask/Bid) で約定させます。 必ず市場価格で約定させるので、Market Execution と呼ばれます。 FX 会社からの約定拒否（リクオート）が発生しない代わりに、価格のボラティリティが大きいときには、不利な価格で約定してしまう可能性があります。 最大許容スリッページの概念が存在しないため、MetaTrader のオーダーダイアログにもスリッページの設定項目は表示されません。 MQL5 プログラムの OrderSend 関数で成行注文 (TRADE_ACTION_DEAL) を出すときも、MqlTradeRequest.price フィールドの値が無視されます（設定してもエラーにはならないので、後述の成行方式の場合にも動作するように、プログラム上は常に設定しておくことができます）。 ☝️ ワンポイント 古いバージョンの MT5 では、カウントダウン方式による注文時には、利確 (tp: take profit)、損切 (sl: stop loss) の価格を設定できないようになっていました。 現在はカウントダウン方式でも、注文と同時に利確／損切価格の設定を行えるようになっています。 古い MQL5 入門書では、成行注文が約定したあとに、再度 OrderSend 関数を呼び出して利確／損切設定 (TRADE_ACTION_SLTP) しているものがありますが、そのような実装はしないよう注意してください。 2. Instant Execution（成行方式、ストリーミング方式） 成行方式は、ユーザーが指定した価格を重視 する方式で、最大許容スリッページを指定することができます。 トレードサーバーに注文を送った後に、市場価格が許容スリッページを超えて変動してしまった場合はリクオート（FX 会社からの約定拒否）されます。 重要な指標発表の前後などは、価格の変動が激しくなるので、許容スリッページの設定が小さすぎると約定しない可能性が高くなります。 3. Exchange Execution（エクスチェンジ方式） ECN (Electronic Communications Network) ブローカーが採用している注文執行方式で、FX 会社のディーリング・デスクを介さずに、直接 FX 市場に注文を出す方式です。 それ以外の特徴は、Market Execution（カウントダウン方式）と同様で、常に市場価格で約定します。 つまり、スリッページの指定はなく、FX 会社都合での約定拒否（リクオート）は発生しません。 このような方式を採用している FX 会社のことを NDD（Non Dealing Desk) と呼び、主に海外の FX 会社が採用しています。 ブローカーが完全に取引を仲介するだけの場合、注文ごとに手数料をとることでブローカーは利益を確保しています。 4. Request Execution（リクエスト方式） 事前にブローカーが価格をユーザーに提示し、その価格にユーザーが了承することで約定させるという方式です。 提示された価格は数秒間のみ有効で、その間にユーザーは売買の判断をする必要があります。 主に為替以外の取引のために用意されており、あまり使われることはないようです。 MT5 で初めて追加された注文執行方式です。 現在のブローカーがどの注文執行方式を採用しているか調べる オーダーダイアログで確認する方法 MT5 上で新規オーダーのダイアログ (New Order) を開いて、タイプ (Type) のプルダウンメニューを見ると、そのブローカーが採用している注文執行方式を把握できることが多いです。 この例では、タイプが カウントダウン注文 となっているので、Market Execution（カウントダウン方式）であることが分かります。 注意が必要なのは、ここが 成行注文 となっている場合です。 その場合は、それが注文執行方式のひとつである Instant Execution（成行方式）を示しているのか、単純に注文の種類（成行注文 or 待機注文）を示しているのかが区別できません。 以下に示す方法で確認するのが確実です。 シンボル情報で確認する方法 気配値表示ウィンドウのシンボル名を右クリックして 仕様 を選択すると、その銘柄の注文執行方式を確認できます。 この例では、執行 (Execution) が マーケット (Market) となっているので、Market Execution（カウントダウン方式）であることが分かります。 MQL5 プログラムで確認する方法 MQL プログラムの中で注文執行方式を調べるには、SymbolInfoInteger 関数を使用します。 ENUM_SYMBOL_TRADE_EXECUTION mode = (ENUM_SYMBOL_TRADE_EXECUTION) SymbolInfoInteger(Symbol(), SYMBOL_TRADE_EXEMODE); ENUM_SYMBOL_TRADE_EXECUTION 列挙型には次のような値が定義されています。 SYMBOL_TRADE_EXECUTION_MARKET &hellip; Market Execution（カウントダウン方式、マーケット方式） SYMBOL_TRADE_EXECUTION_INSTANT &hellip; Instant Execution（成行方式、ストリーミング方式） SYMBOL_TRADE_EXECUTION_EXCHANGE &hellip; Exchange Execution（エクスチェンジ方式） SYMBOL_TRADE_EXECUTION_REQUEST &hellip; Request Execution（リクエスト方式） この結果を見て、Instant Execution だったらスリッページを設定する、といった分岐処理が可能です。"},{url:"/p/j6iu7hs/",title:"MetaTrader/MQL: OrderSend の引数を理解する - MqlTradeRequest/MqlTradeResult 構造体 (MT5)",date:"2020-11-08T00:00:00Z",body:"MetaTrader/MQL: OrderSend の引数を理解する - MqlTradeRequest/MqlTradeResult 構造体 (MT5) MT5 の OrderSend 関数 MT5 で注文を出すには OrderSend 関数（日本語）を使用します。 MT5 の OrderSend 関数 bool OrderSend( MqlTradeRequest&amp; request, // 注文内容を指定する MqlTradeResult&amp; result // 注文結果が格納される ) ここでは、注文結果が格納される MqlTradeResult 構造体（日本語）と、注文結果が格納される MqlTradeResult 構造体（日本語）について説明します。 MqlTradeRequest 構造体（注文内容を指定する） MqlTraderRequest 構造体には次のようなフィールドが定義されています。 各フィールドにどのような値を設定すべきかを順に説明していきます。 MqlTradeRequest 構造体 struct MqlTradeRequest { ENUM_TRADE_REQUEST_ACTIONS action; // アクション（取引タイプ） ulong magic; // EA のマジックナンバー ulong order; // オーダーのチケット番号（待機注文を操作する場合） string symbol; // シンボル名 double volume; // ロット数 double price; // 価格 double stoplimit; // ストップ・リミット注文発火時に使われる指値価格 double sl; // 利確の価格 double tp; // 損切の価格 ulong deviation; // 最大許容スリッページ（ポイント） ENUM_ORDER_TYPE type; // 売買のタイプ ENUM_ORDER_TYPE_FILLING type_filling; // フィル・タイプ ENUM_ORDER_TYPE_TIME type_time; // 有効期限タイプ datetime expiration; // 有効期限 string comment; // 注文コメント ulong position; // ポジションのチケット番号（ポジションを操作する場合） ulong position_by; // 反対ポジションのチケット番号（ポジション相殺用） }; ENUM_TRADE_REQUEST_ACTIONS action（必須） ENUM_TRADE_REQUEST_ACTIONS 列挙値 でアクション（取引タイプ）を指定します。 つまり、この OrderSend 関数を何のために使用するかを示します。 この値によって、残りのパラメータに何を設定すべきかがガラリと変わってきます。 TRADE_ACTION_DEAL Place a market order 成行注文 を出します。 TRADE_ACTION_PENDING Place a pending order 待機注文（指値／逆指値） を出します。 TRADE_ACTION_SLTP Modify the stop loss (sl) and/or take profit (tp) of the current position オープンポジションの損切／利確価格を、設定／修正 します。 TRADE_ACTION_MODIFY Modify the previously placed pending order 待機注文の内容を修正 します。 TRADE_ACTION_REMOVE Cancel a previously placed pending order 待機注文を削除 します。 TRADE_ACTION_CLOSE_BY Close a position by an opposite one 2 つの反対方向の オープンポジションを相殺 することでクローズします。MT5 の新機能で、ヘッジアカウントを使っている場合のみ利用可能です。通常 2 回の取引が必要ですが、このアクションを指定することで、1 回分のスプレッドで 2 つのポジションをクローズできます。どちらかのポジションの方が多い場合は、差し引き分がオープンポジションとして残ります。ネットアカウントを使用している場合は、そもそも反対方向のポジションを持つことはできないので、このアクションは使用できません。 MT5 で追加されたアクション TRADE_ACTION_CLOSE_BY は要注目です。 両建てを活用する EA では、このアクションを活用することでスプレッドの支払額を減らして成績を上げることができます。 ulong magic（EA ならおそらく必須） EA ごとに一意なマジックナンバーを設定します。 マジックナンバーは こちらの自動生成ツール で生成したものを指定すれば OK です。 EA でも magic 引数を省略 (=0) することはできますが、その場合はマニュアル注文と区別できなかったりと色々問題があるので、EA の場合は通常はこの引数は必須です。 ulong order（オプショナル） 発注済みの待機注文 (pending order) を削除／修正するときに、待機注文を特定するためのオーダーチケット番号（注文番号）です。 action 引数で TRADE_ACTION_REMOVE（待機注文の削除）や TRADE_ACTION_MODIFY（待機注文の修正）を指定した時に必須になります。 string symbol（新規売買時に必須） トレード対象のシンボル名（&quot;USDJPY&quot; など）を指定します。 カレントチャートのシンボルであれば、Symbol() や _Symbol を指定すれば OK です。 待機注文の削除／修正（action 引数が TRADE_ACTION_REMOVE あるいは TRADE_ACTION_MODIFY）の場合）は symbol 引数は省略することができます（order 引数のオーダーチケット番号で対象となる注文を特定できるため）。 double volume（必須） トレードの量をロット数で指定します。 USDJPY のトレードであれば、通常 0.1 ロットが 1 万通過を表します（1 万ドルの売買）。 実際にどれだけ約定するかは、Filling policy（type_filling 引数）によって変わってくることに注意してください。 double price（オプショナル） 売買の価格を指定します。 price 引数が必須になるのは、action 引数が TRADE_ACTION_DEAL かつ ブローカーの注文執行方式 が Instant execution か Request execution に設定されている場合、あるいは、action 引数が TRADE_ACTION_PENDING、TRADE_ACTION_MODIFY のいずれかである場合です。 それ以外の注文では、price 引数の値は無視されます。 成行の買い注文であれば現在の Ask 価格 (SymbolInfoDouble(Symbol(), SYMBOL_ASK))、売り注文であれば現在の Bid 価格 (SymbolInfoDouble(Symbol(), SYMBOL_BID)) を指定すれば OK です。 待機注文 (action == TRADE_ACTION_PENDING) の場合は、type 引数によって指値価格（現在より有利な価格）と逆指値価格（現在より不利な価格）のどちらの価格を指定するかが変わってきます。 ☝️ ワンポイント 成行注文の注文執行方式が、ブローカーによって Market execution か Exchange execution に設定されている場合は、price 引数の値は使用されないということになっています。 なぜなら、それらの注文執行方式の場合は、常に最終的な市場価格で約定されるからです。 一方、Instant execution か Request execution の場合は、ユーザー側から注文価格 (price) と許容スリッページポイント (deviation) の両方を指定する必要があります。 なぜなら、ブローカー側は「売買価格」と「スリッページ」の両方の情報をもって初めてスリッページを考慮したリクオート（約定拒否）判断を行えるからです。 double stoplimit（オプショナル） ストップ・リミット注文時のトリガー価格（逆指値）を指定します。 ストップ・リミット注文を出すには、action 引数で TRADE_ACTION_PENDING を指定し、type 引数で ORDER_TYPE_BUY_STOP_LIMIT あるいは ORDER_TYPE_SELL_STOP_LIMIT を指定する必要があります。 例えば、「買い」のストップ・リミット注文 (type=ORDER_TYPE_BUY_STOP_LIMIT) の場合、price の価格まで上昇したときに、stoplimit の価格で買いの指値注文が入ります。 このとき、stoplimit で指定した価格より高い価格で買ってしまうことはありません（トリガー後に買い指値注文になるので）。 価格が上抜けしたときに、このくらいの価格なら買ってもよいよというブレークアウト戦略で利用できます。 逆に、「売り」のストップ・リミット注文 (type=ORDER_TYPE_SELL_STOP_LIMIT) の場合、price の価格まで下落したときに、stoplimit の価格で売りの指値注文が入ります。 このとき、stoplimit で指定した価格より低い価格で売ってしまうことはありません（トリガー後に売り指値注文になるので）。 価格が下抜けしたときに、このくらいの価格なら売ってもよいよというブレークアウト戦略で利用できます。 double sl（オプショナル） 損切りのための逆指値価格 (Stop loss) を指定します。 指定した価格に到達すると、このポジションはすべて決済されます。 損切り設定しない場合は、sl 引数に 0 を指定します。 ☝️ ワンポイント 古いバージョンでは、ブローカーの注文執行方式が Market execution のときに、sl 引数は指定できませんでしたが、現在は指定可能です。 double tp（オプショナル） 利食いのための指値価格 (Take profit) を指定します。 指定した価格に到達すると、このポジションはすべて決済されます。 利食い設定しない場合は、tp 引数に 0 を指定します。 ☝️ ワンポイント 古いバージョンでは、ブローカーの注文執行方式が Market execution のときに、tp 引数は指定できませんでしたが、現在は指定可能です。 ulong deviation（注文執行方式により必須） price 引数で指定した価格からの許容スリッページ（ポイント数）を指定します。 ブローカーの注文執行方式が、Instant execution あるいは Request execution のときのみ有効です。 注文後に許容スリッページ以上の価格変化があった場合、ブローカーからリクオート（約定拒否）されます。 参考: MT5 のポイントとは何か ENUM_ORDER_TYPE type（必須） 注文タイプ（買い／売りのどちらなのか、成行／待機注文のどちらなのか）を指定します。 指定可能な注文タイプには以下のようなものがあります。 ORDER_TYPE_BUY &hellip; 買いの成行注文 ORDER_TYPE_SELL &hellip; 売り成行注文 ORDER_TYPE_BUY_STOP &hellip; 買いの逆指値注文（つまり、上抜けブレーク時に成行買い） ORDER_TYPE_SELL_STOP &hellip; 売りの逆指値注文（つまり、下抜けのブレーク時に成行売り） ORDER_TYPE_BUY_LIMIT &hellip; 買いの指値注文（つまり、安くなったら成行買い） ORDER_TYPE_SELL_LIMIT &hellip; 売りの指値注文（つまり、高くなったら成行売り） ORDER_TYPE_BUY_STOP_LIMIT &hellip; 買いのストップ・リミット注文（つまり、上抜けブレーク時に指値買い注文） ORDER_TYPE_SELL_STOP_LIMIT &hellip; 売りのストップ・リミット注文（つまり、下抜けブレーク時に指値売り注文） ORDER_TYPE_CLOSE_BY &hellip; 反対方向のポジションを相殺する注文 ENUM_ORDER_TYPE_FILLING type_filling（オプショナル） 注文の フィル・ポリシー (fill policy)、約定形式（日本語） を指定します。 注文時に指定したロット数（volume 引数）が一度に約定させられない場合にどう処理するかを指定します。 ORDER_FILLING_FOK (0) &hellip; Fill or Kill. 全約定できなければ全ロットをキャンセル。 ORDER_FILLING_IOC (1) &hellip; Immediate or Cancel. できるだけ約定させ、残りをキャンセル。 ORDER_FILLING_RETURN (2) &hellip; Return. 取引サーバー側で全約定するまで市場に注文を出し続ける。 フィル・ポリシーに関しては複雑な事情があるので、下記ページで別途説明しています。 参考: 注文時のフィル・ポリシーの指定について ENUM_ORDER_TYPE_TIME type_time（オプショナル） 待機注文を出す時に、その注文の 有効期限タイプ（日本語）を指定します。 ORDER_TIME_GTC (0) &hellip; Good till canceled. 待機注文の有効期限を設定しません（明示的にキャンセルされるまで有効です） ORDER_TIME_DAY (1) &hellip; 待機注文はその日の間だけ有効です。 ORDER_TIME_SPECIFIED (2) &hellip; 待機注文は datetime 引数で指定した日時まで有効です。 ORDER_TIME_SPECIFIED_DAY (3) &hellip; 待機注文は datetime 引数で指定した日が終わるまで有効です（23:59:59 あるいはその日の最終取引時刻までです）。 datetime expiration（オプショナル） 待機注文の有効期限を指定します。 有効期限タイプ（type_time 引数）の値に、ORDER_TIME_SPECIFIED あるいは ORDER_TIME_SPECIFIED_DAY が指定されている場合のみ有効です。 string comment（オプショナル） 注文にコメントテキストを設定します。 ulong position（オプショナル） ヘッジアカウントにおいて、ポジションの内容を修正（TRADE_ACTION_SLTP）したり、決済 (TRADE_ACTION_CLOSE / TRADE_ACTION_CLOSE_BY) したりするときにポジションのチケット番号を指定します。 ネットアカウントの場合は、すべてのポジションはシンボル（銘柄）ごとに集約されるため、このパラメーターは必要ありません（symbol の指定だけで OK）。 ulong position_by（オプショナル） action 引数で TRADE_ACTION_CLOSE_BY を指定して 2 つの反対ポジションを相殺させるときに、2 つ目のポジションのチケット番号を指定します。1 つ目のポジションは position 引数で指定します。 両建てが可能なヘッジアカウントのみで有効です。 MqlTradeResult 構造体（注文結果が格納される） （追記予定） MqlTraderResult 構造体には次のようなフィールドが定義されています。 各フィールドにどのような値を設定すべきかを順に説明していきます。 MqlTradeResult 構造体 struct MqlTradeResult { uint retcode; // 操作のリターンコード ulong deal; // 実行された場合の 約定チケット ulong order; // 注文された場合のチケット double volume; // ブローカーによって確認された約定ボリューム double price; // ブローカーによって確認された約定価格 double bid; // 現在の売値 double ask; // 現在の買値 string comment; // 操作に対するブローカーコメント（デフォルトは取引サーバの返したコードの記述） uint request_id; // ディスパッチの際に、端末によって設定されたリクエストID uint retcode_external; // 外部取引システムのリターンコード }; uint retcode ulong deal ulong order double volume double price double bid double ask string comment uint request_id uint retcode_external"},{url:"/p/9jjrrp5/",title:"MetaTrader/MQL: 注文時のフィル・ポリシー（充填ポリシー）を理解する",date:"2021-01-26T00:00:00Z",body:"MetaTrader/MQL: 注文時のフィル・ポリシー（充填ポリシー）を理解する フィル・ポリシーとは OrderSend 関数 (MT5) で売買注文を出すとき、MqlTradeRequest 構造体（日本語）の type_filling フィールドにフィル・ポリシー（充填ポリシー？）を設定してやる必要があります。 フィル・ポリシーは、注文時に指定したボリューム（ロット数）が一度に約定できない場合に、その注文をどのように扱うのか （部分的にでも約定させるのかなど）を表します。 この type_filling フィールドを適当に設定していると、OrderSend 関数が次のようなエラーコード返して失敗することがあります。 result.retcode: 10030 result.comment: Unsupported filling mode ようするに、ブローカー（FX 会社）側のトレードサーバーが、「そのフィル・ポリシーは受け付けないよ」と言っているんですね（理由はきっと大人の事情、あるいはブローカーの手抜き）。 フィル・ポリシーには、ENUM_ORDER_TYPE_FILLING 列挙型 で定義されている次のいずれかの値を指定することができます。 ORDER_FILLING_FOK (0) Fill or Kill. 注文時に指定したボリューム（ロット数）で全て約定できないときは、その注文をキャンセルします。 ORDER_FILLING_IOC (1) Immediate or Cancel. 指定したボリュームのうちすぐに約定できる部分だけ約定させ、残りをキャンセルします。システムによっては Fill or Cancel と呼ばれていたりします。 ORDER_FILLING_RETURN (2) Return. 指定したボリュームのうちすぐに約定できる部分だけを約定させ、残りも市場価格でさらに約定させるようにトレードサーバー側ががんばります。MT 用語としては、ひとつの「注文 (order)」で、複数の「約定 (deal)」が発生し、最終的にひとつの「ポジション (position)」になる、と表現されます。最新の市場価格で次々と約定させていく必要があるため、このポリシーはブローカーの 注文執行方式 が Market execution あるいは Exchange execution であるときのみ有効です。このポリシーは以下の注文タイプ（type 引数）で注文を出すときに有効です。 ORDER_TYPE_BUY / ORDER_TYPE_SELL &hellip; 成行注文 ORDER_TYPE_BUY_LIMIT / ORDER_TYPE_SELL_LIMIT &hellip; 指値注文 ORDER_TYPE_BUY_STOP_LIMIT / ORDER_TYPE_SELL_STOP_LIMIT &hellip; ストップ・リミット注文（トリガー後に指値注文に置き換えられるので、そのときに ORDER_FILLING_RETURN のポリシーがセットされます） フィル・ポリシーは自由には指定できない MQL5 のドキュメントサイトには、以下のような 記載（日本語）があります。 （英語） In the Request and Instant execution modes the Fill or Kill policy is always used for market orders, and the Return policy is always used for limit orders. In this case, when sending orders using OrderSend or OrderSendAsync, there is no need to specify a fill policy for them. In the Market and Exchange execution modes the Return policy is always allowed for all the order types. To find out whether the other policies are allowed, use the SYMBOL_FILLING_FOK and SYMBOL_FILLING_IOC properties. （日本語） Request 及び Instant 実行モードでは成行注文では常に「フィル・オア・キル」が常に使用され、リミット注文では常に「リターン」ポリシーが使用されます。この場合、OrderSend または OrderSendAsync を使用して注文を送信する時、充填ポリシーを指定する必要はありません。 「マーケット」と「エクスチェンジ」実行モードでは、「リターン」ポリシーは常に全種類の注文に許可されています。他のポリシーが許可されているかどうかを調べるには、SYMBOL_FILLING_FOK とSYMBOL_FILLING_IOC プロパティを使用します。 これを読む限り、次のような仕様であるかのように見えます。 Instant/Request Execution （price 指定可） Market/Exchange Execution （price 指定不可） 成行注文 常に FOK ポリシーとして扱われる FOK / IOC ポリシーを選択できるかは ブローカーと取引対象のシンボルによるが、 RETURN ポリシーは常に選択可能 待機注文 常に RETURN ポリシーとして扱われる 例えば、注文執行方式として Market Execution を採用している OANDA Japan の MT5 では、成行注文時には必ず ORDER_FILLING_RETURN ポリシーが指定可能ということですね。 EA の実装では、シグナルが発生したタイミングで、指定したロット数を全部約定させてしまいたいので、RETURN ポリシーが必ず指定できるというのは都合がよさそうです。 ところがどっこい（古い）、実際に RETURN ポリシーを指定して成行の買い注文を出そうとしたら、思いっきり 10030: Unsupported filling mode のエラーが返ってきました。 どうも、OANDA Japan での成行注文時には IOC ポリシーしか指定できないようです（2021年1月）。 OANDA Japan が仕様を無視しているのか、ドキュメントの記載が間違っているのか、わたしの理解が間違っているのか。。。 いずれにしても、作成したプログラムをうまいこと動作させるためには、ブローカーが受け入れてくれるフィル・ポリシーを調べて、それに応じて処理を変えるしかなさそうです。 結局、フィル・ポリシーはどう指定すればいいか？ 上記で説明した通り、MqlTradeRequest オブジェクトの type_filling フィールドには、ブローカーが受け入れてくれるフィル・ポリシーの範囲内で値を指定する必要があります。 注文対象のシンボルが、どのフィル・ポリシーに対応しているかは、次のように SymbolInfoInteger(SYMBOL_FILLING_MODE) を使って調べることができます。 long modes = SymbolInfoInteger(Symbol(), SYMBOL_FILLING_MODE); if ((modes &amp; SYMBOL_FILLING_FOK) != 0) { Print(&#34;FOK ポリシーに対応しています&#34;); } if ((modes &amp; SYMBOL_FILLING_IOC) != 0) { Print(&#34;IOC ポリシーに対応しています&#34;); } // 成行注文時には RETURN ポリシーは無条件で指定可能とされているため、 // RETURN ポリシーに対応しているかを調べるビットフラグは用意されていないようです。 Print(&#34;RETURN ポリシーに対応しています（嘘かも）&#34;); しかし、何ということでしょう。 上記のようにしても、ブローカーが RETURN ポリシーを受け入れてくれるかどうかは判断できません（FOK、IOC の対応状況は判断できる）。 仕様上、成行注文では RETURN ポリシーは常に選択可能とされているため、RETURN ポリシーの有効性を調べられる API になっていないようです。 なので、現実的な選択肢としては、 IOC → FOK → RETURN の優先度で使えそうなポリシーを選択する FOK → IOC → RETURN の優先度で使えそうなポリシーを選択する という二択しかなさそうです。 もちろん、スクリプトや EA の入力変数でフィル・ポリシーを選択させるという手はありますが、そこをマニュアル指定にするのは煩わしいので、できるだけフィル・ポリシーの選択は自動化したい ところです。 下記のユーティリティ関数 SelectFillPolicy は、指定したシンボル（銘柄）で選択可能なフィル・ポリシーをひとつ返します。 Scripts/maku77/Util.mqh namespace Util { /** * 指定したシンボルで選択可能なフィル・ポリシーをひとつ返します。 * 優先度は IOC、FOK、RETURN の順です。 */ ENUM_ORDER_TYPE_FILLING SelectFillPolicy(string symbol) { long modes = SymbolInfoInteger(symbol, SYMBOL_FILLING_MODE); if ((modes &amp; SYMBOL_FILLING_IOC) != 0) return ORDER_FILLING_IOC; if ((modes &amp; SYMBOL_FILLING_FOK) != 0) return ORDER_FILLING_FOK; return ORDER_FILLING_RETURN; } } あとは、MqlTradeRequest オブジェクトの type_filling フィールドの値を次のように設定してやります。 MqlTradeRequest request = {0}; request.type_filling = Util::SelectFillPolicy(Symbol()); これで少なくとも、OrderSend 関数を呼び出したときのエラーコード 10030 (Unsupported filling mode) は発生しなくなるはずです。"},{url:"/p/p6fgxgf/",title:"MetaTrader/MQL: EA のマジックナンバーについて理解する",date:"2020-12-27T00:00:00Z",body:"MetaTrader/MQL: EA のマジックナンバーについて理解する マジックナンバー・ジェネレーター 再生成 EA 用のマジックナンバーとして、ランダムな 8 桁の整数値を生成するツールです。 生成されたコードを .mq5 コード内にコピペして使ってください。 変数 Magic の値は、MqlTradeRequest 構造体の magic フィールドなどにセットして使用します。 マジックナンバーとは MT4/5 の EA（エキスパートアドバイザ）から何らかの注文を出す場合、マジックナンバーと呼ばれる整数値を設定する必要があります。 これは、OrderSend 関数 で注文を出す場合も、CTrade クラス で注文を出す場合も同様です。 具体的には次のようにマジックナンバーを指定します。 MT5 の OrderSend 関数の場合 &hellip; MqlTradeRequest オブジェクト の magic フィールド（uint 値） MT5 の CTrade クラスの場合 &hellip; SetExpertMagicNumber メソッド（uint 値） MT4 の OrderSend 関数の場合 &hellip; magic パラメータ（int 値） このマジックナンバーは、どの EA から出された注文かを識別するため のものであり、1 つの口座内で複数の EA を動かすときは、それぞれ異なる値を割り当てておく必要があります。 マジックナンバーが重複してしまうと、別の EA から注文を修正されてしまうといった誤動作の原因になります。 マジックナンバーを設定しなくても注文用の API は呼び出せてしまいますが、このときはデフォルト値として 0 が使われます。 0 というマジックナンバーは手動でのエントリーを示す ものであり、EA のコードでは何らかの一意なマジックナンバーを指定しておく必要があります。 マジックナンバーは取引リストの画面では、「エキスパート ID」と表示されたりします。 正確には、マジックナンバーは EA ごとの ID というよりは、複数の取引をまとめて管理するための識別子です。 なので、1 つの EA の中で複数のマジックナンバーを扱うこともできます。 例えば、次のような EA で注文の種類ごとにマジックナンバーを割り当てたりします。 複数の時間足で同時に注文を出す EA 複数のアルゴリズムで同時に注文を出す EA 注文の種類ごとにマジックナンバーを割り当てることにより、アルゴリズム別に損益合計を求めたり、注文をまとめて決済したりできます。 とはいっても、シンプルな EA であれば、マジックナンバーは 1 つだけで十分です。 マジックナンバーの定義方法 マジックナンバーは、MT4 では int 型整数（最大値は 2147483647）、MT5 では uint 型整数（最大値はすごく大きな値）で設定します。 互換性を考えると 9 桁以下にしておくのが無難ですが、口座内で一意な値であればよいので、それほど大きな値を設定する必要はありません（5 桁とかでも十分）。 EA のコード内にマジックナンバーをハードコードしてしまうと、別の EA のものと重複した場合に困るので、マジックナンバーは外部パラメータとして値を変更できるようにしておくことをオススメします。 次の例では、マジックナンバーのデフォルト値を 71952000 に設定しつつ、ユーザーが自由に設定する余地を残しています。 Experts/SampleEA.mq5（EA の例） #include &lt;Trade/Trade.mqh&gt; input double Lot = 0.1; // 取引するロット数（ボリューム） input ulong Slippage = 3; // 許容スリッページポイント input ulong Magic = 71952000; // EAマジックナンバー CTrade trade; int OnInit() { trade.SetDeviationInPoints(Slippage); trade.SetExpertMagicNumber(Magic); return INIT_SUCCEEDED; } void OnTick() { // ... // if (!trade.Buy(Lot)) { ... } // ... }"},{url:"/p/oanyb2a/",title:"MetaTrader/MQL: OrderSend で注文を出す (MT4)",date:"2021-01-12T00:00:00Z",body:"MetaTrader/MQL: OrderSend で注文を出す (MT4) MT4 で指定したシンボル（USDJPY などの通貨ペア）に対して、成行注文や指値注文を出すには OrderSend 関数 を使用します。 MT4 バージョンと、MT5 バージョンでは関数のパラメータや戻り値が異なるので注意してください。 多くの環境では、まだ MT4 が使われているので、ここでは MT4 バージョンの OrderSend 関数の使い方を説明します。 OrderSend 関数 (MT4) の使い方 OrderSend 関数 (MQL4) int OrderSend( string symbol, // symbol int cmd, // operation double volume, // volume double price, // price int slippage, // slippage double stoploss, // stop loss double takeprofit, // take profit string comment=NULL, // comment int magic=0, // magic number datetime expiration=0, // pending order expiration color arrow_color=clrNONE // color ) OrderSend のパラメーター symbol &hellip; 注文する通貨ペアのシンボル名。例えば、&quot;USDJPY&quot; などを指定します。選択中のチャートのシンボルを使いたい場合は、Symbol() を指定すれば OK です。 cmd &hellip; 注文の種類 (Order Properties) を指定します。 OP_BUY &hellip; 成行買い OP_SELL &hellip; 成行売り OP_BUYLIMIT &hellip; 指値買い（今より安くなったら買う） OP_SELLLIMIT &hellip; 指値売り（今より高くなったら売る） OP_BUYSTOP &hellip; 逆指値買い（今より高くなったら買う） OP_SELLSTOP &hellip; 逆指値売り（今より安くなったら売る） volume &hellip; ロット数。多くの場合 0.1 で 1 万通貨です。 price &hellip; 価格。例えば、1 ドル 110.5 円で売買するなら 110.5 と指定します。スリッページを考慮するため、成行注文の場合でも指定する必要があります。 slippage &hellip; 最大許容スリッページ（ポイント）。price で指定した価格から、どれだけずれて約定してもいいかをポイントで指定します。例えば、USDJPY が小数点以下 3 桁の価格まで表示される FX 会社の場合、1ポイント＝0.001円 になります。プログラムで 1 ポイントがいくらかを調べる こともできます。 stoploss &hellip; 損切り価格（決済逆指値）。設定しない場合は 0。 takeprofit &hellip; 利食い価格（決済指値）。設定しない場合は 0。 comment=NULL &hellip; 注文のコメント。 magic=0 &hellip; 注文のマジックナンバー。 expiration=0 &hellip; 注文の有効期限。待機注文（指値／逆指値）のときのみ有効です。 arrow_color=clrNONE &hellip; 矢印の色。指定すると、ポジションをオープンしたときにチャート上に矢印が表示されます。 OrderSend 戻り値 OrderSend 関数は、注文に成功するとチケット番号を返します。注文に失敗すると、-1 を返します。 -1 が返された場合は、GetLastError() を使ってエラーの原因を調べることができます。 OrderSend による注文の例 下記のサンプルスクリプトを実行すると、カレントチャートの通貨ペアを 0.01 ロット（USDJPY であれば通常 1000 通貨）成行注文で購入します。 Scripts/Buy.mq4（スクリプトの例） #property strict #property show_confirm // 実行前に確認ダイアログを表示 #include &lt;stdlib.mqh&gt; // ErrorDescription 関数のため #define MShowLastError() \\ MessageBox(StringFormat(&#34;ERROR in %s: %s&#34;, \\ __FUNCTION__, ErrorDescription(GetLastError()))); // スクリプトのエントリーポイント void OnStart() { int ticket = OrderSend( Symbol(), // 現在の通貨 OP_BUY, // 成行買い 0.01, // ロット数は 0.01 ロット Ask, // 現在の提示価格で買う 1, // 最大許容スリッページは 1 ポイント 0, // 損切りレベルは設定しない (stoploss=0) 0 // 利食いレベルは設定しない (takeprofit=0) ); if (ticket == -1) { MShowLastError(); } else { PrintFormat(&#34;Ticket = %d&#34;, ticket); } }"},{url:"/p/mbewc25/",title:"MetaTrader/MQL: インジケーターの実装例 - 大きなシンボル名を表示する",date:"2023-06-18T00:00:00Z",body:"MetaTrader/MQL: インジケーターの実装例 - 大きなシンボル名を表示する 図: LargeSymbol インジケーター 下記の LargeSymbol インジケーターをチャートに適用すると、チャートの左上に大きな文字で通貨ペアと、タイムフレーム（時間足）を表示します（コードリポジトリはこちら）。 Indicators/maku/LargeSymbol.mq5 /* * LargeSymbol indicator. * * This indicator displays large symbol name and timeframe * on the top-left corner of the current chart. */ #property copyright &#34;maku77&#34; #property link &#34;https://toushi.maku.blog/&#34; #property version &#34;1.00&#34; #property strict #property indicator_chart_window #property indicator_plots 0 // Surpress &#34;no indicator plot&#34; warning #include &lt;maku77/ErrorUtil.mqh&gt; #include &lt;ChartObjects/ChartObjectsTxtControls.mqh&gt; input color gForegroundColor = clrBlack; // Foreground color input color gBackgroundColor = clrWhite; // Background color CChartObjectLabel gLabel; CChartObjectRectLabel gRect; // Hide Open/High/Low/Close price indicator void HideOhlc() { ::ChartSetInteger(0, CHART_SHOW_OHLC, false); } string RandomObjectName() { return &#34;Object-&#34; + IntegerToString(MathRand()); } string GetPeriodText() { switch (Period()) { case PERIOD_D1: return &#34;D1&#34;; case PERIOD_H1: return &#34;H1&#34;; case PERIOD_H4: return &#34;H4&#34;; case PERIOD_M1: return &#34;M1&#34;; case PERIOD_M5: return &#34;M5&#34;; case PERIOD_M15: return &#34;M15&#34;; case PERIOD_M30: return &#34;M30&#34;; case PERIOD_MN1: return &#34;MN1&#34;; case PERIOD_W1: return &#34;W1&#34;; } return &#34;???&#34;; } string GetLabelText() { return Symbol() + &#34;, &#34; + GetPeriodText(); } bool AddRect() { // Create a new rectangle if (!gRect.Create(0, RandomObjectName(), 0, 0, 0, 200, 50)) { ErrorUtil::AlertLastError(); return false; } // Position gRect.Corner(CORNER_LEFT_UPPER); // Background gRect.BackColor(gBackgroundColor); gRect.Background(false); gRect.Width(0); return true; } bool AddLabel() { // Create a new label if (!gLabel.Create(0, RandomObjectName(), 0, 0, 0)) { ErrorUtil::AlertLastError(); return false; } // Text gLabel.SetString(OBJPROP_TEXT, GetLabelText()); gLabel.Font(&#34;Arial&#34;); gLabel.FontSize(16); gLabel.Color(gForegroundColor); // Position gLabel.Corner(CORNER_LEFT_UPPER); gLabel.Anchor(ANCHOR_LEFT_UPPER); gLabel.X_Distance(10); gLabel.Y_Distance(0); return true; } int OnInit() { HideOhlc(); if (!AddRect()) return INIT_FAILED; if (!AddLabel()) return INIT_FAILED; return INIT_SUCCEEDED; } int OnCalculate(const int rates_total, const int prev_calculated, const datetime &amp;time[], const double &amp;open[], const double &amp;high[], const double &amp;low[], const double &amp;close[], const long &amp;tick_volume[], const long &amp;volume[], const int &amp;spread[]) { return rates_total; }"},{url:"/p/tsig7ew/",title:"MetaTrader/MQL: インジケーターの実装例 - アカウント（口座）情報を表示する",date:"2016-03-26T00:00:00Z",body:"MetaTrader/MQL: インジケーターの実装例 - アカウント（口座）情報を表示する 図: AccountInfo インジケーター 下記の AccountInfo インジケータを使用すると、チャート上に口座情報（証拠金情報）を表示することができます。 Indicators/maku/AccountInfo.mq5 それぞれの表示は下記のような意味を持っています。 Balance: 証拠金残高 Profit: 損益 Equity: 純資産（証拠金残高 - 損益） Margin level: 証拠金維持率 Margin: 必要証拠金 Free margin: 有効証拠金 こういった口座情報は、AccountInfo* 系の API で取得することができます。 詳しくは下記を参照してください。 MetaTrader/MQL: アカウント情報（口座情報）を取得する (AccountInfo*) (MT5)"},{url:"/p/3emsz6c/",title:"MetaTrader/MQL: インジケーターの実装例 - Momentum（モメンタム）",date:"2015-06-14T00:00:00Z",body:"MetaTrader/MQL: インジケーターの実装例 - Momentum（モメンタム） モメンタムは下記の計算式で求められます。 モメンタム = 現在の価格 - X日前の価格 ある一定期間前の価格と比べ、現在の価格がどれだけ上下しているかを示すため、相場の勢いを知るために使用されます。 どれくらい前の価格と比較するかは、一般的に下記のような値が使用されます。 日足の場合 &hellip; 10日、25日 週足の場合 &hellip; 9週、13週、26週 月足の場合 &hellip; 3ヶ月、6ヶ月、9ヶ月 モメンタムは価格の差分を表すため、通常は下記のように別ウィンドウに表示します。 Momentum.mq5 #property copyright &#34;Maku&#34; #property version &#34;1.00&#34; // Global settings #property description &#34;Momentum&#34; #property strict #property indicator_separate_window #property indicator_buffers 1 #property indicator_plots 1 // Indicator settings #property indicator_type1 DRAW_LINE #property indicator_color1 clrCyan #property indicator_style1 STYLE_SOLID #property indicator_width1 1 // Input parameters input int gPeriod = 25; // Momentum Period // Indicator bufferes double gMomentumBuffer[]; // Initialize the indicator. int OnInit() { if (gPeriod &lt;= 0) { Alert(&#34;Period must be larger than 0&#34;); return INIT_PARAMETERS_INCORRECT; } string label = StringFormat(&#34;Momemtum (%i)&#34;, gPeriod); SetIndexBuffer(0, gMomentumBuffer); SetIndexLabel(0, label); IndicatorShortName(label); return INIT_SUCCEEDED; } /** * [Utility] * How many candles should be re-calculated. */ int changedBars(int rates_total, int prev_calculated) { if (prev_calculated == 0) { return rates_total; } // The latest bar should be updated, so add 1. return rates_total - prev_calculated + 1; } int calcMomentum(double &amp;buf[], const double &amp;price[], int price_total, int changed, int period) { // Needs adequate price data for calculating if (price_total &lt; period) { ArrayFill(buf, 0, price_total, EMPTY_VALUE); return 0; } // Update momentum buffer int count = MathMin(changed, price_total - period); for (int i = 0; i &lt; count; ++i) { buf[i] = price[i] - price[i + period]; } return price_total; } // Handle change of a tick int OnCalculate(const int rates_total, const int prev_calculated, const datetime &amp;time[], const double &amp;open[], const double &amp;high[], const double &amp;low[], const double &amp;close[], const long &amp;tick_volume[], const long &amp;volume[], const int &amp;spread[]) { int changed = changedBars(rates_total, prev_calculated); calcMomentum(gMomentumBuffer, close, rates_total, changed, gPeriod); // return value of prev_calculated for next call return rates_total; }"},{url:"/p/f2eq2dp/",title:"MetaTrader/MQL: インジケーターの実装例 - WMA（加重移動平均）",date:"2015-06-10T00:00:00Z",body:"MetaTrader/MQL: インジケーターの実装例 - WMA（加重移動平均） WMA: Weighted Moving Average（加重移動平均線）は、直前の価格ほど重みをおいた移動平均線です。 考え方は EMA（指数平滑移動平均線）に近いのですが、WMA の方が計算はシンプルです。 例えば、5 WMA は以下のように求められます。 下記の値を合計する 1 つ前の値 x 5 2 つ前の値 x 4 3 つ前の値 x 3 4 つ前の値 x 2 5 つ前の値 x 1 これを 15 (1+2+3+4+5) で割る MyWma.mq5 #property copyright &#34;Maku&#34; #property link &#34;http://www.mql5.com&#34; #property version &#34;1.00&#34; #property strict // Chart settings #property indicator_chart_window #property indicator_buffers 1 #property indicator_plots 1 // Each indicator settings #property indicator_type1 DRAW_LINE #property indicator_style1 STYLE_SOLID #property indicator_width1 1 #property indicator_color1 clrPink // Input parameters input int gPeriod = 25; // Period of WMA // Indicator buffers double gWmaBuffer[]; /** * [Utility] * How many candles should be re-calculated. */ int changedBars(int rates_total, int prev_calculated) { if (prev_calculated == 0) { return rates_total; } // The latest bar should be updated, so add 1. return rates_total - prev_calculated + 1; } int OnInit() { if (gPeriod &lt;= 0) { Alert(&#34;Period must be larger than 0&#34;); return INIT_PARAMETERS_INCORRECT; } SetIndexBuffer(0, gWmaBuffer); SetIndexLabel(0, StringFormat(&#34;WMA(%i)&#34;, gPeriod)); IndicatorShortName(StringFormat(&#34;WMA(%i)&#34;, gPeriod)); return INIT_SUCCEEDED; } /** * Calculates WMA. The size of vals must be equal or larger than index + count. */ double calcWma(const double&amp; vals[], int index, int count) { double sum = 0; for (int i = 0; i &lt; count; ++i) { sum += vals[i + index] * (count - i); } return (sum * 2) / (count * (count + 1)); } int updateWma(const double&amp; prices[], int rates_total, int prev_calculated) { // Is there enough amount of price data? if (rates_total &lt; gPeriod) { return 0; } int changed = changedBars(rates_total, prev_calculated); int count = MathMin(changed, rates_total - gPeriod + 1); for (int i = 0; i &lt; count; ++i) { gWmaBuffer[i] = calcWma(prices, i, gPeriod); } // Print(&#34;Latest WMA = &#34;, gWmaBuffer[0]); return rates_total; } int OnCalculate(const int rates_total, const int prev_calculated, const datetime &amp;time[], const double &amp;open[], const double &amp;high[], const double &amp;low[], const double &amp;close[], const long &amp;tick_volume[], const long &amp;volume[], const int &amp;spread[]) { // PlaySound(&#34;tick.wav&#34;); return updateWma(close, rates_total, prev_calculated); }"},{url:"/p/h3fr3do/",title:"MetaTrader/MQL: インジケーターの実装例 - SMA（単純移動平均）",date:"2015-02-01T00:00:00Z",body:"MetaTrader/MQL: インジケーターの実装例 - SMA（単純移動平均） 移動平均線のカスタムインジケータを作成する 単純移動平均線 (SMA: Simple Moving Average) を表示するためのインジケータはデフォルトで用意されていますが、ここでは勉強のためにインジケータを自作してみます。 MySma.mq5 #property description &#34;My Moving Average&#34; #property strict #property indicator_chart_window #property indicator_buffers 1 #property indicator_plots 1 // Indicator settings #property indicator_label1 &#34;MA&#34; #property indicator_type1 DRAW_LINE #property indicator_color1 clrRed #property indicator_style1 STYLE_SOLID #property indicator_width1 1 // Input parameters input int gPeriod = 7; // MA Period // Indicator buffers double gMaBuffer[]; int OnInit() { if (gPeriod &lt;= 0) { Alert(&#34;Period must be larger than 0&#34;); return INIT_PARAMETERS_INCORRECT; } SetIndexBuffer(0, gMaBuffer); IndicatorShortName(&#34;MA(&#34; + gPeriod + &#34;)&#34;); return INIT_SUCCEEDED; } /** * [Utility] * How many candles should be re-calculated. */ int changedBars(int rates_total, int prev_calculated) { if (prev_calculated == 0) { return rates_total; } // The latest bar should be updated, so add 1. return rates_total - prev_calculated + 1; } /** * Calculate average of vals[index .. index+count) */ double average(const double &amp;vals[], int index, int count) { double sum = 0.0; for (int i = 0; i &lt; count; ++i) { sum += vals[index + i]; } return sum / count; } /** * Updates a moving average buffer. * * Parameters: * buf -- the buffer where calculated MA is stored * price -- the price used for calculating the MA * price_count -- the number of prices * changed -- price[0..changed-1] has been updated * period -- MA&#39;s period */ void calcMovingAverage(double &amp;buf[], const double &amp;price[], int price_count, int changed, int period) { // Needs adequate price data for calculating MA. if (price_count &lt; period) { ArrayFill(buf, 0, price_count, EMPTY_VALUE); return; } // Update each MA int count = MathMin(changed, price_count - period + 1); for (int i = 0; i &lt; count; ++i) { buf[i] = average(price, i, period); } } int OnCalculate(const int rates_total, const int prev_calculated, const datetime &amp;time[], const double &amp;open[], const double &amp;high[], const double &amp;low[], const double &amp;close[], const long &amp;tick_volume[], const long &amp;volume[], const int &amp;spread[]) { if (rates_total &lt; gPeriod) { return 0; } int changed = changedBars(rates_total, prev_calculated); calcMovingAverage(gMaBuffer, close, rates_total, changed, gPeriod); return rates_total; } コードの説明 // Input parameters input int gPeriod = 7; // MA Period 何本のローソク足を使って平均値を求めるかを示す変数です。 input キーワードを使うことで、インジケータをチャートにセットするときに、ユーザが自由に値を変更できるようになります。 そのときにデフォルトでは変数名が表示されるのですが、上記のように、変数宣言の後ろにコメントを記載しておくと、そのテキストが代わりに表示されるようになります。 // Indicator buffers double gMaBuffer[]; int OnInit() { if (gPeriod &lt;= 0) { Alert(&#34;Period must be larger than 0&#34;); return INIT_PARAMETERS_INCORRECT; } SetIndexBuffer(0, gMaBuffer); IndicatorShortName(&#34;MA(&#34; + gPeriod + &#34;)&#34;); return INIT_SUCCEEDED; } 今回は、移動平均線を一本だけ表示するので、指標バッファをひとつだけ (gMaBuffer) 用意しています。 void calcMovingAverage(double &amp;buf[], const double &amp;price[], int price_count, int changed, int period) { // Needs adequate price data for calculating MA. if (price_count &lt; period) { ArrayFill(buf, 0, price_count, EMPTY_VALUE); return; } // Update each MA int count = MathMin(changed, price_count - period); for (int i = 0; i &lt; count; ++i) { buf[i] = average(price, i, period); } } int OnCalculate(...) { int changed = changedBars(rates_total, prev_calculated); calcMovingAverage(gMaBuffer, close, rates_total, changed, gPeriod); return rates_total; } OnCalculate 関数では、実際に移動平均を求めていきます。 ローソク足の数（rates_total）が移動平均区間に満たない場合は、移動平均を求めることはできないので、そのまま return しています。 その後、各ローソク足から見て、指定区間分の合計を求めて平均を出しています。 よく考えると、各計算で重複した期間を合計しているので、もう少し計算を効率化できることが分かります。 移動平均計算の最適化 下記は、移動平均線の計算処理において、重複した計算をしないように効率化したものです。 /** * Sum the elements of the array. */ double sumArray(const double&amp; values[], int count) { double sum = 0.0; for (int i = 0; i &lt; count; ++i) { sum += values[i]; } return sum; } /** * Updates a moving average buffer. * * Parameters: * buf -- the buffer where calculated MA is stored * price -- the price used for calculating the MA * price_count -- the number of prices * changed -- price[0..changed-1] has been updated * period -- MA&#39;s period */ void calcMovingAverage(double &amp;buf[], const double &amp;price[], int price_count, int changed, int period) { // Needs adequate price data for calculating MA. if (price_count &lt; period) { ArrayFill(buf, 0, price_count, EMPTY_VALUE); return; } // Update the MA for the latest candle double sum = sumArray(price, period); buf[0] = sum / period; // Update each MA int count = MathMin(changed, price_count - period); for (int i = 0; i &lt; count - 1; ++i) { sum = sum - price[i] + price[i + period]; buf[i + 1] = sum / period; } } 3 本の移動平均線を表示する 下記は、ひとつのカスタムインジケータで、複数の移動平均線を表示するサンプルです。 ここでは、3 本の移動平均線を表示しています。 1 本のときと異なるのは、3 本分の指標バッファを用意しているところだけです。 MySma.mt4 // Global settings #property description &#34;My Moving Average&#34; #property strict #property indicator_chart_window #property indicator_buffers 3 #property indicator_plots 3 // Indicator settings #property indicator_type1 DRAW_LINE #property indicator_type2 DRAW_LINE #property indicator_type3 DRAW_LINE #property indicator_color1 clrPink #property indicator_color2 clrYellow #property indicator_color3 clrCyan #property indicator_style1 STYLE_SOLID #property indicator_style2 STYLE_SOLID #property indicator_style3 STYLE_DOT #property indicator_width1 1 #property indicator_width2 1 #property indicator_width3 1 // Input parameters input int gPeriod1 = 5; // MA Period 1 input int gPeriod2 = 25; // MA Period 2 input int gPeriod3 = 75; // MA Period 3 // Indicator buffers double gMaBuffer1[]; double gMaBuffer2[]; double gMaBuffer3[]; int OnInit() { if (gPeriod1 &lt;= 0 || gPeriod2 &lt;= 0 || gPeriod3 &lt;= 0) { Alert(&#34;Period must be larger than 0&#34;); return INIT_PARAMETERS_INCORRECT; } SetIndexBuffer(0, gMaBuffer1); SetIndexBuffer(1, gMaBuffer2); SetIndexBuffer(2, gMaBuffer3); SetIndexLabel(0, StringFormat(&#34;MA(%i)&#34;, gPeriod1)); // データウィンドウに出る名前 SetIndexLabel(1, StringFormat(&#34;MA(%i)&#34;, gPeriod2)); SetIndexLabel(2, StringFormat(&#34;MA(%i)&#34;, gPeriod3)); IndicatorShortName(StringFormat(&#34;MA(%i, %i, %i)&#34;, gPeriod1, gPeriod2, gPeriod3)); return INIT_SUCCEEDED; } /** * [Utility] * How many candles should be re-calculated. */ int changedBars(int rates_total, int prev_calculated) { if (prev_calculated == 0) { return rates_total; } // The latest bar should be updated, so add 1. return rates_total - prev_calculated + 1; } /** * Sum the elements of the array. */ double sumArray(const double&amp; values[], int count) { double sum = 0.0; for (int i = 0; i &lt; count; ++i) { sum += values[i]; } return sum; } /** * Updates a moving average buffer. * * Parameters: * buf -- the buffer where calculated MA is stored * price -- the price used for calculating the MA * price_count -- the number of prices * changed -- price[0..changed-1] has been updated * period -- MA&#39;s period */ void calcMovingAverage(double &amp;buf[], const double &amp;price[], int price_count, int changed, int period) { // Needs adequate price data for calculating MA. if (price_count &lt; period) { ArrayFill(buf, 0, price_count, EMPTY_VALUE); return; } // Update the MA for the latest candle double sum = sumArray(price, period); buf[0] = sum / period; // Update each MA int count = MathMin(changed, price_count - period); for (int i = 0; i &lt; count - 1; ++i) { sum = sum - price[i] + price[i + period]; buf[i + 1] = sum / period; } } int OnCalculate(const int rates_total, const int prev_calculated, const datetime &amp;time[], const double &amp;open[], const double &amp;high[], const double &amp;low[], const double &amp;close[], const long &amp;tick_volume[], const long &amp;volume[], const int &amp;spread[]) { int changed = changedBars(rates_total, prev_calculated); calcMovingAverage(gMaBuffer1, close, rates_total, changed, gPeriod1); calcMovingAverage(gMaBuffer2, close, rates_total, changed, gPeriod2); calcMovingAverage(gMaBuffer3, close, rates_total, changed, gPeriod3); return rates_total; }"},{url:"/p/8t7it5f/",title:"MetaTrader/MQL: 雑多メモ",date:"2023-06-18T00:00:00Z",body:"MetaTrader/MQL: 雑多メモ"},{url:"/p/xbskchu/",title:"FX（外国為替証拠金取引）",date:"2017-12-03T00:00:00Z",body:"FX（外国為替証拠金取引） FX Clock 外部リンク: MetaTrader によるシステムトレード FX のファーストステップ 規律のある FX 取引を始めるためのファーストステップは、ルールを決めることです。まずはここから始めよう。 1回の取引あたりの最大損失は？ 1回の取引通貨量を決める 最大損切 pips を決める 最小利食い pips を決める"},{url:"/p/etedykx/",title:"FX - MetaTrader による自動売買",date:"2023-07-17T00:00:00Z",body:"FX - MetaTrader による自動売買"},{url:"/p/ecse2sc/",title:"読書メモ『相場師スクーリング』",date:"2024-01-27T00:00:00Z",body:"読書メモ『相場師スクーリング』 相場師スクーリング 林 輝太郎 同友館 → 『株式投資・投資信託』の売れ筋ランキング 大正時代に生まれた相場師、林輝太郎氏が率いる林輝太郎投資研究所（現在は林投資研究所）で、彼が生徒たちに投資の手法をどのように指導していたかについて説明した本です。 書かれていることをざっとまとめると、必要最小限のプロの道具（場帳、玉帳、グラフ、勉強ノート）を使って、理論だけじゃなくて実際にやってみることが大事という内容です。 30 年前の書籍ですが、「プロの取引は地味」「実践が大事」「ストップ・マイナス」という考え方は今でも変わらないですね。 手書きの場帳をものすごく推しているんですが、このやり方は今でも必要な作業なのでしょうか？ プロの投資家の方、誰か教えてください（←林氏が存命だったら一番怒られる考え方）。 下記メモメモ。 実践せよ 研究ではなく習得しなさい。 水の中でしか泳ぎを習得できないのと同じで、机上の研究では利益を得るやり方は身につかない。 相場というものは理性、つまり理論的分析などで動くものではないので、理論的勉強をしているのは根本的に間違っている。 技術（技法）というものは、人間の、それも個人的なことであるため、職人と同じで経験を積み重ねるしかない。 上達するには自分でやれ。 よりどころを持つ 独学にはよりどころがなく、それに基づいた実践がないため上達しない。 例えば、稼働や剣術でいうところの◯◯流のようなものがないのでフラフラしてしまう。 「技術の上達」と「よりどころを持つ」ことは、にわとりと卵であり、どっちが先ということはない。 主義主張を持ち → それに基づく方法を持ち → 実践する 実践できない主義主張を持ってはいけない。 道具が重要 相場も料理と同じで、プロ仕様の道具を使い、見よう見まねに行えば、なんとか売買らしきものができる。 ストップ・マイナス思考 「マイナス」でなければ「ゼロかプラス」である。だからマイナスを止めればよい。 「やるべきこと」を定義するのは難しいが、「やってはいけないこと」はわかりやすい。 「禁止事項」をやらないこと、「注意事項」を守ること成功の近道である。 プロの売買は地味である 株や商品の売買では、派手なことをやろうとするよりも、地味なことを守るべきだ。 複合させたグラフは、描くことも見ることも禁止。 一般投資家の悪いところは、いろいろな方式をやる、ひとつの方式の中に別な方式を併用する、というところである。 重要なのは広さではなく、水準の高さである。 商品とは売るものである 投資家が一段の進歩をするためには、「売りというもの」の理解が必須である。 多くの投資家が買いに偏る → 「売り」について学ばなければいけない。 自分の相場観を捨てるために、一年間は（順ザヤの先物を）新甫毎に売る。 どうしても「理想買い」の立場に片寄りがちだった自分の相場人生に「現実売り」の新しい風を入れる。 売買活動の方式 銘柄選別に主眼を置く方法 &hellip; 選ぶまでが勝負 銘柄を限定する方法 &hellip; 売買技法が勝負 こちらのやり方に切り替えると、初心者にありがちな、「手持ちが塩漬け株だらけ」という状況から抜け出せる。 分割売買（仕掛けと手仕舞い）の技術を磨く必要がある。 自分自身を厳しい環境の中に置く プロはローソク足ではなく折れ線グラフを使う。 ローソク足は変化（許容範囲）をやさしく見せてしまう。平均足のように価格をアレンジしたものはもっと顕著である。"},{url:"/",title:"まくまく投資ノート",date:"2024-01-27T00:00:00Z",body:"まくまく投資ノート"},{url:"/p/wcx72e7/",title:"投資関連書籍",date:"2024-01-27T00:00:00Z",body:"投資関連書籍 トレーダーズショップ商品検索: 投資関連の書籍を探すときは、トレーダーズショップ を利用するのがおすすめです。 Amazon では取り扱っていない商品も多数取り揃えています。 また、ここで購入すると、オリジナルの投資本カタログを送ってくれます。"},{url:"/p/yx2ii4s/",title:"カバードワラント",date:"2023-10-04T00:00:00Z",body:"カバードワラント カバードワラントはオプション取引の一種で、特定の株式を購入する権利（コールオプション）や、株式を一定の価格で売る権利（プットオプション）を証券化したものです。 日本のカバードワラントとしては、店頭カバードワラントの e ワラントが一部の証券会社で扱われていたが 2024 年にすべて終了。 2023年10月4日: カイカ証券（旧eワラント証券株式会社）が第一種金融商品取引業及び投資運用業を廃止。 2024年5月8日: 上記に伴い、SBI 証券での取り扱いが終了し、日本での e ワラントの扱いが終了。 2013年7月の東京証券取引所と大阪証券取引所の現物市場の統合に伴い、日本における上場カバードワラント市場は消滅しました。この時点で、日本では店頭カバードワラントである e ワラントのみになりましたが、上記の通り、e ワラントの取り扱いもなくなりました。 非上場の店頭カバードワラントは証券会社が取引相手で、証券会社が設定している時間内であれば取引が可能です。逆にオプション取引の場合は、取引所で反対取引をしている相手が見つからなければ取引は成立しません。 カバードワラントの税金 「先物取引に係る雑所得等の課税の特例」の対象 雑所得の分離課税 (20.315%) 外国為替証拠金取引 (FX) / 差金決済取引 (CFD)、株価指数先物取引と損益通算が可能"},{url:"/p/7vdkmy5/",title:"コラム・勉強",date:"2023-10-04T00:00:00Z",body:"コラム・勉強"},{url:"/p/ibp4usz/",title:"テクニカル指標: Stochastic Oscillator（ストキャスティクス）",date:"2023-09-25T00:00:00Z",body:"テクニカル指標: Stochastic Oscillator（ストキャスティクス） ストキャスティクスの概要 オシレーター系のテクニカル指標。逆張りの指標。 %K と %D の 2 つの線で構成されます。 %K &hellip; 終値の位置が一定の日数の価格レンジ（値動きした範囲）の中でどの位置にあるかを示す。 %D &hellip; %K を滑らかにしたもの。 売買のタイミング 低い位置で %K が %D を上抜けたら買い。 %K と %D の 2 本のラインのクロスをサインにする（ファストキャスティクス） %D と %D の移動平均 (SD) を使ってサインの出方を緩やかにする方法（スローストキャスティクス） ストキャスティクスの考察 全体的に取引回数が多くなりがち。 勝率が20％など低くなりがち。 でもこれは、逆張りで相場の反転を狙う手法なので当然ともいえます。 短期トレードになることが多いので、トレーリングストップとの併用はあまり有効ではない。"},{url:"/p/94ndjhz/",title:"テクニカル指標",date:"2023-09-25T00:00:00Z",body:"テクニカル指標"},{url:"/p/aamwkiu/",title:"MetaTrader/MQL: EA で使用できるイベント",date:"2023-07-17T00:00:00Z",body:"MetaTrader/MQL: EA で使用できるイベント EA（エキスパートアドバイザー）のプログラム内で、決まったシグネチャ（関数名やパラメーター構成）で関数を定義しておくと、特定のイベント発生時に自動的にその関数を呼び出してくれるようになります。 参考リンク アプリの種類ごとに扱えるイベントハンドラーの一覧 カスタムインジケーターで使用できるイベント スクリプトで使用できるイベント EA では次のようなイベントハンドラーを定義することができます。 OnInit 関数 int OnInit(void); EA の OnInit() 関数は、Init イベントが発生したときに呼び出されます。 戻り値が void のバージョンもありますが、互換性のために残されているだけなので、int を返すバージョンを使ってください。 OnDeinit 関数 void OnDeinit(const int reason); EA の OnDeinit() 関数は、Deinit イベントが発生したときに呼び出されます。 OnCalculate 関数 int OnCalculate( const int rates_total, // price[] array size const int prev_calculated, // number of handled bars at the previous call const int begin, // index number in the price[] array meaningful data starts from const double&amp; price[] // array of values for calculation ); int OnCalculate( const int rates_total, // size of input time series const int prev_calculated, // bars handled in previous call const datetime&amp; time[], // Time const double&amp; open[], // Open const double&amp; high[], // High const double&amp; low[], // Low const double&amp; close[], // Close const long&amp; tick_volume[], // Tick Volume const long&amp; volume[], // Real Volume const int&amp; spread[] // Spread ); EA の OnCalculate() 関数は、Calculate イベントが発生したとき（最新の価格が変化したとき）に呼び出されます。 EA を最初にチャートにアタッチしたときにも呼び出されます。 OnTimer 関数 void OnTimer(void); EA の OnTimer() 関数は、Timer イベントが発生したときに呼び出されます。 EventSetTimer() 関数でセットした秒数ごとに Timer イベントが発生します。タイマーのセットは、通常 OnInit() 関数で行います。 OnChartEvent 関数 void OnChartEvent() const int id, // event ID const long&amp; lparam, // long type event parameter const double&amp; dparam, // double type event parameter const string&amp; sparam // string type event parameter ); EA の OnChartEvent() 関数は、ChartEvent イベントが発生したときに呼び出されます。 EventChartCustom() 関数を使うと、独自の ChartEvent イベントを発生させることができます。 OnBookEvent 関数 void OnBookEvent(const string&amp; symbol); EA の OnBookEvent() 関数は、BookEvent イベントが発生したときに呼び出されます。 OnTick 関数 void OnTick(void); EA の OnTick() 関数は、NewTick イベントが発生したときに呼び出されます。 OnTick() は EA 専用のイベントハンドラです（インジケーターやスクリプトでは使用できません）。 NewTick イベントを OnTick() 関数で処理している最中に次の NewTick イベントが発生した場合、そのイベントはイベントキューに積まれないことに注意してください。 OnTick() 内の処理は短時間で終える必要があるため、Sleep() 関数や MessageBox() 関数の呼び出しは禁止されています。 EA による自動売買が許可されていない場合でも、OnTick() 関数は呼び出されます。 OnTrade 関数 void OnTrade(void); EA の OnTrade() 関数は、Trade イベントが発生したときに呼び出されます。 OnTrade() は EA 専用のイベントハンドラです（インジケーターやスクリプトでは使用できません）。 OnTester 関数 double OnTester(void); EA の OnTester() 関数は、Tester イベントが発生したときに呼び出されます。 OnTester() は EA 専用のイベントハンドラです（インジケーターやスクリプトでは使用できません）。"},{url:"/p/k3cmv5e/",title:"MetaTrader/MQL: EA（エキスパートアドバイザー）",date:"2023-07-17T00:00:00Z",body:"MetaTrader/MQL: EA（エキスパートアドバイザー）"},{url:"/p/um6bbep/",title:"MetaTrader/MQL: アプリの種類ごとに扱えるイベントハンドラーの一覧",date:"2023-07-16T00:00:00Z",body:"MetaTrader/MQL: アプリの種類ごとに扱えるイベントハンドラーの一覧 MQL で作成するアプリの種類によって、自動的に呼び出される関数（イベントハンドラー）が異なっています。 よく使うイベントハンドラーに関しては、ファイルを新規作成するときに雛形コードを自動生成してくれるようになっています。 スクリプト インジケーター EA（エキスパートアドバイザー） OnStart() ✅ OnInit() ✅ ✅ OnDeinit() ✅ ✅ OnCalculate() ✅ ✅ OnTimer() ✅ ✅ OnChartEvent() ✅ ✅ OnBookEvent() ✅ ✅ OnTick() ✅ OnTrade() ✅ OnTester() ✅ 参考リンク スクリプトで使用できるイベント カスタムインジケーターで使用できるイベント EA で使用できるイベント"},{url:"/p/jszsprh/",title:"MetaTrader/MQL: スクリプト",date:"2023-07-16T00:00:00Z",body:"MetaTrader/MQL: スクリプト"},{url:"/p/fvh3d6r/",title:"MetaTrader/MQL: スクリプトで使用できるイベント",date:"2023-07-16T00:00:00Z",body:"MetaTrader/MQL: スクリプトで使用できるイベント MetaTrader のスクリプトでハンドル可能なイベントは、Start イベントのみです。 OnStart 関数 int OnStart(void); スクリプトの OnStart() 関数は、Start イベントが発生したときに呼び出されます。 戻り値が void のバージョンもありますが、互換性のために残されているだけなので、int を返すバージョンを使ってください。 スクリプトは、チャートにアタッチした瞬間にロードされ、実行されます。 そして、その処理が完了され次第、自動的にアンロードされます。 ☝️ インジケーターでは OnInit() や OnDeinit() は使えない カスタムインジケーターや EA では、OnInit() や OnDeinit() が呼び出されるようになっていますが、スクリプトではこれらの関数は呼び出されません。 これらのイベントハンドラーは、チャートの内容（シンボルや時間足）が変更されたときのために用意されています。 それが必要なのは、カスタムインジケーターや EA のみです。 スクリプトには OnStart() だけあれば十分なのです。 参考リンク アプリの種類ごとに扱えるイベントハンドラーの一覧 カスタムインジケーターで使用できるイベント EA で使用できるイベント"},{url:"/p/q37kiwa/",title:"MetaTrader/MQL: テキストを出力する方法まとめ (Alert, Comment, Print, MessageBox)",date:"2023-06-18T00:00:00Z",body:`MetaTrader/MQL: テキストを出力する方法まとめ (Alert, Comment, Print, MessageBox) Alert/Comment/Print 関数 プログラムのテストや、ユーザへの通知のために画面上にテキストを表示したい場合は、下記の関数を使用できます。 Alert 関数 &hellip; アラートボックスでテキスト表示する（Strategy Tester での実行時は無視されます） Comment 関数 &ndash; チャートの左上にテキスト表示する Print 関数 &ndash; Terminal ビュー (Ctrl+T) の Expert タブ内にテキスト表示する メソッドごとに出力先は異なりますが、どのメソッドも渡されたパラメータの型によって適切な形式でテキスト表示してくれます。 string s = &#34;Hello&#34;; bool b = true; int i = 100; float f = 0.123456789f; double d = 0.123456789; datetime dt = TimeLocal(); color cl = C&#39;0xFF,0xC0,0x80&#39;; Alert(s); //=&gt; Hello Alert(b); //=&gt; true Alert(i); //=&gt; 100 Alert(f); //=&gt; 0.12346 Alert(d); //=&gt; 0.123456789 Alert(dt); //=&gt; 2014.12.19 23:59:59 Alert(cl); //=&gt; 255,192,128 パラメータは複数渡すことができ、それぞれが連結されて表示されます。 Print(&#34;value = &#34;, value); //=&gt; &#34;value = 100&#34; 出力時に改行を入れたい場合は、文字列中に改行コード (\\n) を含めれば OK です。 Comment(&#34;AAA\\nBBB\\nCCC&#34;); メッセージボックスを表示する MessageBox 関数を使用すると、Yes/Cancel ボタンなどを表示し、ユーザの意思を確かめることができます。 確認ダイアログ (OK or Cancel) を表示する int ret = MessageBox(&#34;Are you sure?&#34;, &#34;&#34;, MB_OKCANCEL | MB_ICONQUESTION); if (ret == IDOK) { // OK button was pressed } Comment 関数を使いやすくする チャートの左上にテキスト表示する Comment 関数は、続けて呼び出すと、最後に指定したテキストで内容が上書きされてしまいます。 次のような関数を用意しておけば、過去に出力したメッセージを残しながら追加出力していくことができます。 void Debug(string msg) { static string lines = &#34;&#34;; lines = msg + &#34;\\n&#34; + lines; Comment(lines); } 使用例 void OnStart() { Debug(&#34;AAA&#34;); Debug(&#34;BBB&#34;); Debug(&#34;CCC&#34;); } 上記の Debug 関数は、呼び出すごとにどんどんメッセージの行数が増えていってしまいますが、出力を最大 10 行に抑えたい場合などは、例えば以下のようにします。 #include &lt;Arrays\\ArrayString.mqh&gt; void Debug(string msg) { static const int MAX_LINES = 10; static CArrayString lines; int len = lines.Total(); if (len &gt; MAX_LINES - 1) { lines.Delete(0); --len; } lines.Add(msg); string text = &#34;&#34;; for (int i = len; i &gt;= 0; --i) { text += lines.At(i) + &#34;\\n&#34;; } Comment(text); }`},{url:"/p/8779pnk/",title:"MetaTrader/MQL: デバッグ用のマクロを定義する (#define)",date:"2023-06-18T00:00:00Z",body:"MetaTrader/MQL: デバッグ用のマクロを定義する (#define) MQL では、C/C++ と同様に #define ディレクティブを使って独自のマクロを定義することができます。 現在のファイル名を示す __FILE__ や、行番号を示す __LINE__ なども同様に使用することができます。 次の例では、現在のファイル名と行番号、指定したメッセージを表示するマクロを定義しています。 HelloEa.mq5 #define DEBUG(text) Print(__FILE__, &#34;(&#34;, __LINE__, &#34;): &#34;, text) void OnTick() { DEBUG(&#34;Hello, Expert Advisor&#34;); } 関数名を取得するための __FUNCTION__ なども便利です。 Print(__FUNCTION__); // =&gt; &#34;OnTick()&#34; Print(__FUNCSIG__); // =&gt; &#34;void OnTick()&#34;"},{url:"/p/eas9p6m/",title:"読書メモ『FIRE 最強の早期リタイア術』クリスティー・シェン",date:"2022-10-15T00:00:00Z",body:"読書メモ『FIRE 最強の早期リタイア術』クリスティー・シェン FIRE 最強の早期リタイア術 クリスティー・シェン＆ブライス・リャン ダイヤモンド社 経済的に独立し、自由な生き方を手に入れる FIRE (Financial Independence, Retire Early) という言葉が流行ってはや数年。 FIRE するには、ちゃんと金銭的な計算をすることが必要だと気付かせてくれる本です。 何かを学ぶにはお金がかかります。その学習コストは見合ったものなのか？目をそらしたくなるような計算結果があったりしますが、それが現実なのです。 （まだ）情熱には従うな！ 情熱に従うのが人生のカギだ！という言葉は嘘である。統計的に見ると、情熱に従った先には、失業や不完全就業が待っている。必ずしも情熱は良い仕事には繋がらない。好きなことをすればお金は後からついてくると考えるのは間違いである。まずはお金を追いかけましょう。好きなことはその後でもできるのです。 需要のあるスキルを磨く ことによって、あなたは特別になれる。 ドーパミン／幸福感 より多くのモノを所有するほど、人は不幸になり、ストレスを抱える。逆に、より少ないモノを所有し、旅行や新たなスキルの習得など、経験にお金を使う ほど、人はより幸福になり、より人生に満足する。 モノが増えると、それに伴う出費や心配事が増えることになる。モノを手に入れた瞬間の喜びは大きいが、幸福感は徐々に薄れていく。一方、経験にはまったく同じものはない ため、経験にお金を使うたびに幸福感は上がっていく。経験は保管する必要がなく、想定外の費用が発生することもない。 パーセンテージで考える 貧しい人の考え方 &hellip; わたしの時給はたったの 6 ドルです！ お金持ちの考え方 &hellip; 去年の儲けはたったの 3 パーセントだった！ 株の暴落を乗り切る 現代ポートフォリオ理論は、株式と債権の両方を抱えているときのみ有効なアプローチである。なぜなら、株式の暴落時に債権を売ってリバンランシングすることが必要だから。いかに積極的な投資家でも、株式の保有を 8 割以上にはしない方がよい。 現代ポートフォリオ理論に従って運用するポートフォリオでは、個別銘柄を保有してはいけない。 フリーダムマインド お金ではなく、自由こそが最も重要だ。 魔法の数字「4 ％ルール」 ポートフォリオの 4 ％の資産で 1 年間の生活費を賄えれば、貯蓄が 30 年以上持続する可能性は 95 ％以上。 つまり、生活費 × 25 が FIRE に必要な資金の基準になる。 生活費が 500 万円なら &hellip; 12,500 万円 生活費が 400 万円なら &hellip; 10,000 万円 生活費が 300 万円なら &hellip; 7,500 万円 FIRE までにかかる年数 早期リタイアのためには、貯蓄率を上げる ということが極めて重要。言い換えると、生活費を下げて、投資金額を増やす ということ。 リタイアまで何年かかるかは、年収には依存せず、貯蓄率（と想定する投資リターン）のみに依存する。なぜなら、貯蓄率が分かれば、自ずと年間で減らす資産の量を計算できるから（具体的なグラフは書籍を参照）。 FIRE 後の資産減少 リタイア後に資産が底をつくリスクが最も高いのは、下落相場のときに資産を売ってしまったとき。そうならないために、約 5 年分の現金クッション を用意しておき、下落相場ではそっちのお金を使うようにする。 例えば、年間支出が 400 万円なら、400 万円 × 5 年分 ＝ 2,000 万円を現金で保持しておく。下落相場で現金クッションを使ったら、次の 上昇相場中に補充する。これは大きな金額に見えるかもしれないが、ETF の配当などを差し引いて考えればよい。こういった収入を増やすことを、著者は「利回りシールド」と呼んでいる。 現金クッション ＝（年間支出 − 年間利回り）× 年数"},{url:"/p/tasaq7n/",title:"テクニカル指標: ATR (Average True Range)",date:"2022-03-30T00:00:00Z",body:"テクニカル指標: ATR (Average True Range) ATR の概要 基本情報 英語名ATR: Average True Range 日本語名アベレージ・トゥルー・レンジ 考案者J・W・ワイルダー 考案年─ ATR は、TR（True Range、真のレンジ）の平均をとったものです。 日足の場合、14 日間の平均値を用いることが多いようです。 計算方法 ATR は TR の平均値なので、TR を求めることができれば簡単に計算できます。 TR は以下のレンジの中の最大値です。 ひとことで言うと、通常の当日レンジを拡張して、前日の終値からの変化を考慮したものです。 当日の高値 〜 当日の安値（これは通常のレンジ） 前日の終値 〜 当日の高音 前日の終値 〜 当日の安値 図: TR (True Range) 通常の当日レンジ (High - Low) の計算では、その日にストップ高になったとしても、朝から天井に張り付いていたら、レンジは 0 になってしまいます。 これはレンジとしておかしいということで、TR (True Range) という概念が生まれました。 TR であれば、前日の終値からの変化を表現できるので、夜間取引のない株式などが朝にギャップアップして寄り付いた場合に、大きな変化が起こったものとして捉えることができます。 おまけ TradingView (Pine Script) で終値 ± ATR(10) の範囲を色付けするコードです。 ローソク足がこの範囲をはみ出しているということは、最近の平均的な変動幅 (ATR) よりも大きく動いたことを示しています。 図: Close ± ATR(10) //@version=5 indicator(&#34;Example of ATR&#34;, overlay=true) myAtr = ta.atr(10) plot1 = plot(close + myAtr, offset=1) plot2 = plot(close - myAtr, offset=1) fill(plot1, plot2, color=#0033ff66) 1 バーだけ右シフトしてプロットしていることに注意してください。 シフトしないと、自分自身のバーが ATR の計算に反映されてしまいます。 関連指標 DMI（方向性指数） 同じく、J・W・ワイルダー氏の考案。TR (True Range) の概念は DMI の計算過程でも出てきます。"},{url:"/p/khybo7t/",title:"読書メモ『究極の分散投資術』朝倉智也",date:"2021-11-05T00:00:00Z",body:"読書メモ『究極の分散投資術』朝倉智也 究極の分散投資術 朝倉智也 朝日新聞出版 低金利下でも安定して資産を増やすための「究極の分散投資」について紹介されています。 投資に分散が必要な理由としては、例えば次のようなことが挙げられています。 金利の低下には限度があるので、債券価格は上がりにくくなっている → 株価が下がっても債券価格があまり上がらないということは、株と債券だけでは十分な分散が図れない ということ。 グローバルな主要銘柄ばかりでは分散効果は得られない。株では、中小株にも目を向ける。なぜなら、国内が主戦場の非グローバル企業は、世界の動向から影響を受けにくい から。 長期的に見れば、新興国は外せない。 債権も投資先を分散する必要がある。投資適格社債 や ハイ・イールド債 など。ハイ・イールド債は景気回復の局面で安定 した利益を上げやすい。 金は外国株式や債券との価格連動性も低い。ドル安時（円高時）に金価格は上昇しやすい傾向がある。 これらを踏まえて、著者は次のような分散比率での投資例を示しています。 具体的な ETF の例も書かれており、このように構成すると、信託報酬（エクスペンスレシオ）の加重平均を 0.17% という低コストに抑えられます。 成長資産（グローバル株式） 70% 日本株、先進国株、新興国株、中小型株 VT: バンガード・トータル・ワールド・ストックETF（ザ・バンガード・グループ・インク） インカム資産 20% ハイ・イールド債権 JNK: SPDRバークレイズ・ハイ・イールド債権ETF（SSgAファンズ・マネジメント・インク） 新興国債権 VWOB: バンガード・米ドル建て新興国政府債権ETF（ザ・バンガード・グループ・インク） 先進国債権（米国以外） BNDX: バンガード・トータル・インターナショナル債権ETF（米ドルヘッジアリ）（ザ・バンガード・グループ・インク） 米国債券（社債、モーゲージ債含む） BND: バンガード・米国トータル債券市場ETF（ザ・バンガード・グループ・インク） インフレヘッジ資産 10% 金 IAU: 金ETF「iシェアーズ・ゴールド・トラスト」 書籍には、ETF ではなく、投資信託で同様に組む例も示されています。 その他メモ マイナス金利下では、資産運用は「増やすため」だけでなく、「守るため」の手段としての重要性が増している。 量的緩和の方が、金融緩和より直接的。 量的緩和 &hellip; 中央銀行が通貨供給量を増やす 金融緩和 &hellip; 中央銀行が金利を下げる 商品先物指数 は、景気先行指数である。景気が上向けば、商品の取引が活性化して価格が上がるから。 商品価格の動向は、消費者物価指数 に直結する。この指数は景気が回復すれば上がるものだが、日本での伸び率は目標の 2% に遠く及ばない。 GDP を見られるサイト → OECD.Stat 2015年は マクロ経済スライド の発動により、年金受給額が目減りした。マクロ経済スライドは、将来世代の負担増を防ぐため、物価や賃金の上昇率よりも年金受給額のの上昇を抑える仕組みと導入されている。 信託報酬について 一般の投信の場合 &hellip; 「受託銀行」「販売会社」「運用会社」で分ける。「販売会社」の取り分が多い。 ETF の場合 &hellip; 上場されているので、信託報酬を取る 「販売会社」が存在しない。それで低コストになる。"},{url:"/p/xit4dnw/",title:"読書メモ『マンガ世界投資家列伝』田中憲",date:"2021-08-15T00:00:00Z",body:"読書メモ『マンガ世界投資家列伝』田中憲 マンガ 世界投資家列伝―バフェット、マンガー、グレアム、フィッシャー 田中憲 パンローリング ウォーレン・バフェット とそのよきパートナーである チャーリー・マンガー、バフェットが師匠と崇める ベンジャミン・グレアム と フィリップ・フィッシャー の 4 人についての経歴や、それぞれの投資スタイルの違いなどをマンガでわかりやすく学ぶことができます。 株式投資をしていれば、この 4 人の名前には必ずどこかで出会うことになります。 まずはこのマンガで 4 人の関係をざっと把握すると、バフェットの言っていることがわかりやすくなると思います。 ちなみに著者の田中憲さんは、マンガ版の 『妖怪人間ベム』 を描いてる人なんですね。 このマンガを読み終わった頃には、グレアムの 『証券分析』 や 『賢明なる投資家』 なども読みたくなっていることでしょう。。。 『賢明なる投資家』の日本語の出版は 2000 年ですが、元になった『Intelligent Investor』は 50 年も前の 1949 年に書かれたものです。 投資において本当に大切な部分はずっと変わっていないということですね。 まとめメモ ウォーレン・バフェット (1930-08-30 〜) かつてはテクニカル分析にも熱中したが、1949年ネブラスカ大学在学中にベンジャミン・グレアムの『Intelligent Investor（賢明なる投資家）』に出会い、テクニカル分析からは遠かった。 1943年、13歳で新聞配達を始める。 1946年、ペンシルバニア大学ウォートン校入学。 1950年、ネブラスカ大学卒業。 1950年、グレアムの授業を受けるためコロンビア大学ビジネススクールへ入学。グレアムの「適正株価」について学ぶ。 1951年、コロンビア大学ビジネススクールを卒業し、バフェット・フォーク社へ入社。 1954年、グレアムの会社（ニューヨークのグレアム・ニューマン社）に入社し、2 年間学ぶ。 1956年、オマハでバフェット・アソシエイツ設立。 1962年、バークシャー・ハサウェイの株を購入。 1965年、バークシャーの持ち分が49％となり経営権を取得。1株7ドルで買収したが、長年赤字経営の再建はうまくいかず、繊維部門は閉鎖となる。「再建を見越して株を買ってはいけない」と言う教訓を得た。のちにバフェットの投資持株会社として生まれ変わる。株価は上昇し続けている。 1969年、バフェット自信がバークシャーの29％株主となる。 1987年、マンガーと共にソロモン・ブラザーズの取締役に就任。 1988年、コカコーラ株購入。 バフェット流「投資家として成功する条件」 第1条 &hellip; 自分の欲に抑制をかけながらも、心は絶えず躍動していること。投資の魅力に取り憑かれていること。 第2条 &hellip; 我慢強いこと。今後10年間証券取引所が閉鎖されても平気だ、と言えるぐらい惚れ込んだ銘柄でなければ買ってはいけない。 第3条 &hellip; 人の意見に惑わされず、自分で考え、自分で判断する。最初にその株の購入理由を一目でわかるように全て書き出す。それで納得のいく結論を出したらもう迷わない。 第4条 &hellip; 十分な情報に裏打ちされた判断は、心の平静を促し、自信を持たせる。本当の自信がないと、みんなが売りに走った時、恐怖に耐えられず、損を覚悟で逃げ出す羽目になる。 第5条 &hellip; 知ったかぶりをしないで、正直に知らないと言えること。 第6条 &hellip; 投資の銘柄を決めるときは、先入観を捨てて柔軟に判断すること。ただし、本来の価値を超える値段では絶対に買わないこと。企業の現在価値および将来価値を計算すること。 バフェット自身は、85％がグレアム、15%はフィッシャーから影響を受けているといっているが、実際の投資方法はフィッシャーに似ている。 チャールズ・トーマス・マンガー (1924-01-01 〜) 通称チャーリー・マンガー。 バフェットと同じく、ネブラスカ州オマハ生まれ。アルバイト先がバフェットの祖父の食料品店だった。毎週土曜日に奴隷のように働いた。 1941年にミシガン大学へ入学し、数学を専攻。ここで学んだ物理学は生涯にわたってマンガーに影響を及ぼすことになる。 「世界を動かすだけの資質を有する者は、是非とも物理学を学ぶべきだ。ものの考え方を学ぶことができる。科学的な手法は科学以外でも役に立つ。」 19歳で軍に入隊。ポーカーを通じてビジネス手腕を磨いた。 1946年に除隊になり、ハーバード大学ロースクールに入学。1948年に修了。以前から本を読むことで様々な事柄を学んでいたの、学業は駆け足で済ませた。 1948年、ハーバード大学卒業後、巨大都市ロサンゼルスで弁護士を開業。 1949年、ロザンゼルスの法律事務所ライト・アンド・ギャレットに入所。 1959年、父アルの遺産整理のために実家に帰った際に、29歳のバフェットに出会い、株の運用ビジネスに足を踏み入れる。のちにバークシャー・ハサウェイの副会長となる。 マンガーは引退後のグレアムと同じ町に住んでいたため、二人は知り合いになった。 マンガーはグレアムの考え方の盲点は、「高いプレミアムを払ってでも買う価値のある企業がある」という点を見過ごしてしまうところだと述べている。 1962年、法律事務所の客でもあるジャック・ホイーラーと、投資パートナーシップ「ホイラー・マンガー・アンド・カンパニー」を設立。 1978年、バークシャー・ハサウェイの副会長に就任。 「優れた投資家になるためには、何よりも自分の性質を理解せよ。誰にでも適合するような投資戦略は存在しない」 「不安に答えられる能力があるかどうかが投資家の成否を分ける」 「正しい価値観に従っていれば最後にはうまくいく。だから何度か失敗したくらいでは挫けてはならない」 フィリップ・アーサー・フィッシャー (1907-09-08 〜 2004-03-11) 通称フィリップ・フィッシャー。 企業の成長力を重視する グロース投資法。会社訪問 により経営者の素質を見極め、長期投資 することを前提とする。 フィッシャーは成長性を重視するため、持株はモトローラ、テキサス・インスツルメンツなどのハイテク株が多い。 フィッシャーが物色対象としている企業の条件は、一流の経営陣と、高度な技術水準を兼ね備えていること。宣伝広告による消費者心理に依存している企業には投資しない。「大勢に従っていてはダメだ」 若くしてスタンフォード大学の大学院に通い、在学中に実践教育を心情とする教授に師事。企業訪問を通して、企業の各部署が協調して努力することの重要性を学んだ。 在学中は進んで担当教授の送り迎えをし、その車中で議論したことが非常にためになった。 1931年、証券アナリストから独立し、24歳で投資顧問業を開業。 「広く浅くというのはできれば避けたい。ちゃんと理解したければ、的を絞るべきだ」 「大きく儲けるコツは、超有望銘柄を厳選して買い、成長し続ける間は何年でもひたすら持ち続けること」 「非現実的なことにこだわる投資家は、いずれ成功の可能性さえ失う。特にほんの2、3ヶ月先の相場を占うことで大儲けできると過信している投資家のことだ」 「株式の買い付けさえ間違わなければ、投資過程はほぼ完了したものと思っていい。売りのタイミングなどどうでもいいことだ」 「競争優位の有力企業の株を手にしている者こそ、慎重な投資家の名に値する」 「企業情報を手っ取り早く手に入れる場として、業界団体の展示場がある」 2004年、フィッシャー死去。 ベンジャミン・グレアム (1894-05-09 〜 1976-09-21) バリュー投資の父。 フィッシャーと同様ファンダメンタルズ重視だが、企業の内在価値を全て数値（データ）で捉えて割安なバリュー株を見つける。経営者に会うなど、迷いを生む要素は排除する。 割安株を拾って、利益が出たらすぐに売却する。 高校卒業後、奨学金を得てコロンビア大学へ入学。数学、英語、哲学において優秀な成績を納める。 1926年、ベンジャミン・グレアム共同投資会社を設立。 コロンビア大学卒業後は家計を支えるためウォール街で働き、のちに母校に戻り教鞭をとった。ビジネススクール史上最も人気のある講座となった（1928年〜1956年）。 ビジネススクールで教えている最中の1934年にデビッド・L・ドッド教授との共著 『証券分析』 （原題は Security Analysis）などを出版。投資入門書としては、1949年の 『賢明なる投資家』 （原題は Intelligent Investor）が永遠の名著として知られている。 英雄ユリシーズの小説が好きだったが、自分自身の欠点や長所と重なるからだということに気づいた。 1956年の引退後にカリフォルニアに移り、UCLA（カリフォルニア大学ロサンゼルス校）の経営大学院の教授となる。 「投機家と投資家の違いは、実際に相場の変動に対してのどのようなスタンスをとるかという点にある」 「投資は詳細な分析に基づいてなされるべきで、元本の安全性と十分なリターンが約束されなければならない」 「賢明なる投資家は株価の動きではなく、企業の内在価値に注目する」 「分析して適正株価をはじき出し、それよりも売られすぎた割安株を拾う」 「株式市場ではろくに調べもしないでリスクを取られがちだが、これが賢明な投資家に絶好の買い場を与えてくれる」 「社会情勢や新製品の売れ行き、企業動向、経営手腕といった把握しにくいものには頼らず、完全に数量的なアプローチをとる（企業の資産価値が割安かどうかのみを見る）」 「あなたの判断に人が賛同してくれるかどうかはその判断の成否とは無関係である。あなた自身が事実を正確に把握しているかどうか、そして正しい論理に沿った展開をしているかがあなたの判断の成否を決めるのだ」 1976年、グレアム死去。 2000年、パンローリングから Intelligent Investor の日本語版 『賢明なる投資家』 が出版される。"},{url:"/p/rdq3dpy/",title:"読書メモ『ファンドマネジャーを知りたい、あなたに』吉野永之助",date:"2021-07-19T00:00:00Z",body:"読書メモ『ファンドマネジャーを知りたい、あなたに』吉野永之助 ファンドマネジャーを知りたい、あなたに 吉野永之助 産経新聞出版 長年アナリストやファンドマネジャーとして勤め上げてきた著者が、その中でどんな経験をして、どんな考えのもとで投資、運用をしてきたのかをつらつらと綴っています。 長い間、投資の世界に関わってきた人たちは、「常識的に考える」というシンプルな結論に行き着くみたいですね。 まぁそれが人それぞれで難しいのですけど。 メモ マクロ要因（企業外部の要因）によって下がったときに買えるよう、キャッシュを用意しておく 必要がある。 一生懸命に企業調査などをして先を読むことだ。私たちの職業は 将来に対して投資する のが筋だからだ。 &mdash; 毎日毎日の気まぐれなマーケットに付き合ってはいられない。 &mdash; 企業調査のいいところは、3ヶ月、6ヶ月、12ヶ月、24ヶ月の先を読めるからである。 投資の世界で勝者になるには &mdash; 負けを減らせばいい &mdash; アマは自分のミスで自滅するのだ。 ハワード・シュルツ（スターバックス）は、パートタイマーにアメリカで初めて健康保険とストックオプションを与えた経営者。 工場見学で損をしたことがない。 &mdash; 工場の人たちは投資家と会うことが少なく、素直で正直である。本音が飛び出てきてとても面白い。 企業でガバナンスが行き届いているかいないか、その判定には IR 担当者の反応 は非常に貴重な情報源になる。 マジョリティーになるな &mdash; 人気株をいつまでも追いかけて、値上がりの甘い汁を吸ったものの最後はそうやられしてしまう &mdash; この大衆心理にはまってはいけない。 市場や競争相手に勝つためには 企業を知る こと。そして 株価を気にするな ということ。"},{url:"/p/ocp2doy/",title:"読書メモ『株式ディーラーのぶっちゃけ話』高野譲",date:"2021-04-04T00:00:00Z",body:"読書メモ『株式ディーラーのぶっちゃけ話』高野譲 株式ディーラーのぶっちゃけ話 高野譲 彩図社 証券ディーラーとして働いていた著者が自身の経験をもとに、ディーラーという仕事がどんな職業なのかを語ってくれます。 取引のテクニックみたいな話は出てきませんが、ディーラーにヤクザみたいな人やギャンブラー気質の人が多いのはなぜかとか、社内での戦いの話とかは単純に面白いです。 そういった面白話は多少フィクションも混ざっているかもしれませんが、ストックオプションの情報を使った儲け話とかは、実際にディーラーとして経験を積んでいないと書けない話ですね。 各証券会社が独自のルールを設けているという話も興味深いです。 金商法に基づいた相場操縦の疑いをかけられないようにするため、例えば次のようなルールを独自に設定しているようです。 買いと決済の注文を同時に出せない: 50円で買って51円で売りたい場合は、50円の買い注文をすべて消してからじゃないと51円の売り注文は出せない。なぜなら、見せ玉の株価操縦行為とみなされる可能性があるから。 新高値の売買禁止: 50円で揉み合いを続けているときに、その日に一番乗りで51円を買うことができない。なぜなら、株価の吊り上げによる株価操縦行為とみなされる可能性があるから。 その他: ストップ高での売買禁止、一度出した注文は一定時間取り消せないなど。 株価に特徴的な歩み値が発生したときは、ディーラーのこうした規制によって形成されているのかもしれません。 この本を読んで、わたしは絶対にディーラーにだけはなりたくないなと思いました（笑。 きっとギャンブラー精神が足りないんでしょう。 いずれにしても、現在はアルゴなどによる高速トレード (HFT) が主流になって、裁量系のトレーダーはだいぶ減っているのでしょうけど。"},{url:"/p/whu7it5/",title:"トレード関連リファレンス",date:"2021-02-28T00:00:00Z",body:"トレード関連リファレンス"},{url:"/p/6r2ahpv/",title:"証券会社の売買手数料比較と戦略（2021年版）",date:"2021-02-28T00:00:00Z",body:"証券会社の売買手数料比較と戦略（2021年版） 有名どころの国内証券会社の株式取引手数料をグラフ化しています（2021年3月時点）。 最後にまとめとして、私のような弱小投資家がどうすれば手数料を安く済ませられるかの戦略案を書いてますので参考になれば幸いです。 最新の手数料は、下記の各証券会社のウェブサイトを参照してください。 参考リンク: SBI証券 / 楽天証券 / 松井証券 / マネックス証券 / auカブコム証券 / GMOクリック証券 現物取引（取引ごと手数料プラン）の比較 現物1注文単位の手数料は、GMOクリック証券、SBI証券、楽天証券 が安いです。 約定代金の0.1％くらい取るマネックスやauカブコム証券は、高額の約定になると手数料が高くなるので、50万円以上の売買では使わない方がよさそうです。 SBI証券「現物取引スタンダードプラン」 楽天証券「超割コース」 SBIと楽天は完全に同じ 150万円以上〜3,000万円までは1,013円、3,000万円以上は一律1,070円 松井証券「該当なし」 取引ごとの手数料プランはない（1日の約定代金合計のみ）なのでグラフなし マネックス証券「取引毎手数料コース」 50〜100万円の成行注文は1100円だけど、指値注文は1650円（分かりにくい&hellip;） 100万円超の成行注文は0.11%（税込）、指値注文は0.165%（税込） auカブコム証券 50万円超は0.099%＋99円（税込み） GMOクリック証券「1約定ごとプラン」 3000万円超は一律977円（税込み）。実質200万約定の900円くらいから上がらない。 信用取引（取引ごと手数料プラン）の比較 信用取引1注文あたりの手数料は、どの証券会社も上限が低く設定されています（金利で稼げるから？）。 無料の auカブコム証券 が最強ですが、GMOクリック証券 はかなり安いです。 マネックスは高すぎです。 SBI証券「信用取引スタンダードプラン」 楽天証券「超割コース」 SBIと楽天証券は同じ 1注文の約定代金が50万円を超えたときは385円（税込）の定額 松井証券「該当なし」 取引ごとの手数料プランはない（1日の約定代金合計のみ）なのでグラフなし マネックス証券「取引毎手数料コース」 200万円以上は一律1,100円（税込） auカブコム証券 信用取引（含む反対売買）は0円だけど、品受・品渡による決済はマネックスに近い手数料がかかる GMOクリック証券「1約定ごとプラン」 50万円超は一律264円（税込） 現物取引（1日合計での手数料プラン）の比較 SBI証券 は合計100万円まで無料なので小額売買するならオトク。 楽天証券、松井証券も合計50万円までは無料ですが、松井証券は50万円超えると手数料が跳ね上がるので注意。 GMOクリック証券 は無料枠がないけれど、合計金額が上がってくると有利。 SBI証券「現物取引アクティブプラン」 現物100万円、信用（制度）100万円、信用（一般）100万円まで手数料0円（合計300万円） 200万円以降は100万円ごとに440円（税込）加算 楽天証券「いちにち定額コース」 1日あたりの現物取引と信用取引の合算で計算 200万円以降は100万円ごとに1,100円（税込）加算 松井証券「ボックスレート」 現物取引（取引所＆PTS）と信用取引をすべて合算 100万円以降は100万円ごとに1,100円（税込）加算 マネックス証券「一日定額手数料コース」 現物取引と信用取引の合算 100〜300万円は2,750円（税込み）で、以降300万円ごとに2,750円（税込）。つまり、300〜600万円は5,500円。 auカブコム証券「該当なし」 - 1日定額プランはないのでグラフ表示はありません GMOクリック証券「1日定額プラン」 300万円以降は100万円ごとに295円（税込）加算 信用取引（1日合計での手数料プラン）の比較 auカブコム証券 の信用取引無料が最強。 SBI証券 の「信用取引アクティブプラン」や、GMOクリック証券 の「1日定額プラン」もリーズナブル。 SBI証券 信用取引 アクティブプラン 200万円以降は100万円ごとに440円（税込）加算 楽天証券「いちにち定額コース」 現物取引と信用取引の合算 200万円以降は100万円ごとに1,100円（税込）加算 松井証券「ボックスレート」 現物取引（取引所＆PTS）と信用取引をすべて合算 100万円以降は100万円ごとに1,100円（税込）加算 ただし、一日信用取引は0円 マネックス証券「一日定額手数料コース」 現物取引と信用取引の合算 100〜300万円は2,750円（税込）で、以降300万円ごとに2,750円（税込）。つまり、300〜600万円は5,500円。 auカブコム証券 信用取引はすべて0円 GMOクリック証券「1日定額プラン」 100万円以降は100万円ごとに440円（税込）加算 まとめ（手数料を安くする戦略案） SBI証券は「アクティブプラン」にしておき、合計100万円以下の細かい売買はこれで無料で済ませる。SBI証券で合計100万円を超えそうになったら、松井証券の50万円無料枠 や、楽天証券の「いちにち定額コース」の100万円無料枠 を利用してもよいが、どちらも上限を超えると手数料が跳ね上がるので注意。 GMOクリック証券を「1約定ごとプラン」にしておき、値嵩株（高額約定）はここで買う。10万円以上の1約定ごとプランはGMOクリック証券が安く、最大でも977円までしか上がらない。 信用取引は完全無料のauカブコム証券 で取引する。一日信用取引であれば松井証券も無料 なのでこちらを利用してもよい。軽く手数料がかかってもよいなら、GMOクリック証券の「1約定ごとプラン」 も比較的安い。"},{url:"/p/uhv9mx9/",title:"MetaTrader/MQL: 価格情報を取得する (SymbolInfoTick, CopyRates)",date:"2021-02-13T00:00:00Z",body:"MetaTrader/MQL: 価格情報を取得する (SymbolInfoTick, CopyRates) あるシンボル（銘柄）の価格情報を取得する方法はいろいろ用意されています。 SymbolInfoTick &hellip; 最新のティック情報を取得する CopyRates &hellip; 各バーの四本値を取得する SymbolInfoDouble/Integer &hellip; 最新の価格情報を個別に取得する（SymbolInfoTick の方を使えば OK） 似たような関数があって混乱するかもしれませんが、ティック情報（Bid/Ask などの値動き）を取得する手段と、各バーの情報（OHLC 四本値情報）を取得する手段の 2 種類が用意されていると考えると理解しやすいです。 SymbolInfoTick &hellip; 最新のティック情報を取得する SymbolInfoTick 関数（日本語）を使用すると、指定したシンボルの最後の値動き（ティック）における Bid/Ask 値やボリュームの情報を取得することができます。 bool SymbolInfoTick(string symbol, MqlTick&amp; tick); 得られる情報の MqlTick 構造体（日本語） は次のようになっています。 MqlTick 構造体 struct MqlTick { datetime time; // 価格更新時間（datetime 値） double bid; // Bid 価格（売値） double ask; // Ask 価格（買値） double last; // 取引価格（注: ターミナル起動直後は 0.0 になる） ulong volume; // 取引ボリューム long time_msc; // 取引時間時間（ミリ秒） uint flags; // 変化理由（TICK_FLAG_BID など） double volume_real; // より正確な取引ボリューム（取得できれば） }; この構造体は、あくまで 1 ティックの情報だけを含むため、ローソク足のような四本値 (OHLC) 情報は含まれていないことに注意してください。 次のスクリプトを実行すると、カレントチャートのシンボルにおける最新価格情報を出力します。 Scripts/Test.mq5 void OnStart() { MqlTick tick; if (!SymbolInfoTick(_Symbol, tick)) { Print(&#34;Error SymbolInfoTick: &#34;, GetLastError()); return; } Print(&#34;time=&#34;, tick.time, &#34;, ask=&#34;, tick.ask, &#34;, bid=&#34;, tick.bid, &#34;, volume=&#34;, tick.volume); } EA（エキスパートアドバイザー）であれば、OnTick 関数の中で SymbolInfoTick を呼び出せば、ティックが発生するごとに最新の価格を取得できます。 Experts/Test.mq5 void OnTick() { // 同上 } ☝️ MT4 の Ask/Bid 変数 MT4 環境では Ask、Bid といった組み込み変数でカレントシンボルの現在価格を参照できました。 MT5 にはこのような組み込み変数は用意されていないので、SymbolInfoTick 関数などを使って価格情報を取得する必要があります。 CopyRates &hellip; 各バーの四本値 (OHLC) を取得する CopyRates 関数（日本語）を使うと、各バーの四本値 (OHLC) 情報を取得することができます。 CopyRates 関数にはいくつかのバリエーションがあり、取得するデータの位置を、ポジション（start_pos = 0 は最新のバー）で指定するか、時刻（datetime 値）で指定するかによって使い分けます。 CopyRates 関数 int CopyRates( string symbol_name, ENUM_TIMEFRAMES timeframe, int start_pos, int count, MqlRates rates_array[]); int CopyRates( string symbol_name, ENUM_TIMEFRAMES timeframe, datetime start_time, int count, MqlRates rates_array[]); int CopyRates( string symbol_name, ENUM_TIMEFRAMES timeframe, datetime start_time, datetime stop_time, MqlRates rates_array[]); 取得結果は次のような MqlRates 構造体（日本語）の配列です。 MqlRates 構造体 struct MqlRates { datetime time; // 期間開始時間 double open; // 始値 double high; // 期間中の最高値 double low; // 期間中の最安値 double close; // 終値 long tick_volume; // ティックボリューム int spread; // スプレッド long real_volume; // 取引高 }; スプレッドの情報も取得できるのが面白いですね。 次のスクリプトでは、最新のバーから 3 本分の四本値 (OHLC) 情報を取得しています。 データ格納先の配列を ArraySetAsSeries 関数（日本語）でシリーズ化（時系列化）すると、配列の先頭要素が最新のバーの情報を表すようになります（デフォルトでは、配列の先頭要素は一番過去のバー情報）。 Scripts/Test.mq5（例: 最新の 3 本のバーの OHLC を取得する） void OnStart() { MqlRates rates[]; ArraySetAsSeries(rates, true); // 先頭要素を最新バーとする int copiedCount = CopyRates(_Symbol, PERIOD_CURRENT, 0, 3, rates); for (int i = 0; i &lt; copiedCount; i++) { Print(i, &#34;: time=&#34;, rates[i].time, &#34;, O=&#34;, rates[i].open, &#34;, H=&#34;, rates[i].high, &#34;, L=&#34;, rates[i].low, &#34;, C=&#34;, rates[i].close, &#34;, tick_volume=&#34;, rates[i].tick_volume, &#34;, spread=&#34;, rates[i].spread); } } 実行結果 0: time=2021.02.12 19:00:00, O=1.07397, H=1.07435, L=1.0736, C=1.07428, tick_volume=4880, spread=11 1: time=2021.02.12 20:00:00, O=1.0743, H=1.07461, L=1.07408, C=1.07448, tick_volume=3688, spread=11 2: time=2021.02.12 21:00:00, O=1.07447, H=1.07452, L=1.07412, C=1.07445, tick_volume=3043, spread=11 上記のように、CopyRates 関数を使うと各バーの四本値 (OHLC) 情報を MqlRates の形でまとめて取得できますが、始値 (Open) や終値 (Close) だけが欲しい場合は、代わりに以下のような関数を使って取得することができます。 CopyTime（日本語）&hellip; 各バーの開始時刻 (datetime[]) を取得 CopyOpen（日本語）&hellip; 各バーの始値 (double[]) を取得 CopyHigh（日本語）&hellip; 各バーの高値 (double[]) を取得 CopyLow（日本語）&hellip; 各バーの安値 (double[]) を取得 CopyClose（日本語）&hellip; 各バーの終値 (double[]) を取得 CopySpread（日本語）&hellip; 各バーのスプレッド（ポイント数）(int[]) を取得 例: 最新の 3 本のバーの「終値」を取得する void OnStart() { double closes[]; ArraySetAsSeries(closes, true); int copiedCount = CopyClose(_Symbol, PERIOD_CURRENT, 0, 3, closes); for (int i = 0; i &lt; copiedCount; i++) { Print(i, &#34;: &#34;, closes[i]); } // 配列の内容は次のように出力しても OK // ArrayPrint(closes); } SymbolInfoDouble/Integer &hellip; 最新の価格情報を個別に取得する SymbolInfoDouble 関数（日本語）などの数値プロパティ取得用の関数を使うと、あるシンボルの Ask/Bid 値などを個別に取得することができます。 Scripts/Test.mq5 void OnStart() { datetime time = (datetime) SymbolInfoInteger(_Symbol, SYMBOL_TIME); double bid = SymbolInfoDouble(_Symbol, SYMBOL_BID); double ask = SymbolInfoDouble(_Symbol, SYMBOL_ASK); long volume = SymbolInfoInteger(_Symbol, SYMBOL_VOLUME); Print(&#34;time=&#34;, time, &#34;, ask=&#34;, ask, &#34;, bid=&#34;, bid, &#34;, volume=&#34;, volume); } SymbolInfoTick 関数で最新のティック情報 (MqlTick) を一度に取得するのと同じかと思うかもしれませんが、まさに同じ値が取得できます（＾＾； SymbolInfoTick と SymbolInfoDouble のどちらで Bid/Ask 値を取得すべきか？ 結論から言うと、SymbolInfoTick 関数の方を使えばよさそう です。 Bid/Ask 値を取得するのであれば、どちらの関数でも同じ値が取得できるので、違いはコードの可読性と、実行時のパフォーマンスだけです。 可読性はどちらもそんなに変わらないので、パフォーマンスを調べて速い方を使うのがよさそうです。 予想では、取得できる情報量の少ない SymbolInfoDouble の方が速いと思いましたが、プロファイリングを取ってみると、わずかに SymbolInfoTick 関数の方が速そうです。"},{url:"/p/c5z4ka3/",title:"MetaTrader/MQL: チャート上でのキーハンドリング (OnChartEvent)",date:"2021-01-30T00:00:00Z",body:"MetaTrader/MQL: チャート上でのキーハンドリング (OnChartEvent) EA の OnChartEvent() 関数でチャートイベントをハンドルすると、チャート上でのキーボード入力を取得することができます。 これを利用すると、自作の EA にキーボードショートカット（ホットキー）機能を付けることができます。 例えば、数字の 1 キーを押したときに、0.1 ロットの買い成行注文を出す、といったことができます。 キー入力時は、OnChartEvent 関数の id パラメータの値は CHARTEVENT_KEYDOWN になり、lparam パラメータにキーコードが格納されます。 下記のサンプル EA をチャートにアタッチすると、入力したキー情報がチャート上に表示されるようになります。 Experts/MyEa.mq5 int OnInit() { return INIT_SUCCEEDED; } void OnChartEvent( const int id, const long &amp;lparam, const double &amp;dparam, const string &amp;sparam ) { if (id == CHARTEVENT_KEYDOWN) { string key; if (&#39;0&#39; &lt;= lparam &amp;&amp; lparam &lt;= &#39;z&#39;) { key = StringFormat(&#34;key=%c(%d)&#34;, lparam, lparam); } else { key = StringFormat(&#34;key=%d&#34;, lparam); } Comment(&#34;CHARTEVENT_KEYDOWN: &#34;, key); } } 特定のキー（例えば数字の 1 キー）が押されたときに、ユーザーに確認を求めてから処理を行いたい場合は次のようにします。 void OnChartEvent( const int id, const long &amp;lparam, const double &amp;dparam, const string &amp;sparam ) { if (id == CHARTEVENT_KEYDOWN &amp;&amp; lparam == &#39;1&#39;) { if (MessageBox(&#34;Are you sure to buy?&#34;, NULL, MB_YESNO) == IDYES) { // ここで買う！ // buyMarketOrder(); } } }"},{url:"/p/e7gjidc/",title:"MetaTrader/MQL: プログラムがデモ口座で実行されている調べる (ACCOUNT_TRADE_MODE)",date:"2021-01-26T00:00:00Z",body:"MetaTrader/MQL: プログラムがデモ口座で実行されている調べる (ACCOUNT_TRADE_MODE) MetaTrader で取引を行うスクリプトや EA をデバッグしているときに、間違えて実際の口座で実行してしまうと、不本意なポジションをとってしまい危険です。 下記のユーティリティ関数を使うと、実行中のプログラムがデモ口座上で実行されているかを調べることができます。 Include/maku77/Util.mqh namespace Util { /** * プログラムがデモ口座で実行されているか調べ、そうでなければ警告を表示します。 * * @return デモ口座で実行されているなら true、そうでないなら false */ bool IsDemoAccount() { if (AccountInfoInteger(ACCOUNT_TRADE_MODE) == ACCOUNT_TRADE_MODE_DEMO) { return true; } Alert(&#34;Operation is not allowed on a live account!&#34;); return false; } } 例えば、スクリプトのエントリポイント (OnStart 関数) の先頭で次のようにしておけば、スクリプトがデモ口座以外で実行されたときに実行を中止できます。 Scripts/Test.mq5 #include &lt;maku77/Util.mqh&gt; void OnStart() { if (!Util::IsDemoAccount()) return; // ... 残りの処理 ... }"},{url:"/p/zxi4n8q/",title:"読書メモ『僕がウォール街で学んだ勝利の投資術』高橋ダン",date:"2021-01-09T00:00:00Z",body:"読書メモ『僕がウォール街で学んだ勝利の投資術』高橋ダン 僕がウォール街で学んだ勝利の投資術 高橋ダン KADOKAWA 最近人気が出てきた投資系ユーチューバーの高橋ダンさんの書籍です。 ライオン戦略と呼んでいる投資方法（主にポートフォリオの組み方に関して）の説明をしています。 この戦略は 長期と短期の投資を明確に分ける（口座も分ける） というやり方なのですが、大枠は前作の 『お金の増やし方』 と同じですね。 ただ、本作では著者の昔話なども語られているので、ファンの方であれば楽しめると思います。 ダン氏の目標は、 日本の方々の金融リテラシーを世界でトップクラスの水準に高める ことらしいのですが、こんな目標を持たれたら日本人としてうれしくなっちゃいますね。 具体的な投資商品としては、ETF の活用 を勧めています。 あなたが現在、個別株ばかりでポートフォリオを組んでいるのであれば、ETF に目を向けるきっかけになるかもしれません。 短期投資部分はスイングトレードくらいの期間で逆張りや空売りも組み合わせていくので、慣れないうちは難しいと思いますが、長期積み立て部分での資産の分配方法はとても参考になると思います。 ちょっと触発されて、自分の資産がちゃんと分散されているのかということを調べるための計算機も作っちゃいました。 参考: 資産配分シミュレーター（高橋ダン氏のライオン戦略用） ポートフォリオの組み方以外にも、いろいろとアドバイスされています。 例えば、ニュースよりも先にマーケットを見る ということ。 なぜなら、先にニュースを見てしまうと誤ったエモーションに惑わされてしまうから（相場を見るときにバイアスがかかってしまう）。 簡単な話なんですけど、なるほどなぁと思いました。 ダン氏は最近は 1 日に何本も動画をアップロードしているようで、発信力が凄まじいです。 今後はメディア露出が増えてくるかもしれないですね。 要注目です。"},{url:"/p/od4bq8j/",title:"MetaTrader/MQL: GitHub で MetaTrader 用のプログラムを管理する",date:"2021-01-07T00:00:00Z",body:"MetaTrader/MQL: GitHub で MetaTrader 用のプログラムを管理する MetaTrader (MT4/MT5) 用に作成した EA やカスタムインジケーターは大切な資産です。 ここでは、MetaTrader 用のプログラムを GitHub で管理する方法を説明します。 MetaTrader のデータディレクトリ MetaTrader では、自作した EA やカスタムインジケーター（.mq5 ファイルなど）は、あらかじめ用意されたデータディレクトリに格納することになっています。 このディレクトリのパスは、MetaTrader のデスクトップアプリや MetaEditor のメニューから次のように開いて確認することができます。 ファイル → データフォルダを開く （あるいは Ctrl + Shift + D） データフォルダのパスは環境ごとに異なり、例えば次のような感じになっています。 C:\\Users\\maku\\AppData\\Roaming\\MetaQuotes\\Terminal\\84E63C3B90BC3EC3DADC66BC66DD0A1E 自作した .mq5 ファイルを保存するディレクトリは、このデータディレクトリ以下の MQL5/Experts や MQL5/Indicators ディレクトリになります。 しかし、データディレクトリには MetaTrader のインストーラーによって作成されたファイルなども含まれているため、MQL5 ディレクトリを丸ごと GitHub で管理しようとすると、余計なファイルがコミットされてしまいます。 そこで、自作したプログラムは別のディレクトリで管理して、データディレクトリからそのディレクトリに シンボリックリンク を張ることにします。 シンボリックリンクを作成する まずは、GitHub で作成したコード格納用のリポジトリを git clone しておきます。 ここでは、GitHub 上に metatrader という名前のリポジトリを作成済みで、作業用ディレクトリとして D:\\y\\gitwork を使うことを想定しています（パスは環境に合わせて調整してください）。 cd /d D:\\y\\gitwork git clone https://github.com/ユーザー名/metatrader ローカルに metatrader というディレクトリが作成されるので、この中に MQL5 ディレクトリを作成して、そこに自作の EA やインジケーターを格納することにします。 シンボリックリンクはディレクトリ単位で作成したいので、実際には次のようにもう一段階ディレクトリ作成します。 ここでは maku77 というディレクトリ名にしてますが、GitHub のユーザー名などにしておけばよいでしょう。 cd metatrader mkdir MQL5\\Experts\\maku77 mkdir MQL5\\Images\\maku77 mkdir MQL5\\Include\\maku77 mkdir MQL5\\Indicators\\maku77 mkdir MQL5\\Libraries\\maku77 mkdir MQL5\\Scripts\\maku77 Windows でディレクトリのシンボリックリンクを作成するには、コマンドプロンプトを 管理者として実行 し、mklink /d コマンドを使用します。 コマンドプロンプトを起動したら、次のように MetaTrader のデータディレクトリに移動して、各ディレクトリのシンボリックリンクを作成します。 cd /d C:\\Users\\maku\\AppData\\Roaming\\MetaQuotes\\Terminal\\84E63C3B90BC3EC3DADC66BC66DD0A1E mklink /d MQL5\\Experts\\maku77 D:\\y\\gitwork\\metatrader\\MQL5\\Experts\\maku77 mklink /d MQL5\\Images\\maku77 D:\\y\\gitwork\\metatrader\\MQL5\\Images\\maku77 mklink /d MQL5\\Include\\maku77 D:\\y\\gitwork\\metatrader\\MQL5\\Include\\maku77 mklink /d MQL5\\Indicators\\maku77 D:\\y\\gitwork\\metatrader\\MQL5\\Indicators\\maku77 mklink /d MQL5\\Libraries\\maku77 D:\\y\\gitwork\\metatrader\\MQL5\\Libraries\\maku77 mklink /d MQL5\\Scripts\\maku77 D:\\y\\gitwork\\metatrader\\MQL5\\Scripts\\maku77 MetaEditor のナビゲータに、次のような感じで maku77 ディレクトリが見えていれば成功です。 図: データディレクトリにシンボリックリンクが作成された あとは、いつも通り MetaEditor から maku77 ディレクトリに .mq5 ファイルを新規作成すれば、Git ディレクトリの方にファイルが保存されるようになります。 gitignore を設定する コンパイル後の .ex4、.ex5 ファイルは Git では管理したくないので、.gitignore ファイルで Git 管理しないように除外しておきましょう。 metatrader/.gitignore *.ex4 *.ex5 シンボリックリンク作成用のバッチファイルを作成する 上記の説明では、手動でデータディレクトリから Git ディレクトリへのシンボリックリンクを作成しましたが、この処理はバッチファイルなどで自動化しておくと便利です。 metatrader/create-symlinks.bat @echo off setlocal set user=maku77 set current_dir=%~dp0 set data_dir=%~1 REM Exit if not admin net session &gt;nul 2&gt;&amp;1 if %ERRORLEVEL% neq 0 ( echo ERROR: Need to run as Administrator exit /b ) REM Check if the data dir is specified if &#34;%data_dir%&#34;==&#34;&#34; ( echo Usage: %~n0 MT_DATA_DIR echo You can check the path by pressing CTRL+SHIFT+D in MetaTrader platform exit /b ) REM Create symbolic links cd /d %data_dir% mklink /d MQL5\\Experts\\%user% %current_dir%MQL5\\Experts\\%user% mklink /d MQL5\\Images\\%user% %current_dir%MQL5\\Images\\%user% mklink /d MQL5\\Include\\%user% %current_dir%MQL5\\Include\\%user% mklink /d MQL5\\Indicators\\%user% %current_dir%MQL5\\Indicators\\%user% mklink /d MQL5\\Libraries\\%user% %current_dir%MQL5\\Libraries\\%user% mklink /d MQL5\\Scripts\\%user% %current_dir%MQL5\\Scripts\\%user% これで、別の PC 環境に移行したときでも、次のように実行するだけで一発で環境構築が完了します。 git clone https://github.com/ユーザー名/metatrader cd metatrader create-symlinks C:\\Users\\maku\\AppData\\Roaming\\MetaQuotes\\Terminal\\84E63...30A1E"},{url:"/p/3n2eq3e/",title:"MetaTrader/MQL: 基本データ型一覧",date:"2021-01-03T00:00:00Z",body:"MetaTrader/MQL: 基本データ型一覧 MetaTrader 用のプログラミング言語 MQL では、次のような基本型が定義されています。 型名 種類 バイト数 値の範囲 リテラルの例 char 整数 1 -128 〜 127 'A' short 整数 2 -32,768 〜 32,767 12345 int 整数 4 -2,147,483,648 〜 2,147,483,647 1234567890 long 整数 8 -9,223,372,036,854,775,808 〜 9,223,372,036,854,775,807 ─ uchar 整数(正) 1 0 〜 255 234 ushort 整数(正) 2 0 〜 65,535 45678 uint 整数(正) 4 0 〜 4,294,967,295 3456789012 ulong 整数(正) 8 0 〜 18,446,744,073,709,551,615 ─ float 実数 4 -3.402823e+38 〜 3.402823e+38 -1.5 double 実数 8 -1.797693e+308 〜 1.797693e+308 -1.5 string 文字列 ─ ─ &quot;ABCDE&quot; bool 真偽値 ─ false / true true color 色 ─ ─ clrRed C'255,0,0' 0xFF0000 datetime 日時 8 ─ D'2020.01.01 23:30:50' D'2020.01.01' D'23:30' 参考: MQL で時刻情報 (datetime) を扱う 参考: MQL で色情報 (color) を扱う"},{url:"/p/s6djqv3/",title:"テクニカル指標: Bollinger Bands（ボリンジャーバンド）",date:"2020-12-29T00:00:00Z",body:"テクニカル指標: Bollinger Bands（ボリンジャーバンド） ボリンジャーバンドの概要 基本情報 英語名BBands: Bollinger Bands 日本語名ボリンジャー・バンド 考案者ジョン・A・ボリンジャー 考案年1980年代 移動平均に標準偏差のバンドを表示したもの 3 つのライン ミドルバンド &hellip; 20日移動平均 アッパーバンド (+2σ) &hellip; 20日移動平均 + (20日標準偏差 x 2) ローバンド (+2σ) &hellip; 20日移動平均 - (20日標準偏差 x 2) 統計的に次のような確率で価格がバンド内に収まると考えます ±1σ の範囲内に収まる確率 &hellip; 68.3％ ±2σ の範囲内に収まる確率 &hellip; 95.4％ ±3σ の範囲内に収まる確率 &hellip; 99.7％ トレンドがある場合は、±2σ のラインに沿って価格が上昇・下落を続けることがよくあります（バンドウォーク） ボリンジャーバンドの利用例 ±2σ 超えでポジションをクローズする MACD などでトレンドに乗ってポジションを取った後に、一部利食いのタイミングとして利用する。 ±2σ 超えで逆張りのポジションを取る 大きなトレンドが発生するときは、±2σ を超えても上昇・下落が続くので注意。 バンド幅 (BBW) でトレンドの強さを判断する（他のシグナルのフィルタとして使う） バンド幅が狭い時は、価格の変化が小さく、トレンドもほとんどないと判断し、他のテクニカル指標でシグナルが出ている場合でもノイズとして無視する。"},{url:"/p/8xwyrnf/",title:"MetaTrader/MQL5: シンボル名を取得する (Symbol, ChartSymbol, SymbolsTotal, SymbolName)",date:"2020-12-19T00:00:00Z",body:"MetaTrader/MQL5: シンボル名を取得する (Symbol, ChartSymbol, SymbolsTotal, SymbolName) カレントチャートのシンボル名を取得する (Symbol) スクリプトや、EA から、現在のチャートのシンボル名を取得するには、_Symbol 変数 あるいは Symbol 関数 を使用します。 Scripts/Sample.mq5 void OnStart() { string sym = _Symbol; // Symbol() でも同様 Print(sym); //=&gt; &#34;USDJPY&#34; } 指定したチャートのシンボル名を取得する (ChartSymbol) ChartSymbol 関数 を使用すると、チャート ID で指定したチャートのシンボル名を取得することができます。 void OnStart() { // long chartId = ...; string sym = ChartSymbol(chartId); Print(sym); //=&gt; &#34;USDJPY&#34; } 参考: 表示しているチャートを列挙する (ChartFirst, ChartNext) すべてのシンボル名を取得する (SymbolTotal, SymbolName) 下記の関数を使用すると、現在のシステムで扱えるすべてのシンボル名を取得することができます。 SymbolTotal() &hellip; シンボルの数を取得します。 SymbolName() &hellip; 指定したインデックスのシンボル名を取得します。 次のサンプルスクリプトでは、すべてのシンボル名称と、それぞれの Bid/Ask 価格を表示しています。 Scripts/Sample.mq5 /** * すべてのシンボル名を取得します。 * * Params: * symbols - シンボル名が格納されます * onlyInMarketWatch - 「気配値表示」内のシンボルに限定するのであれば true * Returns: * 見つかったシンボルの数 */ int getAllSymbolNames(string &amp;symbols[], bool onlyInMarketWatch=true) { int n = SymbolsTotal(onlyInMarketWatch); ArrayResize(symbols, n); for (int i = 0; i &lt; n; ++i) { symbols[i] = SymbolName(i, onlyInMarketWatch); } return n; } // スクリプトのエントリポイント void OnStart() { string symbols[]; int n = getAllSymbolNames(symbols); for (int i = 0; i &lt; n; ++i) { double bid = SymbolInfoDouble(symbols[i], SYMBOL_BID); double ask = SymbolInfoDouble(symbols[i], SYMBOL_ASK); PrintFormat(&#34;%2d: %s %f/%f&#34;, i + 1, symbols[i], bid, ask); } } 実行結果 1: USDJPY 103.301000/103.326000 2: EURJPY 126.584000/126.639000 3: GBPJPY 139.443000/139.493000 4: AUDJPY 78.727000/78.759000 5: EURUSD 1.225320/1.225550 6: ..."},{url:"/p/244ung6/",title:"MetaTrader/MQL: 表示しているチャートを列挙する (ChartFirst, ChartNext)",date:"2020-12-19T00:00:00Z",body:"MetaTrader/MQL: 表示しているチャートを列挙する (ChartFirst, ChartNext) MQL の下記の関数を使用すると、現在表示しているチャートの情報を列挙することができます。 ChartFirst 関数 &hellip; 最初のチャート ID を取得します（見つからない場合は -1）。 ChartNext 関数 &hellip; 次のチャートのチャート ID を取得します（見つからない場合は -1）。 具体的には、ChartFirst 関数で最初のチャートの ID を取得し、ChartNext 関数でその次のチャートの ID を繰り返し取得していく、という感じで処理できます。 処理するチャートがなくなったときは、上記の関数は -1 を返すので、正の値を返す間だけ繰り返し処理すれば OK です。 次のサンプルスクリプトでは、現在表示しているすべてのチャートの情報（チャートID、シンボル名、時間足）を列挙しています。 Scripts/Sample.mq5 void showChartInfo(long chartId) { string sym = ChartSymbol(chartId); ENUM_TIMEFRAMES period = ChartPeriod(chartId); PrintFormat(&#34;%I64d: %s (%s)&#34;, chartId, sym, EnumToString(period)); } void OnStart() { for (long id = ChartFirst(); id &gt;= 0; id = ChartNext(id)) { showChartInfo(id); } } 実行結果 128968169024912109: USDJPY (PERIOD_M5) 128968169024912110: EURJPY (PERIOD_H1) 128968169024912111: EURUSD (PERIOD_D1) MQL5 の標準ライブラリとして提供されている CChart クラス を使っても同様のことを行えます。 Scripts/Sample.mq5 #include &lt;Charts/Chart.mqh&gt; void showChartInfo(const CChart&amp; chart) { long id = chart.ChartId(); string sym = chart.Symbol(); ENUM_TIMEFRAMES period = chart.Period(); PrintFormat(&#34;%I64d: %s (%s)&#34;, id, sym, EnumToString(period)); } void OnStart() { CChart ch; for (ch.FirstChart(); ch.ChartId() != -1; ch.NextChart()) { showChartInfo(ch); } }"},{url:"/p/jxanz7d/",title:"資産配分シミュレーター（高橋ダン氏のライオン戦略用）",date:"2020-12-07T00:00:00Z",body:"資産配分シミュレーター（高橋ダン氏のライオン戦略用） 投資資金を振り分けるための計算機 高橋ダン氏の書籍 『お金の増やし方』 、『勝利の投資術』 で紹介されている「ライオン戦略」は、長期投資の戦略として非常に参考になります。 簡単に言うと、投資用の資金を「長期投資用、短期投資用」の 2 つに分け、さらに長期投資用の資金を一定の比率でいろいろな資産に分散投資する戦略です。 下記のツールは、投資資金を一定の比率で各資産に分配するための計算機です。 投資資金のところに金額を入力すると、それぞれいくら配分すればよいか表示されます（割合は固定してます）。 投資資金: 万円 長期投資（8割） 万円 &nbsp; 株式・社債・不動産（5割） 万円 &nbsp; コモディティ（3割） 万円 &nbsp; 国債・現金（2割） 万円 短期投資（2割） 万円 各資産について まず、「長期投資」と「短期投資」に使う資金は口座（証券口座）を分けて管理 することで、比率を守って投資できるようにします。 長期投資部分は、毎月いろいろな領域の ETF を少しずつ買っていくことで、分散投資します（シャープレシオを上げるのが重要）。 特定の領域の資産割合が大きくなってしまった場合は、別の領域の ETF の購入割合を大きくするなどして毎月リバランスします。 長期投資（8割） 長期投資用の資産は長く持ち続けることによる複利効果を狙います。 短期的な大きなリターンは期待せず、多くの商品に分散投資することで安定したリターンを確保します。 出来高が大きく、信託報酬（経費率）の低い ETF を活用します。 長期投資資産のカテゴリ どう分散するか？ 具体的な ETF 例 株式・社債・不動産（5割） （経済成長時に上昇する部分） 「先進国／途上国」、 「ドル建て／円建て／ユーロ建て」 VEA, VWO, SPY, 1615, 1306, 2800, FXI, SX5S, FEZ, EIDO, HYG コモディティ（3割） （経済危機に備える部分） 貴金属（金／銀／プラチナ）、 ベースメタル（亜鉛／鉛／アルミニウム）、 原油、天然ガス、農業商品、ビットコイン GLD, IAU, GDX, GDXJ, SLV, PPLT, 1541, PALL, DBB, USO, UNG, DBA 国債・現金（2割） （守りの部分） 「米国債／日本国債／欧州国債」、 「短期／中期／長期」 VGSH, SPTS, TIP, BND, VGIT, SPTI, EDV, SPTL, TLT 短期投資（2割） 一部の投資資金は短期戦略でハイリターンを狙います。 様々なトレードアイデアで相場の波に乗り、細かい売買を繰り返して利益を出します。 経済危機時には、すべての長期投資資産が下がってしまうことがあるので、この短期投資でカバーします。 次のようなことを意識します。 トレンドを探してそれに乗ることで小さな利益を積み重ねる 100円を1回で取るのは難しいが、10円を10回取るのは簡単 10バガーを狙うのではなく、数十％上がりそうな波に乗って数％抜くというのを繰り返す トレンドが変わったと判断したら利確。損切りも同じ ひとつの商品には 5〜10％ の資金まで（大きく負けないことがとっても大切） 流動性の高い ETF や FX などを使う 少なくとも、長期投資用と短期投資用の口座をちゃんと分けておけば、短期投資で熱くなって資産の大部分を溶かしてしまうという心配はなくなります。"},{url:"/p/gkcxsb2/",title:"MetaTrader/MQL: 通貨（シンボル）のポイントサイズ、Digit 数を調べる (Point, Digits, SymbolInfoDouble)",date:"2020-11-08T00:00:00Z",body:"MetaTrader/MQL: 通貨（シンボル）のポイントサイズ、Digit 数を調べる (Point, Digits, SymbolInfoDouble) Point と Digits とは（Pips とは違う？） ポイントサイズ (Point) は具体的には 0.001 や 0.0001 などの数値であり、ブローカーが各通貨ごとに提示 (quote) する価格表示の最小単位を示しています。 ポイントの単位は決済通貨です。 下記はあるブローカーを使用した場合の、MetaTrader の取引パネルの表示例（ドル円とユーロドル）です。 USDJPY は 0.001（円）の単位まで表示されているので、1 point = 0.001 です。 EURUSD は 0.00001（ドル）の単位まで表示されているので、1 point = 0.00001 です。 同様の概念として 桁数 (Digits) がありますが、これは小数点以下何桁まで提示するかであり、本質的には Point と同じ情報を示しています。 これらの値は、通貨ごとに異なるだけでなく、ブローカーによって異なること に注意してください。 提示パターンは大きく下記の 2 通りに分かれるようです。 3/5 digit broker &hellip; USDJPY が x.xxX、EURUSD が x.xxxxX と提示される。 4/6 digit broker &hellip; USDJPY が x.xxxX、EURUSD が x.xxxxxX と提示される。 OrderSend 関数や CTrade クラスで注文を出す 場合、最大許容スリッページ (Deviation) などをポイント数で指定する必要があります。 例えば、USDJPY のポイントサイズが 0.001 のときに、最大許容スリッページを 0.005 円 (0.5 pips) にしたければ、5 ポイントと指定する必要があります。 ちなみに、FX の世界では Pips (percentage in point) という単位もよく使われており、取引の成績を表現するときに利用されています（例:「ドル円で 10 ピップとった！」）。 ある通貨の 1 pip がいくらかは世界共通で決められていて、USDJPY の 1 pip = 0.01 円（1 銭）、EURUSD の 1 pip は 0.0001 ドルです。 上の取引パネルの図で、大きく表示されている数値が Pips を表しています。 つまり、このブローカーの場合、1 pip = 10 points です。 カレントチャートの通貨のポイントサイズを取得する (Point, Digits) カレントチャートで表示している通貨のポイントサイズを調べるには、Point 関数、桁数を調べるには Digits 関数 を使用します。 Scripts/ShowPointAndDigits.mq5 void OnStart() { const string symbol = Symbol(); // カレントチャートのシンボル（例: &#34;USDJPY） double point = Point(); // ポイントサイズ（例: USDJPY なら 0.001 や 0.0001） int digits = Digits(); // 小数点以下桁数（例: USDJPY なら 3 や 4） MessageBox(StringFormat(&#34;Symbol=%s, Point=%f, Digits=%d&#34;, symbol, point, digits)); } 表示例 Symbol=EURUSD, Point=0.000010, Digits=5 指定した通貨のポイントサイズを取得する (CSymbolInfo クラス、SymbolInfoXXX 関数) CSymbolInfo クラスを使う方法 取引クラス のひとつである CSymbolInfo クラス を使用すると、指定したシンボル（通貨）の情報を取得することができます。 例えば、通貨ペア &ldquo;USDJPY&rdquo; のポイントサイズや桁数を知らべるには次のようにします。 CSymbolInfo クラスで USDJPY のポイントサイズを調べる #include &lt;Trade\\SymbolInfo.mqh&gt; void OnStart() { CSymbolInfo sym; if (!sym.Name(&#34;USDJPY&#34;)) { // 扱う通貨を指定 Alert(StringFormat(&#34;Symbol name [%s] is invalid&#34;, sym.Name())); return; } MessageBox(StringFormat( &#34;Symbol=%s, Point=%f, Digits=%d&#34;, sym.Name(), sym.Point(), sym.Digits() )); } SymbolInfoXXX 関数をつかう方法 シンボル情報は、SymbolInfoDouble 関数 や SymbolInfoInteger 関数 で取得することもできます。 こちらは、毎回対象のシンボル名を指定する必要があります。 1 つのシンボルからいろいろな情報を取得したい場合は、CSymbolInfo クラスを使った方がコードがすっきりします。 SymbolInfoXXX 関数で USDJPY のポイントサイズを調べる void OnStart() { const string symbol = &#34;USDJPY&#34;; double point = SymbolInfoDouble(symbol, SYMBOL_POINT); long digits = SymbolInfoInteger(symbol, SYMBOL_DIGITS); if (digits == 0) { Alert(StringFormat(&#34;%s の情報を取得できません&#34;, symbol)); return; } MessageBox(StringFormat(&#34;Symbol=%s, Point=%f, Digits=%d&#34;, symbol, point, digits)); } SymbolInfoDouble(Symbol(), SYMBOL_POINT) とした場合は、Point() と同じ意味になります。 不正なシンボル名などを指定して情報が取れない場合は、SymbolInfoInteger が 0 を返すことを利用してある程度のエラー処理を行えますが、ちゃんとエラー処理を行いたい場合は、3 つの引数を取るバージョンの SymbolInfoDouble/Integer 関数を使用します。 void OnStart() { const string symbol = &#34;USDJPY&#34;; double point; long digits; bool isOk = SymbolInfoDouble(symbol, SYMBOL_POINT, point); isOk &amp;= SymbolInfoInteger(symbol, SYMBOL_DIGITS, digits); if (!isOk) { Alert(StringFormat(&#34;%s の情報を取得できません&#34;, symbol)); return; } MessageBox(StringFormat(&#34;Symbol=%s, Point=%f, Digits=%d&#34;, symbol, point, digits)); } MarketInfo 関数をつかう方法（MT4 のみ） MQL4 では次のように MarketInfo 関数を使っても同様にポイントサイズを取得することができますが、MQL4/5 共通で SymbolInfoDouble 関数が使えるので、そちらを使っておけばよいでしょう。 MarketInfo を使う方法 (MT4) void OnStart() { const string symbol = &#34;USDJPY&#34;; double point = MarketInfo(symbol, MODE_POINT); MessageBox(StringFormat(&#34;%s のポイントサイズは %f です&#34;, symbol, point)); }"},{url:"/p/43cgihf/",title:"MetaTrader/MQL: MQL4 と MQL5 のどちらでコンパイルされているか調べる",date:"2020-10-27T00:00:00Z",body:"MetaTrader/MQL: MQL4 と MQL5 のどちらでコンパイルされているか調べる MQL コード内で下記のマクロが定義されているかどうかを調べることによって、MQL プログラムが MQL4 としてコンパイルされているのか、MQL5 としてコンパイルされているのかを判別することができます。 MQL4 &hellip; MQL4 としてコンパイルされているときに定義される MQL5 &hellip; MQL5 としてコンパイルされているときに定義される これを利用すると、MQL4 用と MQL5 用のコードを単一のファイルで記述することができます。 MQL4/5 コードを混在させる void OnStart() { #ifdef __MQL5__ MessageBox(&#34;MQL5 でコンパイルされています&#34;); #else MessageBox(&#34;MQL4 でコンパイルされています&#34;); #endif }"},{url:"/p/xhxumiu/",title:"MetaTrader/MQL: チャートのサイズ（幅・高さ）を取得する (ChartGetInteger)",date:"2020-10-27T00:00:00Z",body:"MetaTrader/MQL: チャートのサイズ（幅・高さ）を取得する (ChartGetInteger) ChartGetInteger 関数 の第 2 パラメーター (prop_id) に CHART_WIDTH_IN_PIXELS および CHART_HEIGHT_IN_PIXELS を指定することで、指定したチャートの幅・高さを取得することができます。 取得されるサイズは、チャートの描画領域のみのサイズです（軸の価格表示部分などは含まれません）。 ChartGetInteger() には次のような 2 つのバージョンがあります。 2 つ目のバージョンを使うと、戻り値で関数の実行に成功したかどうかを調べることができます。 long ChartGetInteger( long chart_id, // 対象のチャート（0 はカレントチャート） int prop_id, // 取得したいプロパティの ID int sub_window=0 // サブウィンドウ番号（0 はメインチャート） ) bool ChartGetInteger( long chart_id, // 対象のチャート（0 はカレントチャート） int prop_id, // 取得したいプロパティの ID int sub_window, // サブウィンドウ番号（0 はメインチャート） long&amp; long_var // 取得結果の格納先 ) インジケーター用のサブウィンドウのサイズを調べたい場合は、第 3 パラメーター sub_window に 1, 2, 3 のような数値を指定します（1 がひとつめのサブチャートです）。 Scripts/MyScript.mq5 void OnStart() { long width = ChartGetInteger(0, CHART_WIDTH_IN_PIXELS); long height = ChartGetInteger(0, CHART_HEIGHT_IN_PIXELS); MessageBox(StringFormat(&#34;width=%d, height=%d&#34;, width, height)); } 下記はエラー処理なども行う例です（MT4用）。 Scripts/ShowChartWidthAndHeight.mq4 #property strict #include &lt;stdlib.mqh&gt; // ErrorDescription /** * 指定したチャートのメインチャートウィンドウの幅（ピクセル）を取得します。 * 取得に失敗した場合は -1 を返します。 */ int GetChartWidthInPixels(const long chartId = 0) { long result = -1; if (!ChartGetInteger(chartId, CHART_WIDTH_IN_PIXELS, 0, result)) { string err = ErrorDescription(GetLastError()); PrintFormat(&#34;ERROR in %s: %s&#34;, __FUNCTION__, err); } return (int) result; } /** * 指定したチャートのメインチャートウィンドウの高さ（ピクセル）を取得します。 * 取得に失敗した場合は -1 を返します。 */ int GetChartHeightInPixels(const long chartId = 0) { long result = -1; if (!ChartGetInteger(chartId, CHART_HEIGHT_IN_PIXELS, 0, result)) { string err = ErrorDescription(GetLastError()); PrintFormat(&#34;ERROR in %s: %s&#34;, __FUNCTION__, err); } return (int) result; } void OnStart() { int width = GetChartWidthInPixels(); int height = GetChartHeightInPixels(); MessageBox(StringFormat(&#34;width=%d, height=%d&#34;, width, height)); }"},{url:"/p/92izet9/",title:"テクニカル指標: GMMA (Guppy Multi Moving Average)",date:"2020-05-23T00:00:00Z",body:"テクニカル指標: GMMA (Guppy Multi Moving Average) GMMA の概要 基本情報 英語名GMMA: Guppy Multi Moving Average 日本語名複合型移動平均線 考案者Daryl Guppy（ダリル・グッピー） ... オーストラリアのテクニカル・アナリスト） 考案年─ 12本の EMA（指数平滑移動平均線）の関係から相場の状況を判断する 6本の短期線 &hellip; 3日・5日・8日・10日・12日・15日 6本の長期線 &hellip; 30日・35日・40日・45日・50日・60日 利点 見た目でトレンドを把握しやすい 押し目の判断にも使えるし、トレンド転換の判断にも使える ダマシが比較的少ない 移動平均線の GC/DC よりも早めにトレンド転換が示唆される 仕掛けのポイント トレンド転換 短期線6本が長期線6本をすべて突き抜けたとき 押し目買い・戻り売り 短期線6本が長期戦6本に絡んだが、元の方向へ戻ったとき 短期戦の方向がすべて下向きになったが、すべて上向きに戻ったとき ただし、いずれも長期線が規則正しく同じ方向に並んでいるときのみ その他 GMMA の考案者である Guppy 氏は、ローソク足を表示せず、12 本の EMA だけを表示してトレードしているらしい。 Daryl Guppy 氏の Web サイト: guppytraders.com"},{url:"/p/peu9myd/",title:"トレステ EashLanguage 入門",date:"2020-05-07T00:00:00Z",body:"トレステ EashLanguage 入門"},{url:"/p/7pz8gpx/",title:"EasyLanguage: インジケーターサンプル「日毎の始値（寄付）価格にラインを引く」",date:"2020-05-07T00:00:00Z",body:"EasyLanguage: インジケーターサンプル「日毎の始値（寄付）価格にラインを引く」 概要 このインジケーターは、その日の寄付の価格にラインを引きます。 日毎の買い優勢・売り優勢の判断などに利用できます。 日をまたぐ部分は線を繋がない というテクニックも使っています。 コード Plot1(OpenD(0), &#34;Open&#34;, Green); if (Time = SessionEndTime(1, 1)) then begin SetPlotColor(1, Transparent); end; OpenD(0) で、日毎の始値を取得できるので、基本的にはこれをプロットしているだけです。 後半の if (Time = SessionEndTime(1, 1) という条件に一致した場合に、プロット色を透明 (Transparent) に設定することで、 日をまたぐ部分に線を引かない ようにしています。"},{url:"/p/wjwamw9/",title:"トレステメモ (TradeStation)",date:"2020-05-07T00:00:00Z",body:"トレステメモ (TradeStation)"},{url:"/p/ucnv5en/",title:"リファレンス: 勝率と損益率の関係（表）",date:"2020-05-07T00:00:00Z",body:"リファレンス: 勝率と損益率の関係（表） トレードでは、勝率が高くても、損益率が低ければトータルで負けます（損大利小）。 逆に勝率が低くても、損益率が高ければトータルで勝てます（損小利大）。 次の表は、収益がトントンになる勝率と損益率の対応表です。 勝率 損益率 戦略のタイプ 10% 9.00 トレンドフォロー型 20% 4.00 ↑ 25% 3.00 30% 2.33 33% 2.00 40% 1.50 （このあたりが一般的？） 50% 1.00 60% 0.67 67% 0.50 70% 0.43 75% 0.33 80% 0.25 ↓ 90% 0.11 スキャルピング型 勝率 ＝ 勝ちトレード数／負けトレード数 損益率（リスクリワード） ＝ トレードあたりの平均利益／トレードあたりの平均損失"},{url:"/p/6pybku5/",title:"EasyLanguage: 指定した日付の曜日を調べる (DayOfWeek)",date:"2020-05-06T00:00:00Z",body:"EasyLanguage: 指定した日付の曜日を調べる (DayOfWeek) DayOfWeek の概要 DayOfWeek(cDate); DayOfWeek は指定した日付の曜日を返します（0 (Sunday) 〜 6 (Saturday)）。 不正な日付が指定された場合は、-1 を返します。 パラメータ cDate には、年月日を表す YYYMMDD 形式の整数値 (ELDate) を指定します。 YYY は年から 1900 を引いた値で、例えば2020年10月5日であれば、引数として 1201005 という値を渡します。 指定できる値の範囲は、0 〜 2501231（1899年12月31日 〜 2150年12月31日）のようです。 戻り値は 0（日曜日）〜 6（土曜日）の整数値ですが、これらの数字は下記のような予約語で定義されています。 戻り値を使って条件分岐するときは、これらの予約後を使って値を比較すると分かりやすいコードになります。 Sunday = 0 Monday = 1 Tuesday = 2 Wednesday = 3 Thursday = 4 Friday = 5 Saturday = 6 DayOfWeek の使用例 DayOfWeek の引数は、下記のような感じで指定します。 DayOfWeek(Date) &hellip; 現在の足の曜日 DayOfWeek(CurrentDate) &hellip; 本日の曜日 DayOfWeek(1200507) &hellip; 2020年5月7日の曜日 → 4 (Thursday) 次のコードは、現在処理中のローソク足が月曜日かどうかを調べています。 if DayOfWeek(Date) = Monday then begin // 月曜日の場合の処理 end;"},{url:"/p/j5hs5fq/",title:"EasyLanguage: 日時情報（日付・時刻・曜日）を扱う",date:"2020-05-06T00:00:00Z",body:"EasyLanguage: 日時情報（日付・時刻・曜日）を扱う"},{url:"/p/wjw9kv7/",title:"EasyLanguage: GetBackgroundColor関数（チャートの背景色を取得する）",date:"2020-05-03T00:00:00Z",body:"EasyLanguage: GetBackgroundColor関数（チャートの背景色を取得する） GetBackgroundColor 予約語を使用すると、チャートの背景色の色数値（RGBA を示す int 値）を取得することができます。 使用例 Value1 = GetBackgroundColor; チャート上に描画オブジェクトを配置するときに、背景色を考慮した色付けを行いたい場合などに使用できます。"},{url:"/p/znycoyb/",title:"EasyLanguage: RGB関数（RGBの各値を合成して32ビットカラー値を作成する）",date:"2020-05-03T00:00:00Z",body:"EasyLanguage: RGB関数（RGBの各値を合成して32ビットカラー値を作成する） RGB 予約語を使用すると、RGB の各成分の色情報を合成して、32 ビット整数の RGB 値を生成することができます。 RGB(nRed, nGreen, nBlue); 下記のサンプルコード（インジケーター）では、RGB 予約語の戻り値をログ出力しています。 once begin ClearPrintLog; Value1 = RGB(255, 0, 0); // = Red (255) Value2 = RGB(255, 255, 0); // = Yellow (65535) Value3 = RGB(255, 0, 255); // = Magenta (16711935) Print(Value1:0:0); Print(Value2:0:0); Print(Value3:0:0); end; 実行結果 255 65535 16711935"},{url:"/p/h4fr3dn/",title:"EasyLanguage: インジケーターサンプル「本日のOHLCラインを表示する」",date:"2020-05-03T00:00:00Z",body:"EasyLanguage: インジケーターサンプル「本日のOHLCラインを表示する」 概要 このインジケーターは、本日の OHLC（始値、高値、安値、終値）にラインを描画します。 デイトレードで、上昇基調／下降基調などを判断するときなどに利用できます。 コード #OHLC_Lines { Author: Maku } using elsystem.drawing; using elsystem.drawingobjects; input: ColorOpen(DarkRed) [DisplayName = &#34;本日の始値の色&#34;], ColorHigh(LightGray) [DisplayName = &#34;本日の高値の色&#34;], ColorLow(LightGray) [DisplayName = &#34;本日の安値の色&#34;], ColorClose(Green) [DisplayName = &#34;本日の終値の色&#34;]; var: // HorizontalLine オブジェクト用の変数 HorizontalLine myLineOpen(null), HorizontalLine myLineHigh(null), HorizontalLine myLineLow(null), HorizontalLine myLineClose(null); once (LastBarOnChart) begin // チャート上に水平線を追加 myLineOpen = HorizontalLine.Create(OpenD(0)); myLineHigh = HorizontalLine.Create(HighD(0)); myLineLow = HorizontalLine.Create(LowD(0)); myLineClose = HorizontalLine.Create(CloseD(0)); // 線のスタイル myLineOpen.Style = elsystem.drawingobjects.StyleType.Solid; myLineHigh.Style = elsystem.drawingobjects.StyleType.Solid; myLineLow.Style = elsystem.drawingobjects.StyleType.Solid; myLineClose.Style = elsystem.drawingobjects.StyleType.Solid; // 線の色 myLineOpen.Color = Color.FromARGB(ColorOpen); myLineHigh.Color = Color.FromARGB(ColorHigh); myLineLow.Color = Color.FromARGB(ColorLow); myLineClose.Color = Color.FromARGB(ColorClose); // 線の太さ myLineOpen.Weight = 1; myLineHigh.Weight = 1; myLineLow.Weight = 1; myLineClose.Weight = 1; //　ユーザーによる線の移動を禁止 myLineOpen.Lock = true; myLineHigh.Lock = true; myLineLow.Lock = true; myLineClose.Lock = true; // 線を追加 DrawingObjects.Add(myLineOpen); DrawingObjects.Add(myLineHigh); DrawingObjects.Add(myLineLow); DrawingObjects.Add(myLineClose); end; 参考リンク 水平線を描画する (HorizontalLine)"},{url:"/p/cw8t4eo/",title:"トレステの操作: トレーリングストップ注文を出す",date:"2020-05-03T00:00:00Z",body:"トレステの操作: トレーリングストップ注文を出す トレステのオーダーバーから、トレーリングストップ注文を出すことができます。 オーダーバーが表示されていない場合は、下記のいずれかの方法で表示できます。 メニューから 表示 → オーダーバー を選択 Ctrl + Shift + O （ホットキー入力） .ob &lt;Enter&gt; （コマンド入力） 保有している現物株をトレーリングストップで売るには以下のようにします。 注文種類で 逆指値（成行） を選択する トレーリングストップ注文を出すには、逆指値（成行）を選択しておく必要があります。他の注文種類を選択すると、次の 詳細 ボタンが表示されません。 詳細 ボタンを押して、 トレーリングストップ にチェックを入れる。 いくら下落したら売るかは、パーセンテージ での指定と、 価格 (Pts) での指定を選ぶことができます。ここでは、5％の下落で売るように設定しています。 現物売り ボタンを押して注文を発行します。 デフォルトでは下記のような注文確認画面が表示されるので、ここで はい ボタンを押せば実際に注文が発行されます。 トレーリングストップが正しく設定されているかをここで確認しましょう。"},{url:"/p/g9r8n3h/",title:"EasyLanguage: レーダースクリーンのセルのフォーマットを変更する（中央寄せ、小数点以下の表示など）",date:"2020-05-03T00:00:00Z",body:"EasyLanguage: レーダースクリーンのセルのフォーマットを変更する（中央寄せ、小数点以下の表示など） セル内のテキストを左寄せ／中央寄せ／右寄せ レーダースクリーン用のストラテジを作って、セル内にテキストを表示すると、デフォルトではすべて右寄せになったりして見映えがよくありません。 セル内のテキストを中央寄せなどで表示したいときは、次のように設定します。 TradeStation 開発環境のエディタ領域で右クリック → プロパティ を選択 グリッドのスタイル のタブの 整列する の項目で「中央寄せ」を選択 F3 キーで再コンパイル これで、レーダースクリーンにストラテジーを追加したときに、最初からセル内のテキストが中央寄せで表示されるようになります。 インジケータープロパティのダイアログで、プロット項目が出てこない場合は、一度 F3 キーでコンパイルしてから開き直すと表示されます。 （おまけ）上記の表示をするために使った EL コード !テストインジケーター once begin for Value1 = 1 to 3 begin SetPlotColor(Value1, White); SetPlotBgColor(Value1, DarkBlue); end; end; once (LastBarOnChart) begin Plot1(&#34;左&#34;, &#34;指標1&#34;); Plot2(&#34;中&#34;, &#34;指標2&#34;); Plot3(&#34;右&#34;, &#34;指標3&#34;); end; セル内の数値の表示フォーマットを設定する レーダースクリーンのセル内に表示する数値のフォーマットも、同様にインジケータープロパティから設定することができます。 上記の例では、指標1 から 指標4 まで全て同じ、123.45 という値をプロットしているのですが、数値の表示フォーマット設定で、小数点以下を何桁まで表示するかを変更しています。 指標1 &hellip; 小数点以下 3 桁まで表示（上の図では、0 パディング） 指標2 &hellip; 小数点以下 2 桁まで表示 指標3 &hellip; 小数点以下 1 桁まで表示（上の図では、四捨五入で切り上げ） 指標4 &hellip; 小数点以下 0 桁まで表示（上の図では、四捨五入で切り捨て） 下の図は設定の例です。 カテゴリー項目で 数値 を選択すると、小数点以下の表示桁数や、マイナス値をどのように表示するかなどを設定することができます。 もちろん、このフォーマット指定が有効になるのは、下記のようにプロット時に数値を指定したときのみです（文字列をプロットすると、これらの設定は無視されます）。 Plot1(123.45, &#34;指標1&#34;); （おまけ）上記の表示をするために使った EL コード !テストインジケーター once begin for Value1 = 1 to 4 begin SetPlotColor(Value1, White); SetPlotBgColor(Value1, DarkBlue); end; end; once (LastBarOnChart) begin Plot1(123.45, &#34;指標1&#34;); Plot2(123.45, &#34;指標2&#34;); Plot3(123.45, &#34;指標3&#34;); Plot4(123.45, &#34;指標4&#34;); end;"},{url:"/p/b4k2v8j/",title:"EasyLanguage: 色（カラー）情報を扱う",date:"2020-05-03T00:00:00Z",body:"EasyLanguage: 色（カラー）情報を扱う"},{url:"/p/f9q6kye/",title:"EasyLanguage: カラー予約語と値の対応表",date:"2020-05-02T00:00:00Z",body:"EasyLanguage: カラー予約語と値の対応表 カラー予約語の一覧 EasyLanguage には下記のような RGB 値を表す予約語が定義されています。 これらの予約語は、内部的には RGB 値を表す int 型の値（32 ビット整数値）です。 つまり、コード上で Red と記述するのと、255 と記述するのは同じ意味になります。 カラー予約語 10進表記 16進表記 RGB値 レガシー値 サンプル Black 0 000000 (0,0,0) 1 Blue 16711680 0000ff (0,0,255) 2 Cyan 16776960 00ffff (0,255,255) 3 Green 65280 00ff00 (0,255,0) 4 Magenta 16711935 ff00ff (255,0,255) 5 Red 255 ff0000 (255,0,0) 6 Yellow 65535 ffff00 (255,255,0) 7 White 16777215 ffffff (255,255,255) 8 DarkBlue 8388608 000080 (0,0,128) 9 DarkCyan 8421376 008080 (0,128,128) 10 DarkGreen 32768 008000 (0,128,0) 11 DarkMagenta 8388736 800080 (128,0,128) 12 DarkRed 128 800000 (128,0,0) 13 DarkBrown 32896 808000 (128,128,0) 14 DarkGray 8421504 808080 (128,128,128) 15 LightGray 12632256 c0c0c0 (192,192,192) 16 おまけ: カラー予約語の値を出力するコード 下記の EasyLanguage コードは、すべてのカラー予約語の RGB 値を出力します。 using elsystem.drawing; // Color class method void printRgb(double inColor, string inName) var: Color objColor; begin objColor = Color.FromARGB(inColor); Print(string.Format(&#34;{0}: {1} ({2},{3},{4})&#34;, inName, objColor.Name, objColor.R, objColor.G, objColor.B)); end; once begin ClearPrintLog; printRgb(Black, &#34;Black&#34;); printRgb(Blue, &#34;Blue&#34;); printRgb(Cyan, &#34;Cyan&#34;); printRgb(Green, &#34;Green&#34;); printRgb(Magenta, &#34;Magenta&#34;); printRgb(Red, &#34;Red&#34;); printRgb(Yellow, &#34;Yellow&#34;); printRgb(White, &#34;White&#34;); printRgb(DarkBlue, &#34;DarkBlue&#34;); printRgb(DarkCyan, &#34;DarkCyan&#34;); printRgb(DarkGreen, &#34;DarkGreen&#34;); printRgb(DarkMagenta, &#34;DarkMagenta&#34;); printRgb(DarkRed, &#34;DarkRed&#34;); printRgb(DarkBrown, &#34;DarkBrown&#34;); printRgb(DarkGray, &#34;DarkGray&#34;); printRgb(LightGray, &#34;LightGray&#34;); end; 上記のコードでは、各カラー予約語の RGB 成分を取り出すために、Color オブジェクトに変換してから R プロパティなどを参照していますが、カラー予約語から GetRValue(Cyan)、GetGValue(Cyan)、GetBValue(Cyan) のように直接 RGB 成分を取り出すこともできます。 Color オブジェクトの Name プロパティは、FF808080 のような 16 進数表記の RGBA 文字列になるみたいなのでこれを利用してます。"},{url:"/p/8v8hs3c/",title:"EasyLanguage: 独自インジケーターの線を元の銘柄のチャートに重ねて表示する",date:"2020-05-02T00:00:00Z",body:"EasyLanguage: 独自インジケーターの線を元の銘柄のチャートに重ねて表示する トレステで作成した独自のインジケーターをチャートに適用すると、デフォルトではサブチャート（別のウィンドウ）に描画されるようになっています。 デフォルトで最初の銘柄のウィンドウ領域に描画されるようにするには下記のように設定します。 トレードステーション開発環境の EasyLanguage エディタ領域で右クリック プロパティ を選択 スケーリング タブの スケール位置 で 元データに軸を合わせる を選択 F3 キーで再コンパイル"},{url:"/p/6zgwdr7/",title:"トレステの設定: トレステ開発環境で最初に設定しておきたい項目",date:"2020-04-22T00:00:00Z",body:"トレステの設定: トレステ開発環境で最初に設定しておきたい項目 トレステ開発環境のエディタ設定は、メニューから次のようにたどると開くことができます。 ツール → オプション ここでは、次のような設定を行なっています。 インデントする際にタブの代わりにスペースを挿入 にチェック タブ文字の代わりに、半角スペース x 4 を使うようにします。 ライン番号 にチェック 各行の左端に行番号が表示されるようになります。 ケーススタイル で 小文字 を選択 input、var、if などの文頭が小文字に統一されます（関数名などは入力したまま大文字・小文字が保持されます）。 エディタのカラー設定や、フォント設定もこのダイアログから行うことができます。"},{url:"/p/xgr3cku/",title:"EasyLanguage の変数の特徴（値の伝搬のしくみ）",date:"2020-04-21T00:00:00Z",body:"EasyLanguage の変数の特徴（値の伝搬のしくみ） EasyLanguage でユーザー変数を定義するときは、次のように var: を使います（variables: でも OK）。 var: int hoge(0); このように定義した変数 hoge は、次のような性質を持ちます。 チャートにアタッチしたときのみ初期化される（上記の例では 0 に初期化される）。 変数に代入した値は、次の足の処理に引き継がれる。 hoge[n] とすると、n 本前の足の最終的な値を参照できる。hoge[0] は hoge と同じ意味になる。 この振る舞いは、次のようなサンプルコードを実行してみるとよく分かります。 このプログラムでは、初期値 0 の数値変数 hoge を定義し、各足の処理ごとにインクリメントしています。 そして最後に、現在の hoge の値と、1 つ前、2 つ前の足での hoge の値を出力しています。 サンプルコード var: int hoge(0); hoge += 1; Print(String.Format(&#34;{0} {1} {2}&#34;, hoge[0], hoge[1], hoge[2])); 実行結果 1 0 0 2 1 0 3 2 1 4 3 2 5 4 3 hoge に代入された値は次の足へと引き継がれていくため、1、2、3、4、5 とひとつずつ増えていきます。 最初の足の処理で、hoge[1]、hoge[2] のように過去の足の値を参照した場合は、初期値で設定している 0 が得られます。 このような変数の性質を理解していると、過去の足での計算結果を再利用した、効率的なコードを記述できるようになります。 ちなみに、このように各足ごとに Print を実行すると、大量にログが出力されてしまうので、チャート上で 10 bars &lt;Enter&gt; のように入力して、足の数を絞っておくと見やすくなります。"},{url:"/p/f3gs6gs/",title:"EasyLanguage で垂直線を描画する (VerticalLine)",date:"2020-04-18T00:00:00Z",body:"EasyLanguage で垂直線を描画する (VerticalLine) 垂直線を引く方法 DrawingObjects.Add() で、VerticalLine オブジェクトを追加することで、画面上に垂直線を追加することができます。 これは、水平線 (HorizontalLine) を引く方法と同様です。 参考: 水平線を描画する (HorizontalLine) VerticalLine オブジェクトで垂直線を表示する コード 次のサンプルコードでは、日付が変わるタイミングで垂直線を描画しています。 #DateLine using elsystem.drawingobjects; var: bool myIsBarTypeProper(false), BNPoint myPoint(null), VerticalLine myLine(null); method void DrawVerticalLine() begin myPoint = BNPoint.Create(CurrentBar, 0); myLine = VerticalLine.Create(myPoint); myLine.Color = elsystem.drawing.Color.GreenYellow; myLine.Style = elsystem.drawingobjects.StyleType.Solid; myLine.Weight = 3; DrawingObjects.Add(myLine); end; once begin // ティック足(0)、分足(1)、秒足(14) のときのみ描画 myIsBarTypeProper = (BarType = 0) or (BarType = 1) or (BarType = 14); end; // 日付が変わった時に垂直線を描画 if myIsBarTypeProper and (Date &gt; Date[1]) then begin DrawVerticalLine(); end; 解説 VerticalLine オブジェクトは、VerticalLine.Create() を使って生成するのですが、このとき、描画位置の点を示す、下記のいずれかのオブジェクトを指定します。 BNPoint &hellip; 足のインデックスと価格を指定（BN は BarNumber の略） DTPoint &hellip; 日時と価格を指定（DT は DateTime の略） ここでは、BNPoint.Create() で BNPoint オブジェクトを生成しています。 myPoint = BNPoint.Create(CurrentBar, 0); X 座標としては現在の足のインデックス (CurrentBar) を指定し、Y 座標としては価格 0 円を指定しています（垂直線を引く場合は上下位置は関係ないので価格は何でもよい）。 あとは、この BNPoint オブジェクトを使って VerticalLine を生成し、それを DrawingObjects.Add() で追加すれば垂直線が描画されます。 myLine = VerticalLine.Create(myPoint); DrawingObjects.Add(myLine); 最後のポイントは、いつ描画するかの条件分岐です。 ここでは、足種 (BarType) が「ティック」「分足」「秒足」のいずれかであり、かつ、現在の足で日付が変わったときのみ DrawVerticalLine() を呼び出して垂直線を描画しています。 // 日付が変わった時に垂直線を描画 if myIsBarTypeProper and (Date &gt; Date[1]) then begin DrawVerticalLine(); end; 仮に別の足種（日足や週足など）でも描画してしまうと、すべての足で垂直線が描画されることになり、大変なことになります。 おまけ BNPoint の代わりに、DTPoint を使う場合は、次のような感じになります。 足のインデックス (CurrentBar) で横方向の座標を指定する代わりに、時刻情報 (BarDateTime) を指定します。 var: bool myIsBarTypeProper(false), DTPoint myPoint(null), VerticalLine myLine(null); method void DrawVerticalLine() begin myPoint = DTPoint.Create(BarDateTime, 0); myLine = VerticalLine.Create(myPoint); // ... DrawingObjects.Add(myLine); end; 参考リンク 水平線を描画する (HorizontalLine)"},{url:"/p/ufr2cmv/",title:"EasyLanguage で水平線を描画する (HorizontalLine)",date:"2020-04-18T00:00:00Z",body:"EasyLanguage で水平線を描画する (HorizontalLine) 水平線を引く方法 インジケーターで水平線を引くには下記のような方法があります。 Drawing Object の一種である HorizontalLine を追加する Plot1 関数などで固定 Price の線を引く 後者の方法は、Plot1(100) のように、固定価格でライン描画してしまう方法ですが、この値がインジケーターで求められた値として使われてしまうので、あまり望ましい方法ではないでしょう。 チャート上でローソク足が存在する部分しかラインが引かれないという欠点もあります。 そこで、ここでは前者の HorizontalLine を使った方法を採用することにします。 HorizontalLine オブジェクトで水平線を表示する DrawingObjects.Add() で、HorizontalLine オブジェクトを追加することで、画面上に水平線を追加することができます。 次のサンプルコードでは、各足の高値 (High) と安値 (Low) の位置に水平線を描画しています。 using elsystem.drawingobjects; // HorizontalLine オブジェクト用の変数 vars: HorizontalLine myLine1(null), HorizontalLine myLine2(null); // チャート上に水平線を追加 myLine1 = HorizontalLine.Create(High); myLine2 = HorizontalLine.Create(Low); DrawingObjects.Add(myLine1); DrawingObjects.Add(myLine2); // 水平線のスタイルや色、太さを変更可能 myLine1.Style = elsystem.drawingobjects.StyleType.Solid; myLine2.Style = elsystem.drawingobjects.StyleType.Dotted; myLine1.Color = elsystem.drawing.Color.Crimson; myLine2.Color = elsystem.drawing.Color.DeepSkyBlue; myLine1.Weight = 2; myLine2.Weight = 1; 参考リンク 垂直線を描画する (VerticalLine) インジケーターサンプル「本日のOHLCラインを表示する」"},{url:"/p/2mx9jt4/",title:"トレステの便利なショートカットキーとコマンド",date:"2020-04-17T00:00:00Z",body:"トレステの便利なショートカットキーとコマンド トレステ内のウィンドウは、ショートカットキーやコマンドで操作することができます。 ショートカットキーは、Ctrl + N などでおなじみのいわゆるホットキーですが、トレステで特徴的なのは、コマンド (Command Line) です。 コマンドは、 ドット (.) で始まるコマンド名 として定義されており、キーボードからコマンドを入力して Enter キーを押すことで、アクティブなウィンドウを素早く操作することができるようになっています。 例えば、チャート分析ウィンドウをアクティブにした状態で、.iat と入力して Enter キーを押すと、「分析テクニックの挿入」のダイアログを素早く開くことができます。 全般的なショートカットキー＆コマンド ショートカットキー、あるいはコマンドのどちらかを覚えておけば OK です。 ショートカットキー コマンド 説明 Alt + → / Ctrl + Tab 次のウィンドウをアクティブにする Alt + ← / Ctrl + Shift + Tab 前のウィンドウをアクティブにする Ctrl + O 「ワークスペース」を開く Ctrl + W 「ワークスペース」を閉じる Ctrl + P .p .print チャートの印刷（チャートを開いている場合のみ） Ctrl + N .nw .newwindow 「トレーディングアプリ」の起動ダイアログを開く Alt + F4 「トレーディングアプリ」を閉じる Ctrl + Alt + C .nc .newchart 「チャート分析」のウィンドウを開く Ctrl + Alt + H .nhl .newhotlist 「ホットリスト」のウィンドウを開く Ctrl + Alt + N .nn .newnews 「ニュース」のウィンドウを開く Ctrl + Alt + Q .nrs .newraderscreen 「レーダースクリーン」のウィンドウを開く Ctrl + Alt + T .nts .newtimeandsales 「タイム＆セールス」のウィンドウを開く Ctrl + Alt + X .nm .newmatrix 「マトリックス」のウィンドウを開く .nscn .newscanner 「スキャナー」のウィンドウを開く Ctrl + Shift + C ウィンドウをコピー Ctrl + Shift + V ウィンドウを貼り付け Ctrl + Shift + O .ob .orderbar オーダーバーを表示・非表示 チャート分析関連のコマンド 新しいチャート分析ウィンドウを開く (.NewChart) .nc 例: 新しいチャート分析を開き、トヨタ自動車の 5 分足チャートを 10 日間分表示 .nc ;; 7203-ts 5 min 10 days 分析テクニックを挿入 (.InsertAnalysisTechnique) .iat &hellip; 分析テクニックの選択ダイアログを表示 .ist &lt;分析テクニック名&gt; &hellip; 指定した分析テクニックを挿入 ストラテジーを挿入 (.InsertAnalysisTechnique) .ist &hellip; ストラテジーの選択ダイアログを表示 .ist &lt;ストラテジー名&gt; &hellip; 指定したストラテジーを挿入 スクロールバーを表示／非表示 (.ScrollBar) .scroll &hellip; スクロールバーをトグル 最新のバーの右側のマージンを指定 (.Right) .bar 3 &hellip; 最新バーの右側に 3 本分のマージンができるように表示位置を調整 このコマンドは、最新のバーが画面内に表示されているときしか効果がないようです。 パラメータの数値を省略すると、0 が指定されたのと同じ意味になります（右マージンなし）。 データウィンドウの表示／非表示 (.DataWindow) .dw"},{url:"/p/xrap6ky/",title:"トレステ/関数/Momentum 関数 - 現在の足のモメンタムを求める",date:"2020-04-13T00:00:00Z",body:"トレステ/関数/Momentum 関数 - 現在の足のモメンタムを求める Momentum 関数の使い方 Momentum 関数は、現在の足のモメンタム（n 本前の足との価格差）を返します。 第1引数に使用する価格の種類 (OHLC)、第2引数に何本前の足と比べるかを指定します。 14 本前の終値との差分を求める Value1 = Momentum(Close, 14); Momentum 関数は単純に価格差を返しますが、比率（パーセンテージ）で求めるには次のように RateOfChange 関数を使用します。 RateOfChange が返す値は、価格に変化がないときは 0、価格が 50％ 上がっているときは 50 になります。 14 本前の終値からの変化率（騰落率％）を求める Value1 = RateOfChange(Close, 14); Momentum 関数の実装 Momentum 関数の実装はとてもシンプルです。 Momentum 関数の実装 inputs: Price(numericseries), Length(numericsimple); Momentum = Price - Price[Length]; RateOfChange 関数の実装は次のようになっています。 RateOfChange 関数の実装 inputs: Price(numericseries), Length(numericsimple) ; if Price[Length] &lt;&gt; 0 then RateOfChange = (Price / Price[Length] - 1) * 100 else RateOfChange = 0;"},{url:"/p/znydp2d/",title:"EasyLanguage: 印刷ログの内容をクリアする (ClearPrintLog)",date:"2020-04-13T00:00:00Z",body:"EasyLanguage: 印刷ログの内容をクリアする (ClearPrintLog) Print 関数を使って「印刷ログ」ウィンドウにログを出力してデバッグしていると、どんどんログ出力が溜まっていくので、最後に適用したインジケーターの出力がどの行から始まっているかが分かりにくくなります。 そのような場合は、EasyLanguage のコード内から ClearPrintLog を呼び出すことで、「印刷ログ」の内容を自動でクリアすることができます（他の分析テクニックが出力した内容もクリアされてしまうことに注意してください）。 // インジケーター適用時にログをクリア once ClearPrintLog; // バー番号と終値をログ出力 Print(CurrentBar:4:0, &#34;: Close = &#34;, Close:0:0); ClearPrintLog をそのまま実行してしまうと、各足の処理で毎回ログをクリアすることになってしまうので、once を使って、インジケーターを適用したときに一度だけ実行するようにします。"},{url:"/p/hprjx9i/",title:"TradeStation の標準インジケーターのコード",date:"2020-04-13T00:00:00Z",body:"TradeStation の標準インジケーターのコード Easy Language の学習用に、Trade Station の標準インジケーターのコードをまとめておきます。"},{url:"/p/4xj3kjx/",title:"TradeStation/関数",date:"2020-04-13T00:00:00Z",body:"TradeStation/関数"},{url:"/p/siw8pef/",title:"TradeStation/インジケーター",date:"2020-04-12T00:00:00Z",body:"TradeStation/インジケーター"},{url:"/p/n8ju6gq/",title:"トレステのチャート分析の時間足（足種）をキーボードで切り替える",date:"2020-04-12T00:00:00Z",body:"トレステのチャート分析の時間足（足種）をキーボードで切り替える コマンド入力ボックスについて トレステ画面でおもむろにキーボードで入力を始めると、トレステ画面の上部に表示されている コマンド入力ボックス （「銘柄コード/コマンドを入力」と表示されているところ）にそのテキストが表示されます。 ここに特定のコマンドを入力して Enter キーを押すと、キーボードだけで各種ウィンドウの表示を切り替えることができます。 このメインツールバーが表示されていない場合は、メニューから次のようにたどって表示できます。 表示 → ツールバー → メイン ただ、コマンド入力自体は、このメインツールバーが表示されていなくても可能です。 メインツールバーが表示されていなときにコマンド入力を始めると、独立した「コマンドライン」ダイアログが表示されて、そこに入力したテキストが表示されます。 コマンド入力ボックスの右に表示されている矢印アイコンをクリックすると、過去に実行したコマンドの履歴からコマンドを実行することができます。 チャート分析ウィンドウの表示を切り替える 時間足（足種）の切り替え チャート分析ウィンドウをアクティブにした状態で、次のようにキーボードから入力して Enter キーを押すことで、時間足を簡単に切り替えることができます。 大文字と小文字は区別されません。 1 tick(s): 1 ティック足 10 tick(s): 10 ティック足 30 sec(s) / 30 second(s): 30 秒足 1 min(s) / 1 minute(s): 1 分足 5 min(s) / 5 minute(s): 5 分足 15 min(s) / 15 minute(s): 15 分足 60 min(s) / 60 minute(s): 1 時間足 240 min(s) / 240 minute(s): 4 時間足 .d / .daily / daily : 日足 .w / .weekly / weekly : 週足 .m / .monthly / montly : 月足 .hourly というコマンドはないので、1 時間足を表示したい場合は 60 min と入力しなければいけないことに気をつけてください。 表示するデータの絞り込み 次のようにコマンド入力することで、チャート分析ウィンドウで使用するデータの範囲を絞り込むことができます。 ちょっと分かりにくいですが、足種の切り替えではないことに注意してください。 30 day(s): 30 日分のデータだけで表示 4 week(s): 4 週間分のデータだけで表示 10 month(s): 10 カ月分のデータだけで表示 100 bar(s): 現在の足種で 100 本分のデータだけで表示 銘柄コードと組み合わせて指定 チャート分析ウィンドウの「銘柄」「足種」「データ範囲」は 1 コマンドでまとめて切り替えることができます。 6954-TS daily: ファナックの株価を日足で表示 6954-TS daily 200 days: ファナックの株価を日足で 200 日分だけ表示 MSFT 10 days: Microsoft の株価を 10 日分だけ表示 MSFT 5 min 10 days: Microsoft の株価を 5 分足で 10 日分だけ表示 NFLX weekly 1 year: Netflix の株価を週足で 1 年分だけ表示 NFLX weekly 12 months: （同上） NFLX weekly 52 weeks: （同上） このようにまとめて指定する場合は、 「銘柄」だけは最初に指定する 必要があります。 「足種」と「データ範囲」の順番は入れ替え可能です。"},{url:"/p/rbnx8hr/",title:"TradeStation/インジケーター/モメンタム (WA-Momentum)",date:"2020-04-12T00:00:00Z",body:"TradeStation/インジケーター/モメンタム (WA-Momentum) WA-Momentum { Search Tag: WA-Momentum } inputs: Price( Close ) [DisplayName = &#34;Price&#34;, ToolTip = &#34;Enter an EasyLanguage expression to use in the momentum calculation.&#34;], Length( 12 ) [DisplayName = &#34;Length&#34;, ToolTip = &#34;Enter number of bars over which to calculate momentum.&#34;], ColorNormLength( 14 ) [DisplayName = &#34;ColorNormLength&#34;, ToolTip = &#34;Color Normalization Length. Enter the number of bars over which to determine high and low values of the indicator for use in creating gradient colors.&#34;], UseGradientColoring( true ) [DisplayName = &#34;UseGradientColoring&#34;, ToolTip = &#34;Enter true for gradient (blended) coloring; enter false for no gradient coloring.&#34;], UpColor( Yellow ) [DisplayName = &#34;UpColor&#34;, ToolTip = &#34;Enter the color to use for indicator values that are relatively high over ColorNormLength bars.&#34;], DnColor( Red ) [DisplayName = &#34;DnColor&#34;, ToolTip = &#34;Down Color. Enter the color to use for indicator values that are relatively low over ColorNormLength bars.&#34;], GridForegroundColor( Black ) [DisplayName = &#34;GridForegroundColor&#34;, ToolTip = &#34;Enter the plot color to be used in RadarScreen. Select a color that will contrast with both UpColor and DnColor. &#34;]; variables: intrabarpersist InAChart( false ), Mom( 0 ), Accel( 0 ), ColorLevel( 0 ); once begin InAChart = GetAppInfo( aiApplicationType ) = cChart; end; Mom = Momentum( Price, Length ); Accel = Momentum( Mom, 1 ); { 1 bar acceleration } Plot1( Mom, !( &#34;Momentum&#34; ) ); Plot2( 0, !( &#34;ZeroLine&#34; ) ); { gradient coloring } if UseGradientColoring then begin ColorLevel = NormGradientColor( Mom, true, ColorNormLength, UpColor, DnColor ); if InAChart then { study is applied to a chart } begin SetPlotColor( 1, ColorLevel ); end else { study is applied to grid app } begin SetPlotColor( 1, GridForegroundColor ); SetPlotBGColor( 1, ColorLevel ); end; end; { alert criteria } if AlertEnabled then begin if Mom &gt; 0 and Accel &gt; 0 then Alert( !( &#34;Indicator positive and increasing&#34; ) ) else if Mom &lt; 0 and Accel &lt; 0 then Alert( !( &#34;Indicator negative and decreasing&#34; ) ); end; Copyright © TradeStation Technologies, Inc. All Rights Reserved TradeStation reserves the right to modify or overwrite this analysis technique with each release. 参考: トレステ/関数/Momentum 関数 - 現在の足のモメンタムを求める"},{url:"/p/req3doz/",title:"EasyLanguage で入力変数の表示名を設定する (DisplayName)",date:"2020-04-12T00:00:00Z",body:"EasyLanguage で入力変数の表示名を設定する (DisplayName) EasyLanguage で作成するインジケーターでは、使用者が値を変更可能な入力変数を定義することができます。 インジケーターの設定ダイアログでは、デフォルトでは入力変数の名前がそのまま表示されるのですが、次のように DisplayName を指定することで、任意の表示名に変更することができます。 inputs: Price(Close) [DisplayName = &#34;プロットする価格&#34;]; インジケーターの設定ダイアログで、次のように表示名が変わっていることを確認できます。"},{url:"/p/9py9hqz/",title:"トレステのチャート分析ウィンドウを素早く最大化する",date:"2020-04-10T00:00:00Z",body:"トレステのチャート分析ウィンドウを素早く最大化する トレステのチャート分析ウィンドウは、 チャート領域の任意の部分を 右ダブルクリック することで素早く最大化することができます。 元に戻すときも同様です。 もちろん、タイトルバーのダブルクリックや、右上の最大化ボタンでも同じことができますが、上記の方法が最も素早く操作できると思います。"},{url:"/p/3nzakv6/",title:"トレステ画面の操作",date:"2020-04-10T00:00:00Z",body:"トレステ画面の操作"},{url:"/p/q7gow5c/",title:"テクニカル指標: モメンタム / RoC (Rate of Change)",date:"2020-04-10T00:00:00Z",body:"テクニカル指標: モメンタム / RoC (Rate of Change) モメンタム / RoC の概要 概要 モメンタム（あるいは RoC: Rate of Change）はとてもシンプルな指標で、 n 日前の終値に対して、最新の終値が何％の値段になっているか を示します（つまり、騰落率です）。 n 日前と価格が同じであれば 100 ですし、50％ 上がっていれば 150 という値になります。 100％ のラインを 100 と表示するか、あるいは 0 や 1 と表示するかは、チャートソフトによって異なります。 シグナルライン モメンタムのラインと同時に、その移動平均であるシグナルラインを表示することもあります。 シグナルラインは次のように利用できます。 シグナルラインの傾きでトレンドの方向を探る モメンタムラインとシグナルラインの GC（ゴールデンクロス）と DC（デッドクロス）を売買タイミングとする モメンタム / RoC の計算式 文脈によって、モメンタムは「騰落率・変化率」ではなく、単純に n 本前の足との「価格差」を示す場合があります。 一方、RoC (Rate of Change) と呼ぶ場合は必ず「騰落率」を示しています。 ここでは、モメンタムと RoC を区別して考えることにします。 Price &hellip; 現在の価格 Price(n) &hellip; n 本前の価格 とすると、モメンタムと RoC は次のように計算できます。 モメンタム = Price - Price(n) RoC = Price / Price(n) * 100 表示例 SBI証券「株アプリ」 SBI証券「株アプリ」のモメンタムは、期間、シグナルともに 1～255 の範囲で設定できます。 このアプリではモメンタムは 100 を中心に上下しているので、価格差ではなく RoC（騰落率）を表していますね。 デフォルトの設定値 期間: 14 シグナル: 9 実装例 TradeStation/インジケーター/モメンタム (WA-Momentum)"},{url:"/p/iqxgsuj/",title:"投資ファンド選びのコツ",date:"2020-02-12T00:00:00Z",body:"投資ファンド選びのコツ 決算期間が短いものは避ける 複利運用効果を高めるには、 決算頻度が1年ごと であるものを選ぶとよいです。 毎月の決算や、3カ月ごとの決算で分配金が出ると、運用効率が下がってしまいます。 償還期間が短いものは避ける 長期運用を前提とするのであれば、途中で償還されてしまうファンドは避けなければいけません。 スクリーニングツールを使うのであれば、 償還までの期間が15年以上、20年以上 という形で絞り込めば、実質的に無期限のファンドを検索することができます。 純資産総額は 10 億円以上 設定から間もないファンドであれば、純資産総額が小さいものが多いですが、そのファンド自体が規模の大きいマザーファンドに投資するベビーファンドであれば（ファミリーファンド方式）、特に問題はありません。 ただし、アクティブファンドの場合は、ある程度の資産がないと分散投資を行うことができないため、少なくとも 10 億円以上あることが目安になります。 長期のシャープレシオが大きい シャープレシオは、そのファンドがどれだけ効率よく運用されているかを示す指標です。 リターンの大きさを、リスクの大きさで割って求められます。 つまり、変動幅が小さく、大きな利益を上げられているものはシャープレシオが大きくなります。 短期的なリターンの実績だけで投資を選ぶのは危険ですが、 10年間のシャープレシオが大きいもの は、長期投資に向いていると考えてもよさそうです。 リバランスの重要性ついて 1年に1度、ポートフォリオのリバランスを行うことで、自分が決めた資産割合に合うようにします。 価格が上がった資産を売り、安くなった資産を買う という行為は、ドル・コスト平均法に似た効果を生み出します。 『ウォール街のランダム・ウォーカー』 の著者、バートン・マルキール氏も、リバランスを行うことでパフォーマンスを上げられると主張しています。 ただし、「売って買う」という方法は、売却時の利益に税金がかかり、ETF には売却コストがかかるという欠点があります。 余裕資金があるのであれば、割安になった資産を多めに増す ことによってリバランス効果を出すという方法もあります。"},{url:"/p/3b9fg7n/",title:"銘柄選び",date:"2020-02-12T00:00:00Z",body:"銘柄選び"},{url:"/p/r2s9ps6/",title:"指標・指数メモ: VIX 指数（ボラティリティ・インデックス）",date:"2020-02-03T00:00:00Z",body:"指標・指数メモ: VIX 指数（ボラティリティ・インデックス） VIX 指数は Volatility Index の略で、「恐怖指数」とも呼ばれています。 市場の緊張感が高まると、VIX 指数は上昇します。 シカゴ・オプション取引所 (CBOE) が、S&amp;P500 のオプション取引の値動きをもとに算出しています。 自然災害が発生したり、政治的な論争が激しくなると、リスク回避の流れでオプション取引が活発になるため、VIX 指数も上昇します。 逆に、市場が落ち着いてくると VIX 指数も下がってきます。 VIX 指数は次のような値を取ります。 10～12 : 市場が落ち着いているとき 30前後 : 市場リスクが高まっているとき 50以上 : すごい金融危機（2018年のリーマンショックで 70 を超えた） VIX 指数は次のようなサイトで確認することができます。 参考: Vix-Index - CBOE 参考: VIX:IND（CBOE SPXﾎﾞﾗﾃｨﾘﾃｨ指数） - Bloomberg Markets"},{url:"/p/qh5jxis/",title:"指標・指数メモ: 東証マザーズ指数",date:"2020-02-03T00:00:00Z",body:"指標・指数メモ: 東証マザーズ指数 東証マザーズ指数は、マザーズ市場に上場する銘柄すべてを構成銘柄とする株価指数です。 時価総額加重平均 により求められます。 2003年9月からスタート。 2016年7月に、東証マザーズ指数先物が大阪取引所に上場。 マザーズ市場は、東京証券取引所が 1999年11月 に開設した新興企業向けの株式市場です。"},{url:"/p/p95xkfb/",title:"経済指標・指数に関するメモ",date:"2020-02-03T00:00:00Z",body:"経済指標・指数に関するメモ"},{url:"/p/6igqtr8/",title:"デリバティブの分類メモ",date:"2020-01-27T00:00:00Z",body:"デリバティブの分類メモ 原資産からの派生商品（デリバティブ）は、大きく分けると次の 3 つに分類できます。 スワップ （金融機関同士の相対取引） 金利スワップ（店頭デリバティブ取引の 70% を占める） クレジット・デフォルト・スワップ (CDS) バリアンス・スワップ フューチャー （先物） 商品先物 金融先物 通貨先物（為替先物） 金利先物 株価指数先物 オプション"},{url:"/p/spbgdm2/",title:"TradeStation や EasyLanguage で使われる用語のメモ",date:"2020-01-24T00:00:00Z",body:"TradeStation や EasyLanguage で使われる用語のメモ トレードステーションの解説や、そのプログラミング言語である EasyLanguage の解説使われる用語の説明です。 投資の世界では「テクニカル指標」という言葉はよく使うけど、「分析テクニック」という表現は独特ですね。 銘柄 ＝ シンボル ＝ Symbol 複数のシンボルを集めたものを「シンボルリスト 」と呼びます。 足種 ＝ インターバル ＝ Interval 取引情報 &hellip; 下記をまとめたもの 価格 出来高 時間 分析テクニック ＝ テクニカル指標 = 分析情報 「インジケーター」「ショウミー」「ペイントバー」「アクティビティバー」「プロバビリティマップ」などの総称。ストキャスティクスや移動平均など。 分析テクニックを集めたものを「分析グループ 」と呼びます。自分の好きな分析テクニックをカスタム分析グループとして保存しておけば、簡単にその分析画面を復元することができます。"},{url:"/p/5w3h4x3/",title:"初心者から上級者になるためのステップ",date:"2020-01-22T00:00:00Z",body:"初心者から上級者になるためのステップ 初級から中級へのステップ 上位10％の中級者の仲間入りするために、どのような状態になればよいかです。 負けたときに他人や相場のせいにせず、自分の失敗だと認め、謙虚に受け止めて改善に繋げている。 初心者への下手な助言が逆に恨みのもとになることを知っている。 大きなリスクをとって資産を増やす手法の危険性を認識している。 1 つの売買ごとに一喜一憂せず、トータルでの収支を考えている。 他人に聞くのではなく、自分で調べている。 投資本は 100 冊以上読み、その知識は鵜呑みにせずに自分で試して検証している。 「手法」だけでなく、「資金管理」と「心理」についても学んでいる。 損切りを 100 回経験し、よい負け方を身につけている。 仕掛けると同時に手仕舞いのことを考えている。 5 年以上の経験の中で、常に何らかの気付きを得ている（初心者は学ばない）。 中級から上級へのステップ 上位1％の上級者の仲間入りをするために、どのような状態になればよいかです。 相場に対して常に謙虚である。 投資本は 1000 冊以上は読んでいる。 長期的に勝ち続けるための「心理」「資金管理」「手法」を経験的に身に着け、実践している。 短期間に大儲けするような人は上級者ではないことを知っている。 情報のためのコストはケチらない。 税金の仕組みに関して熟知している。 参考リンク 読書メモ『これからパンローリングの投資本を読む人へ』塩見勉"},{url:"/p/vdnp4g3/",title:"投資家としての学び方・考え方",date:"2020-01-22T00:00:00Z",body:"投資家としての学び方・考え方 一時的な資産をいくら増やしても、何らかの失敗でほとんどの資産を失ってしまうことがあります。 金銭的な安心感というのは、決して今持っている資産の量からは得られません。 真の投資家は、日々学び続けることで、資産の増やし方やお金の有意義な使い方を身につけ、それが本当の豊かさにつながると考えます。 人生の喜びは自分の成長、学ぶことにある。 × 宝くじ、株を運良く当ててお金持ちになる。 ◯ 勉強して知識、経験を増やす → 結果としてお金持ちになる。 豊かさへの正しい道が「学び」にあるとするならば、そこに近道はありません。 大切なのは、常に 学ぶ環境に身を置くこと と、儲けている人の「手法」だけではなく 「考え方」を学ぶこと です。"},{url:"/p/kudwbxr/",title:"指標・指数メモ: シカゴ IMM 通貨先物ポジション",date:"2020-01-21T00:00:00Z",body:"指標・指数メモ: シカゴ IMM 通貨先物ポジション シカゴ・マーカンタイル取引所 (CMM) における、 投機的な通貨取引のポジション推移 を示します。CMM (Chicago Mercantile Exchange) は、アメリカの有名な先物取引市場です。 各通貨において、海外勢の投機的なポジションが、 ロング（買い）とショート（売り）のどちらに傾いているか を調べられます。 その週の 火曜日のポジションを金曜日に公表 するため、リアルタイムな情報ではないことに注意してください。CFTC（全米先物取引委員会: Commodity Futures Trading Commision）が毎週火曜日の取引終了後に各取引所からデータを収集・集計し、金曜日の取引終了後（ 日本時間では土曜日の 5:30AM ）に公表しています。 参考リンク CFTC Commitments of Traders Report - CME (Futures Only) シカゴIMM通貨先物ポジションの推移｜経済指標/金利 - ザイFX！"},{url:"/p/z7fu6ch/",title:"指標・指数メモ: ドルインデックス (U.S. Dollar Index)",date:"2020-01-21T00:00:00Z",body:"指標・指数メモ: ドルインデックス (U.S. Dollar Index) 米ドルの総合的な価値や方向性を知るための指数です。 複数の主要通貨に対する米ドルの為替レートを指数化しています。 ユーロ、円、ポンド、カナダドル、スウェーデンクローネ、スイスフラン 算出する機関によって、重み付けが違い微妙に異なる値になることに注意してください。 参考リンク Wikipedia: U.S. Dollar Index US Dollar Index Weekly Commodity Futures Price Chart : ICE Futures"},{url:"/p/h5ui6xj/",title:"グリーンシート銘柄、フェニックス銘柄とは（グリーンシート制度）",date:"2020-01-20T00:00:00Z",body:"グリーンシート銘柄、フェニックス銘柄とは（グリーンシート制度） グリーンシート制度は、非上場の株式を売買するために、日本証券業協会が1997年7月から2018年3月まで設けていた制度です。 これから成長する芽という意味で、グリーンという名前が付けられていました。 金商法改正などを経て株式投資型クラウドファンディングの制度が整備され、グリーンシート制度は廃止されることになりました。 グリーンシート銘柄等とは、下記の 2 種類を指し、特に、上場廃止になった銘柄を取引できるようにしたものは、不死鳥のごとく蘇るという意味でフェニックス銘柄と呼ばれていました。 グリーンシート銘柄 証券の取引会員等が、 投資勧誘を行う ものとして協会が指定したものです。 指定された証券会社がマーケットメーカーとなり、価格を提示します。 フェニックス銘柄 金融商品取引所を 上場廃止 となった銘柄で、既存株主が換金できるようにしたものです。フェニックス銘柄は店頭取引有価証券の一種です。 参考: グリーンシート | 日本証券業協会"},{url:"/p/5vds8n2/",title:"EasyLanguage のストラテジーサンプル「移動平均のGC/DCによる売買」",date:"2020-01-20T00:00:00Z",body:"EasyLanguage のストラテジーサンプル「移動平均のGC/DCによる売買」 2 本の移動平均線がクロスするタイミングで売買を行うストラテジです。 TradeStation には標準で付属しているストラテジとして、「単純移動平均2本クロス買いエントリー (ストラテジー)」がありますが、ここでは自力で実装する場合のサンプルとして示します。 ストラテジ概要 エントリタイミング 買いエントリ (Buy) の条件 短期移動平均線が長期移動平均線をゴールデンクロス (GC) 売りエントリ (SellShort) の条件 短期移動平均線が長期移動平均線をデッドクロス (DC) パラメータ fastLen: 短期移動平均の足数 slowLen: 長期移動平均の足数 ソースコード input: fastLen(5), slowLen(25); var: fastAvg(0), slowAvg(0); fastAvg = AverageFC(Close, fastLen); slowAvg = AverageFC(Close, slowLen); if fastAvg crosses over slowAvg then begin Buy next bar at market; end; if fastAvg crosses under slowAvg then begin SellShort next bar at market; end;"},{url:"/p/ny6qh6a/",title:"トレード戦略: ラリー・ウィリアムズのウップス作戦 (OOPS)",date:"2020-01-16T00:00:00Z",body:"トレード戦略: ラリー・ウィリアムズのウップス作戦 (OOPS) OOPS 戦略の概要 ラリー・ウィリアムズ の OOPS はデイトレードの戦略のひとつで、下記のようなルールでエントリーを行います。 寄り付きの後、前日の流れから反転するところを狙います。 前日の安値よりも安い価格で始まり、ザラ場で前日の安値を上抜いたら買い。 前日の高値よりも高い価格で始まり、ザラ場で前日の高値を下回ったら売り。 ウップス作戦は、押し目買いの入りやすい、強い上昇トレンドがあるときにうまくいきやすいと言われています。 OOPS 戦略の理屈 ウップス作戦は、株主が狼狽売りしたところを拾っていく作戦で、ウィリアムズ氏が自信を持って勧めている戦略のひとつです。 次のような理屈で買いエントリーします。 前日の安値よりを下回る価格で始まると、「下放れしたのではないか」という不安により皆が投げ売りする 投げ売りを吸収して前日の安値まで戻すと、「少し安くなれば拾ってくる人がいる」ということを確認できる ということはこの銘柄は需要があるので、皆が買ってくるはずだ"},{url:"/p/xa9xma3/",title:"投資家DB「ラリー・ウィリアムズ」",date:"2020-01-16T00:00:00Z",body:"投資家DB「ラリー・ウィリアムズ」 概要 米国の著名な短期トレーダー 1987 年のロビンスカップで 11376%（113.76倍）の驚異的リターンを出し優勝 ウップス (OOPS) 作戦 と呼ばれる短期売買の作戦が有名 「前日の安値よりも安く寄り付いた後、前日の安値水準まで戻して来たら買い」 ウィリアムズ％R という指標が有名 ((過去n日間の最高値－当日の終値)／(過去n日間の最高値－過去n日間の最安値))＊100 ラリー・ウィリアムズの著書 『ラリー・ウィリアムズの短期売買法【改定第2版】 (ウィザードブック)』 『トレーダーのメンタルエッジ (ウィザードブックシリーズ) 』 『この50年間で学んだ5つの事実 (DVD)』 『ラリー・ウィリアムズの株式必勝法~正しい時期に正しい株を買う (ウィザードブックシリーズ)』"},{url:"/p/yaeh8wr/",title:"テクニカル指標: Elder Impulse System",date:"2020-01-14T00:00:00Z",body:"テクニカル指標: Elder Impulse System Elder Impulse System の概要 トレンドの強さを分かりやすく表示してくれる 『投資苑』 の著者であるアレキサンダー・エルダーが開発 13 期間の EMA でトレンドの判断、MACD ヒストグラムでモメンタム（トレンドの強さ）を判断する 米国ではメジャーなインジケーター Elder Impulse System のトレンド判断方法 緑色のバー（ブル相場: 強気トレンド） EMA(13) ＞ 前区間のEMA(13) かつ MACDヒストグラム ＞ 前区間のMACDヒストグラム 「買いエントリー」してもよい 赤色のバー（ベア相場: 弱気トレンド） EMA(13) ＜ 前区間のEMA(13) かつ MACDヒストグラム ＜ 前区間のMACDヒストグラム 「売りエントリー」してもよい 青色のバー（もみ合い） 上記のいずれでもない場合（EMA と MACD の方向が逆） 「様子見」 例えば、緑色のバーになるときに「買いエントリー」し、緑色以外のバーに変わったときに「手仕舞い」します。 参考 Elder Impulse System - MetaTrader 5のためのインディケーター - MQL5"},{url:"/p/hj7nm4h/",title:"テクニカル指標: MACD (Moving Average Convergence / Divergence)",date:"2020-01-14T00:00:00Z",body:"テクニカル指標: MACD (Moving Average Convergence / Divergence) MACD の概要 基本情報 英語名MACD: Moving Average Convergence / Divergence 日本語名移動平均収束拡散法 考案者ジェラルド・アペル (Gerald Appel) 考案年1970年代 ラインは 2 つで、EMA（指数平滑移動平均）を使う MACD ライン : 短期と長期の EMA の乖離（12日間EMA - 26日間EMA） シグナルライン : MACD ラインの移動平均（MACDの9日間EMA） 移動平均線をベースにした順張り（トレンド）系のテクニカル指標 移動平均線で生じるダマシやサインの遅れをある程度解決できる トレンド追いかけつつ、転換点を早めに見つけられる よう工夫している デイトレードで威力を発揮 しやすい MACD の利用例 シグナル／売買サイン MACD ラインがシグナルラインを上に突き抜けると上昇トレンド、下に突き抜けると下落トレンド 2 つのラインが同じ方向を向いていればシグナルが強い 使用上のコツ ボラティリティ（株価の振幅）が大きく、トレンドの発生しやすい銘柄 に使うと効果を発揮しやすい サインが出た後、2、3 回に分けて仕掛け・手仕舞いを行うとうまくいく傾向がある カスタマイズ シグナルを作るときの移動平均の期間を調整する（ダマシの軽減） MACD とシグナルの変動幅が小さいときはトレードを控える 売買ポイント MACD がシグナル（移動平均）を上抜けたら「買い」 MACD がシグナル（移動平均）を下抜けたら「売り」 MACD のシグナル（移動平均）が 0 クロスしたときに、MACD のラインがかなり上（下）にある場合、そのままトレンドが続く傾向があります。 プラス圏で MACD のシグナルに対するデッドクロスが発生したときは、利確のタイミングと捉えるとよいです。 MACD の計算方法 MACD = 短期の平滑移動平均 - 長期の平滑移動平均 平滑移動平均 = 前日EMA + α(終値 - 前日EMA) α = 2 / (期間日数 + 1) 一般的なパラメーター MACD ライン用の短期 EMA 期間 = 12 MACD ライン用の長期 EMA 期間 = 26 シグナルラインの移動平均期間 = 9"},{url:"/p/w4ps3zv/",title:"トレード関連メモ",date:"2020-01-14T00:00:00Z",body:"トレード関連メモ"},{url:"/p/j3kh968/",title:"トレード戦略（売買アルゴリズムのヒント）",date:"2020-01-14T00:00:00Z",body:"トレード戦略（売買アルゴリズムのヒント） トレード戦略の雑多メモ EA などのアルゴリズムを停止させるタイミングは、想定していた 最大ドローダウン を更新してしまったとき。 寄り付きでギャップアップしているものは避ける。 ５分足で見たとき、山や谷は１日１回程度だけあると考える。 デイトレード トレード対象にする銘柄 買いで入るときは 日足で上昇トレンド の銘柄を狙う（5日、25日、75日の移動平均がすべて右上がりのもの） 新高値 を付けた銘柄を狙う 東証1部で時価総額が大きく、流動性が高い 銘柄を狙う（流動性が低いと、ストップ安気配で売れなくなるというリスクがある） 朝9時半くらいに出来高が急増 し、株価も上がっているものは買い。 出来高乖離率 などの指標でスクリーニングすると、過去 5 日の出来高平均との乖離を調べられる。ただし、寄り付きと同時に乖離率が急激に上昇するものは、裏で玉移動が行われているだけの可能性がある。そのような場合は、株価はあまり動かなくなる。 連続ストップ安の銘柄の反発 を狙うのであれば、全株一致のルールを利用 する。板情報を見て、成行の売り（大量）が指値買い（大量）の合計と一致したときに約定が一斉に行われる。この合計になるところに買いをいれておくと、その後、数秒～数分間跳ね上がることがある。 利確・損切りの戦略 トレーリングストップによる利確・損切り 指値をせずに持ち続け、 5分足移動足平均を下回ったら 売り。 このようなトレーリングストップを提供する証券会社は少ないので、トレステの EasyLanguage などで自分で実装する。 5分足の方が1分足よりも動きを読みやすい、という人もいる。 過程 ROE が 8% 以上ある銘柄は、多少 PBR が高くても投資家に買われるので株価が上がりやすい。"},{url:"/p/yhr2aiq/",title:"トレステの設定: シンボルリンクとインターバルリンクでウィンドウ間の表示を連携させる",date:"2020-01-12T00:00:00Z",body:"トレステの設定: シンボルリンクとインターバルリンクでウィンドウ間の表示を連携させる ウィンドウリンクとは TradeStation の「ウィンドウリンク」の仕組みを使用すると、ウィンドウ間（トレーディングアプリ間）で選択している銘柄や、足のインターバル（分足や時間足）の設定を同期させることができます。 ウィンドウリンクの機能には、次の 2 種類があります。 シンボルリンク &hellip; 銘柄をリンクして切り替える インターバルリンク（足種リンク） &hellip; 足のインターバルをリンクして切り替える シンボルリンク シンボルリンクを有効にするには、各ウィンドウのタイトルバー右上に表示されている「S」マークをクリックし、ハイライトされた状態にします。 ここでは、「レーダースクリーン」と「チャート分析」のウィンドウのシンボルリンクを有効にしています。 レーダースクリーンの銘柄コードをクリックすると、チャート分析のウィンドウで表示している銘柄が連動して切り替わるようになります。 インターバルリンク（足種リンク） インターバルリンクを有効にするには、各ウィンドウのタイトルバー右上に表示されている「I」マークをクリックし、ハイライトされた状態にします（シンボルリンクのボタンの右にあります）。 インターバルリンクを複数のウィンドウで有効にしておくと、5分足や、1時間足などのインターバル設定を同期させることができます。 リンクカラーとグローバル設定 シンボルリンクやインターバルリンクのボタンの隅にあるプルダウンマークを押すと、下記のようにリンクの種類を選択することができます。 ここでは、リンクの色を設定することができ、等しい色を選択したウィンドウ同士でリンク機能が働くようになります。 また、ここで、グローバルリンクと記述されたものを選択すると、ワークスペースをまたがったウィンドウ間でもリンク機能が働くようになります（デフォルトはローカルリンクになっています）。 ローカルリンクとグローバルリンクはボタンの形が若干違うので、タイトルバーを見るだけで現在どちらが設定されているかを判別できます。 上のボタンがローカルリンク時の形状で、下のボタンがグローバルリンク時の形状です。"},{url:"/p/tdpybkv/",title:"トレステの設定",date:"2020-01-12T00:00:00Z",body:"トレステの設定"},{url:"/p/zhry9hq/",title:"トレステの設定: レーダースクリーンのフォントサイズを変更する",date:"2020-01-12T00:00:00Z",body:"トレステの設定: レーダースクリーンのフォントサイズを変更する TradeStation のレーダースクリーンのフォント設定は、下記の場所から変更することができます。 レーダースクリーンのウィンドウを選択した状態にする メニューから 設定 → ページ と選択する 「ページの設定」ダイアログから フォント タブを開く フォントサイズを小さめに設定しておくと、レーダースクリーンの一覧性が増します。"},{url:"/p/7nv4biq/",title:"MetaTrader のプログラムディレクトリの構成",date:"2020-01-07T00:00:00Z",body:"MetaTrader のプログラムディレクトリの構成 MetaTrader で作成した EA やインジケーターなどのプログラムファイルは、以下のようなディレクトリに保存されます。 C:\\Users\\ユーザー名\\AppData\\Roaming\\MetaQuotes\\Terminal\\ABCDE12345ABCDE12345ABCDE12345AB\\MQL4 このディレクトリは見つけにくいところにありますが、MT4 のメニューから次のように一撃で開くことができます。 ファイル → データフォルダを開く このディレクトリには、次のようなディレクトリが格納されています。 ディレクトリ 説明 Experts EA（エキスパートアドバイザー）のソースファイル (`.mq4 Files プログラムから参照するファイルはここに保存されます。 Images プログラムから参照する画像ファイル (.bmp) を配置します。 Include 各プログラムからインクルードするヘッダファイル (.mqh) を保存します。 Indicators カスタム指標（インジケーター）のソースファイル (`.mq4 Libraries ライブラリーのソースファイル (`.mq4 Logs プログラム実行時のログ (YYYYMMDD.log) が保存されます。 Scripts スクリプトのソースファイル (`.mq4 自分で作成したプログラムファイル（.mq4|5 や .mqh) は、通常は上記のハイライトされたディレクトリに保存することになります。 これらのディレクトリは定期的にバックアップしておくとよいでしょう（.ex4 や .ex5 はコンパイルすれば生成できるので、バックアップの必要はありません）。"},{url:"/p/zr8o4i4/",title:"MetaTrader の環境",date:"2020-01-07T00:00:00Z",body:"MetaTrader の環境"},{url:"/p/dycoybm/",title:"投資家DB「ワイルダー」",date:"2020-01-01T00:00:00Z",body:"投資家DB「ワイルダー」 ワイルダー氏について J. Welles Wilder. Jr. 機械工学を学び、機械の自動化の設計に携わった 不動産業で成功をおさめ、先物市場に参入 1974 年に先物市場分析の Trend Research 社を設立 様々な数学的解析手法を考案 RSI ディレクショナル・ムーブメント ボラティリティ・システム パラボリック ワイルダー氏 重視していることは？ ファンダメンタルズは時間によって変化しやすいので、より普遍的なテクニカル分析しか用いない 1つの手法ではなくコンビネーションが重要 ボラティリティも重要 トレンドを把握するが重要 タイムフレーム（時間枠）も決めないといけない エリオット波動やフィボナッチ数列は不確実なので使わない 現物よりも先物に興味あり RSI で 14 日を使うのはなぜ？ 経験上、相場のサイクルは 7 日の倍数で、28 日であることが多い。 RSI は半周期で見るのが適しているので、固定の 14 日とした。 参考: RSI（相対力指数）の計算方法"},{url:"/p/mpnfuug/",title:"ビジネス",date:"2019-09-28T00:00:00Z",body:"ビジネス"},{url:"/p/v65gtma/",title:"法人にかかるお金",date:"2019-09-28T00:00:00Z",body:"法人にかかるお金 法人税がゼロであっても、下記は毎年かかってきます。 法人住民税の均等割分 資本金 1,000 万円以下、従業員 50 人以下の場合、7 万円。 税理士費用 帳簿、源泉徴収、決算書作成などの依頼で約 20 万円。"},{url:"/p/mh3huem/",title:"税金メモ: 個人事業主 vs ひとり法人",date:"2019-09-28T00:00:00Z",body:"税金メモ: 個人事業主 vs ひとり法人 独立して事業を始める場合、個人事業主と法人化のどちらがよいのでしょうか。 両者の違いをメモメモ φ(･･ 個人事業主とひとり法人のメリット・デメリット 個人事業主 ひとり法人 信用 社会的な信用が低く、融資を受けにくい。 社会的な信用が高く、融資を受けやすい。 費用 設立費用がかからない（開業届を税務署に提出すれば OK）。 設立費用がかかる（定款作成認証、登記）。 経理 経理や税務の処理が楽。 青色申告者は複式簿記が必要。 白色なら単式帳簿も可。 経理や税務処理が複雑。 複式簿記。 税理士などへの依頼がほぼ必須。 税金 所得税として扱う。 累進課税で所得が増えるごとに税率が高くなる。 法人税として扱う。 所得が増えても税率は上がらない。 保険 社会保険に加入できない。 前職の任意継続か、国民健康保険で対応。 会社で社会保険に加入できる。 社会保険料の半分は会社の損金にできる。 税金の違い 個人事業主の税金 所得税 1,800 万円超え &hellip; 40% 4,000 万円超え &hellip; 45% 住民税 個人事業税（3〜5%） 事業所得 290 万円以下であれば払わなくてよい。 個人事業税は経費として扱える。 消費税 事業年度の売上が 1,000 万円以上の場合、取引に応じた消費税が課せられる。 ひとり法人の税金 自分用の法人を作って、そこから役員報酬という形で給料として払う場合、サラリーマンの必要経費である給与所得控除が受けられます。 必要経費 ＝ 給与 x 10% &#43; 120万円 役員報酬は法人側では損金として計上され、法人の利益を減らすことができます。 資本金 1,000 万円であれば、所得が 800 万円を超える場合、実効税率（法人税＋住民税＋事業税）は 35% 程度になります。 お得なワザ 個人事業で開業して 2 年間の消費税の免税を受けてから、会社を設立（法人化）して追加で 2 年間の免税を受けるとお得。"},{url:"/p/nfpz9mt/",title:"起業に関して",date:"2019-09-28T00:00:00Z",body:"起業に関して"},{url:"/p/9ju3pvu/",title:"テクニカル指標: DMI（方向性指数）",date:"2019-08-09T00:00:00Z",body:"テクニカル指標: DMI（方向性指数） DMI の概要 基本情報 英語名DMI: Directional Movement Index 日本語名方向性指数 考案者J・W・ワイルダー 考案年─ +DI が価格の上昇力を示す -DI が価格の下落力を示す ADX がトレンドの強さを示す DMI の買いシグナル／売りシグナル 買い: +DI が -DI を上抜け 売り: +DI が -DI を下抜け +DI と -DI のクロスはトレンドの転換を示しているため、+DI が -DI を上抜けたときが買いのタイミング、+DI が -DI を割り込んだときが売りのタイミングです。 DMI による上昇トレンド／下降トレンドの判断 上昇トレンド: +DI ＞ -DI 下降トレンド: +DI ＜ -DI DMI によるトレンドの強さの判断 ADX が上昇しているときはトレンドが強く、ADX が低く推移しているときはトレンドが弱く、持ち合い相場であることを示します。 つまり、ADX を見ることで、トレンド相場なのか、レンジ相場なのかの見極め をしたトレードを行うことができます。 関連指標 ATR: Average True Range 同じく、J・W・ワイルダー氏の考案。TR (True Range) の概念を使うことが DMI と ATR で共通しています。"},{url:"/p/fb332ba/",title:"読書メモ『金持ち父さんのアンフェア・アドバンテージ』ロバート・キヨサキ",date:"2019-06-26T00:00:00Z",body:"読書メモ『金持ち父さんのアンフェア・アドバンテージ』ロバート・キヨサキ 金持ち父さんのアンフェア・アドバンテージ ロバート・キヨサキ 筑摩書房 金持ち父さん貧乏父さんのロバート・キヨサキ氏が、裕福な人たちが何をアドバンテージとしているかについて述べた書籍です。 「お金は借金である」という言葉に、彼の考え方が凝縮されている気がします。 1971年、ニクソン大統領がアメリカドルの金本位制をやめたとき、お金のルールが変わった。1971年、アメリカドルは「お金」ではなくなり、借金の道具に変わった。この年以降、お金を貯める人は敗者となった。 著者はお金持ちになるためのアドバンテージを下記のようにまとめ、それぞれ何が真のアドバンテージとなるのかについて解説しています。 知識のアンフェア・アドバンテージ 税金のアンフェア・アドバンテージ 借金のアンフェア・アドバンテージ リスクのアンフェア・アドバンテージ 補償のアンフェア・アドバンテージ キャッシュフロー・クワドラント キヨサキ氏の書籍でよく出てくるのが、下記のようなキャッシュフロー・クワドラントの図です。 E (Employee) 従業員 B (Big business) 従業員500人以上のビッグビジネス S (Small business/Self-employed) スモールビジネス/自営業者 I (Investor) 投資家 従来の学校教育しか受けてない人たちは、左側の E（従業員）になります。 いいとこその下の S（スモールビジネス）に変化するだけです。 一方、お金持ちになる人たちは別のことを学んでおり、右側の B（ビッグビジネス）、I（インベスター）に所属しています。 E と S のクワドラントに所属している人たちは、多くの税金を払います。 一方で、B と I のクワドラントに所属している人たちは、政府の望んでいることをやっているので、税の優遇措置を得ています。 キヨサキ氏は、右側の B、I クワドラントに所属することが裕福になるための条件であり、そのために、例えば下記を学ぶことがアンフェア・アドバンテージだと述べています。 投資のための借金 セールスのスキル 税金を減らす方法 キヨサキ氏は、所得を下記の 3 つに分類しています。 勤労所得（普通の所得） ポートフォリオ所得（キャピタルゲインなど。ギャンブル性が高い） 不労所得（キャッシュフロー。これを増やすべき） E、S クワドラントの人たちは一つ目の勤労所得しか得ておらず、その他の所得を増やす方法を学ばなければいけません。 何に投資すればよいか？ 平均的になるな。平均的な投資家は頭のいい投資家を金持ちにするだけだ。 投資する対象が何かは重要ではない。 大事なのは自分に投資することだ。 お金に関する知識がなければ、何に投資しようとおそらく損をする。 株やデリバティブ、不動産、コモディティなど、何に投資するのかが問題なのではないと言います。 これはよく考えれば当然ですね。 どの分野でも設けている人はいます。 学校では一番たくさん間違いを犯す学生は劣等生のレッテルを貼られる。 現実の世界では、一番多く間違いを犯し、そこから学ぶ人たちはほかの人たちよりも頭がよくなる。 知識こそが「真のお金」だ。 知識のアンフェアアドバンテージ サブプライムローン（信用度の低い人向けのローン）に AAA の信用格付けを与え、売りさばいていたのは、バフェットが率いる信用格付け会社ムーディーズだった。 キヨサキ氏はサブプライムローン問題で責められるべきはウォーレン・バフェットだと何度も主張してます。 確かにドキュメンタリーなどを見ると、ゴールドマンサックス、JPモルガンばかりがフォーカスされて、バフェットの名前はあまり出てきません。 何らかの圧力があるのかなと思ってしまいますね。 お金を儲ける前に、それを守る方法を学ぶ必要がある。 実際にビジネスを築き、投資をしながら学ぶことの利点は、学んだことをすぐ応用できることだ。 たいていの投資は悪い投資だ。だから、数少ないすばらしい取引を見つけるためには時間を投資する必要がある。 一つの物件を買う前に百の物件を見ることだ。 特に男性は、投資市場に飛び込み、一旗挙げて大儲けしようとする。たいていの場合、それで大損する。 経験から学び、経験を生かせるようになるまでに少なくとも 5 年か 10 年かけよう。 これから先、必ず間違いは犯す。だから小さい間違いを犯すようにして、そこから学び、大きな夢を持ち続ける。 あせらずコツコツ学ぼう。間違いを犯しながらも、学ぶことをやめないこと。 ファイナンシャル教育を身につけた投資家になるには、キャッシュフローとキャピタルゲインの違いを知っていなければいけない。90％のアマチュア投資家はキャピタルゲインを目的に投資している。彼らは本当の意味での投資家ではない。値上がり益を狙うトレーダーだ。 モノポリーのゲームで大事なのはキャッシュフローだ。 キャッシュフローを目的に投資するということは、お金が流れ込んで来なければいけないことを意味する。 賃貸不動産の価値を決めるカギは、その地域に仕事があるかどうかだ。 ギャンブル的な値上がり益を狙うのではなく、安定的なキャッシュフローが何よりも大切だと主張しています。 キャッシュフロー・クワドラントにもキャッシュフローという言葉が使われていますね。 キャッシュフローによる収入の例 不動産の家賃収入 株式の配当 債券の利子 本やゲームの印税やライセンス使用料 学校で行われているファイナンシャル教育は、自分のお金を政府や一般の銀行、投資銀行などに送ることを教える。真のファイナンシャル教育は、他人から自分のところにお金を送らせる方法を教える。 私たちは景気が良かろうが悪かろうが、人々がお金を送る必要のあるものを対象に投資をしている。 大事なこととは、入ってくるキャッシュフローをどんどん増やし、出て行くキャッシュフローをどんどん減らす方法をあなたが学びたいと思っているかどうかだ。 経済的自由とは、毎月、投資からプラスのキャッシュフローがあることを意味する。 それにより、「人生で本当にやりたいことは何か？」と問うぜいたくを許されるようになる。それが真の自由だ。お金を持っていることが自由を意味するわけではない。 税金のアンフェア・アドバンテージ E (Employee) は他人のために働く S (Small business) は自分のために働く B (Big business) は他人を自分のために働かせる I (Investor) はお金を自分のために働かせる E と S はお金のために働く、高い税率で税金を払っているのはそのためだ。 B と I は資産を作り出すか、獲得するために働く。税金が少ないのはそのためだ。 3 種類の収入は、それぞれ税金が異なる。 勤労所得: 税金が1番高い。 ポートフォリオ所得: 税金が2番目に高い。 不労所得: 税金が安い。ゼロの場合もある。これを増やすべき。 勤労所得しか知らない人は、その所得ばかりを増やそうとする。 トレーダーは、ポートフォリオ所得（キャピタルゲイン）ばかりを増やそうとする。 普通は株式を買うのを避ける。その理由の一つは、不動産のほうがはるかに簡単だからだ。株式より不動産のほうが自分でコントロールできる部分が大きいからだ。 純資産には対して意味はない。キムと私は自分たちの純資産がどれくらいか知らない。でも、毎月のキャッシュフローがどれくらいかは知っている。 税の優遇措置があるところに投資すべき。 政府があなたにお金をどこに投資してほしいか本当に知りたいと思ったら、税法を見てみるといい。そうすれば、政府があなたにお金をつぎ込んでほしいと思っているありとあらゆるものに関して税的優遇措置があることがわかる。 1971年以降、世界経済は人々がお金を借りてくれなければ成長できない仕組みになっている。 金融の世界はお金を借りる人が大好きで、お金を貯める人には罰を与えている。 政府がお金の供給量を増やしたいと思ったら、部分準備比率が引き上げられる。 たとえば、2004年、景気にテコ入れするために FRB が五大銀行に許可した部分準備比率は 40 だった。つまり預金 1 ドルに対して 40 ドルの貸付を許した。 借金のアンフェア・アドバンテージ なぜ不動産投資に関する講座をとったほうがいいのか。ドルはもうお金じゃない。今やそれは借金だ。金持ちになりたかったら、借金を使って財産を増やす方法を学ぶ必要がある。 借金は命取りになりかねないから、小さく始めることをお勧めする。 小さい物件をいくつか買って、借金の管理と不動産の管理の方法を学ぼう。 借金をするのは簡単だ。難しいのは借金の管理だ。 借金をうまく管理して利益を得ることの重要性を説いています。 借金で困っている人たちは、借金で負債を買っている。金持ちは借金で資産を買う。 ある物（家、ボート、ビジネス、石油、金など）が資産か負債かを決めるのは「それが何か」ではない。キャッシュフローの流れの方向がそれを決める。 ボートをただ持っているだけなら大きな負債だが、チャータービジネスに使えば資産になる。 I クワドラントの秘密は OPM（他人のお金）にある。真の投資家になるためには、投資のために OPM（銀行、年金ファンド、個人投資家などのお金）を使う方法を学ぶ必要がある。 石油に投資するときは、石油会社と政府のお金を使って、自分のための油井を買う。株式に投資するときは、オプションと市場の勢いを利用して、自分のための資産を買う。 今やお金は借金だ。だから、お金を貯める人が負ける。 リスクのアンフェア・アドバンテージ 投資信託を中心とした 401(k) のようなシステムに関しては、大きな問題点が少なくとも4つある。 このシステムが採用している「分散投資」という方法。株式市場の暴落や停滞から投資家を守ることはできない。 一貫性の欠如。過去の業績は将来の業績を保証するものではない。 手数料。 市場を出し抜けるか。 自分はポートフォリオを分散させていると信じているたいていの人は、本当には分散投資していない。ただ一種類、紙の資産の中で分散投資しているだけであることが多い。 私は石油にも投資しているが、石油会社の株式に投資しているわけではない。 不動産に投資しているが、リートに投資しているわけではない。 私はキャッシュフローと無限大のリターン、税の優遇措置が大好きだ。普通は紙の資産に手を出さない。 連邦準備銀行や中央銀行がお金を印刷し続けている今は、私はお金ではなく金や銀を貯める。銀行がお金の印刷をやめたら、金や銀を売って、またお金に焦点を合わせるだろう。 私は種類の異なる資産を所有することで分散投資する。紙の資産（株式、債券、投資信託、ETFなど）の中で種類の違うものに分散することはしない。 4つの資産 異なる種類の資産について深く知れば知るほど、コントロールする力が増え、リスクが減る。 資産その1: ビジネス &hellip; もっとも高度なファイナンシャル教育が必要。多くのビジネスが失敗する理由は、適切なセールスのスキルが起業家に欠けているからだ。セールス＝収入だ。 資産その2: 不動産 &hellip; 2番目に高度なファイナンシャル教育が必要。不動産がすばらしいのは借金と税金が投資家を金持ちにしてくれるからだ。 資産その3: 紙の資産 &hellip; もっとも簡単だが、もっともリスクが高い。私が紙の資産に投資することがまれなのは、自分たちに与えられるコントロール力が最も少ないからだ。 資産その4: コモディティ &hellip; 金や銀を買うには最低限のファイナンシャル教育があればいい。 アンディ・タナーの解説 アンディ・タナーはオプションを紙の資産のヘッジに使うことの重要性を述べています。 ヘッジを利用するのに超大金持ちである必要はない。私は多くのオプションを買うが、そのために使ったお金は全部なくなることを覚悟して買っている。私にとってオプションを買うことは、賃貸物件のための保険を買うのと変わりない。賃貸物件の場合、家賃が保険代を払ってくれる。オプションの場合も、オプションが保険として守ってくれている紙の資産からの収入がその代金を払ってくれる。 × アマチュア &hellip; 紙の資産でキャピタルゲインから利益を得て、分散投資によってリスクを管理しようとする。 ◯ プロ &hellip; キャッシュフロー戦略によって利益を得て、契約（オプションなど）を使ってリスクを管理（ヘッジ）しようとする。 資産によるキャッシュフロー＞オプション価格 という構図が取れれば、下落のリスクを減らしつつ、確実に稼ぐことができるということですね。 この考え方は、株などの世界で安心して生き残っていくには非常に大切な気がします。 投資家はプット・オプションを売ることによって得たお金を使ってプット・オプションを買って、リスクをコントロールするヘッジとして使い、それでも結果としてプラスのキャッシュフローを得ることもできる。 例えば、945円のプットを売り、940円のプットを買うと、945円以上で儲け、945円以下で損失が広がっていきますが、被害は940円まで拡大するだけで食い止められます。 つまり、自分の予想として「945円以上にとどまる」と考えているが、万が一、大暴落しても大丈夫なように保険をかけるという戦略ですね。 法律アドバイザー、ガレット・サットンの言葉 リスクを小さくすることができない法人は形態は、個人事業とゼネラル・パートナーシップ（無限責任組合）だ。この二つの法人形態を選んだのでは自分の財産を守ることはできないから、ビジネスを始める意味がない。 金持ちはずっと前にこのことを学んでいて、よく知っている。 補償のアンフェア・アドバンテージ 著者の主張は、政府がやって欲しいと思っていることをやれということ。 政府は「生産者」を優遇し、お金のために働く「消費者」に罰を与える（税金を多く取る）。 従業員になるのではなく、従業員を雇うことのできるビジネスを所有する。 自分の家を買うのではなく、他の人に住宅を提供する。 石油を燃やすのではなく、製造する。 食べ物を食べるのではなく、生産・製造する。 お金持ちは、お金のためには働かない。 お金持ちは、景気の良し悪しにかかわらずプラスのキャッシュフローを生み出す資産のために働く。 景気の悪い時に価値が下がってキャッシュフローも悪くなってしまう株だけに頼るのはよくないってことですね。 最大のアンフェア・アドバンテージは、学ぶことを決してやめないことだ。 講座やセミナーを取り、学んだことを応用する。 より多くをほしいと思ったら、より多くを与える方法を学ぶ。 より多くを与えれば、税金の優遇措置も、低金利のローンもより多く利用できるようになる。 バックミンスター・フラー博士「私はお金のためには働かない。私は他人の役に立つために人生を捧げてきた。より多くの人の役に立てば立つほど、それに応じて私の効率は上がる」 まとめ・付録 お金は資産ではない。持ち家は資産ではない。年金プランは資産ではない。あなた自身こそが資産だ。 真の投資家のお金はいつも動いている。お金を一つのところにとどめておくのはアマチュアだけだ。 流れ込んでくるお金の量が流れ出すお金の量より大きければ、どんな投資であれ、それはいい投資だ。投資対象の資産の種類によって、金持ちになるか貧乏になるかが決まるわけではない。 お金を貯めるリスクは、その人がほとんど何も学ばないことだ。市場やお金の価値が下落したら、お金も教育もない状態に陥る。1971年以降、アメリカドルはその価値を95％以上失った。 成功の鍵は、一生学び続ける姿勢、すばらしい教師やコーチ、同じ志を持つ友人たちにある。 学び続け、与え続けよう。真の投資家は気前がいい。なぜなら、Bクワドラントの資本家は、より多くを得るためにはより多くを与えなければならないことを知っているからだ。 自分で選択すること。選択する力、それこそが真の自由だ。 本当の資本主義の価値観、哲学に立ち還らねばならない。 ◯ より少ない労力で、より多くを成し遂げる。 × より少ない労力で、より多くの収入を得る。 自分だけがより裕福になるのではなく、ファイナンシャル教育を使って他人の生活を豊かにしてあげよう。より多くを学べばより多くのことができる。より少ない労力でより多くを成し遂げ、他人の生活を豊かにすることにフォーカスしよう。 起業について 起業家や投資家として成功することが自分にとってどんな意味を持っているか？ 自分にとって一番大事なものがわかったら、その時こそがコーチを雇うべき時だ。 起業家になるには、セールスに関するきちんとしたコースをとること。 人がお金に困る主な原因は、第一に意欲が足りないこと、そして第二に教育が足りないことだ。 100万ドルの価値のあるアイデアや商品を持っている人はいくらでもいる。問題なのは、そのアイデアを100万ドルのビジネスに変える起業家としてのスキルと才能が欠けていることだ。製品は製品にすぎない。ビジネスこそが資産だ。 起業家になるのは大したことではない。大変なのは起業家として成功することだ。多くの起業家の稼ぎは会社員より少ない。 起業家として成功すると、自分が選んだどんな商品やサービスに関わるビジネスでも構築できるようになる。 Sクワドラントで小さく始めて、成功する起業家になるためのスキルを学ぼう。そのあとで、Bクワドラントへ進むか、さらにIクワドラントまで進むか決めればいい。 本業はそのまま続けて副業を始めよう。たいていのスモールビジネスが最初の5年で失敗する理由は、十分な収入が得られないからだ。 ビジネスの資金として OPM（友人や家族のお金）を使う前に、銀行のお金を使って練習すること。人のお金を失った時、あなたは彼らの人生の一部を失う。"},{url:"/p/swkkz3b/",title:"IFRS（国際会計基準）のメモ",date:"2019-06-26T00:00:00Z",body:"IFRS（国際会計基準）のメモ 3 種類の会計ルール 会計基準には以下の 3 つがあり、国や企業によって使い分けられています。 日本基準 (JGAAP) &hellip; 日本独自の基準。純利益（収益－費用）を重視する。 米国基準 (USGAAP) &hellip; アメリカ独自の基準。IFRS に近い。 国際基準 (IFRS) &hellip; 統一を目的とした基準。純資産（資産－負債）を重視する。 特別利益／損失の項目がなく、多くを営業損益の形で計上する。 日本では企業ごとに選択できるため、決算短信の表題などを見て、どの会計ルールが使われているのかを判断する必要があります。 IFRS の基本 ロンドンの IASB（国際会計基準審議会） が策定した会計基準。世界共通の会計基準を目指して策定された。 IFRS は International Financial Reporting Standards の略。 読み方は「アイファース」あるいは「イファース」が一般的。 地域・国別の事情 欧州連合 (EU) &hellip; 2005 年に上場企業に IFRS の適用が義務付けられた。 アメリカ &hellip; 認められていないが、米国基準はもともと IFRS に近い。 日本 &hellip; 企業ごとに自由に採用できる。海外事業を拡大する企業を中心に導入が進んでいる。 IFRS は事業の継続性を重視しており、非継続とみなされた事業は決算から除外します。 日本基準とは異なり、原則だけを決めて、多くを経営者や企業の判断に委ねます。 「実質優先志向」の考え方に基づき、形式的な数値よりも、実態を反映することを求めています。 日本基準と IFRS の違い 日本基準 IFRS リストラ費用 特別損失 営業費用 海外事業での損失 特別損失 営業費用（事業再編に伴う損失を含める） 正ののれん 定期償却 償却なし（非償却） 負ののれん 特別利益 営業利益 研究開発費 費用に計上 一部の計上を免除 リストラ費用 例えば、リストラを実施すると、リストラ費用の計上方法の違いにより、営業黒字になったり営業赤字になったりします。 日本基準ではリストラ費用は特別損失に計上されるため、営業利益に影響しませんが、IFRS では営業費用に計上されます。 のれん代 よく話題に上るのは、M&amp;A（合併・買収）で発生した正ののれんと、負ののれんの処理方法の違いです。 正ののれん ブランド価値などを考慮して割高に M&amp;A を行うと、正ののれんが発生します。 日本基準では（正の）のれんは 20 年以内の定期償却で、毎年費用として計上していきます（実際には、5 年程度で償却されるケースが多いようです）。 少しずつ価値が下がると考え、費用が発生したとみなすため、毎年の営業利益が減って見えます。 一方、IFRS では（正の）のれんを償却しないので、M&amp;A を行ったら、その年だけで費用計上は完結です。 貸借対照表に買収時ののれん代がずっと計上されたままとなります。 米国基準でも正ののれんの償却処理はありません。 IFRS や米国基準では、買収した時の価値がずっと続くと考えるわけですね。 もちろん、企業価値が低下したとみなされた場合は減損処理を行うことになり、そのタイミングで大きな 営業損失 として計上されます（毎年、減損テストを行います）。 日本基準でも必要な場合には減損処理を行いますが、特別損失 として計上します。 ベンチャー企業の買収は、正ののれん代が大きくなる傾向がありますが、IFRS であれば償却による毎年の利益減少がなくなるため、日本基準よりも積極的に M&amp;A を行いやすいと言えます。 日本の企業がベンチャー企業の買収に消極的なのはこのあたりに原因がありそうです。 負ののれん 毎年赤字を出しているような企業を割安で買収した場合は、「負ののれん」が発生し、利益として計上されます。 日本基準では負ののれんは特別利益 として処理されますが、 IFRS では負ののれんは営業利益 として処理されます。 IFRS では、割安な M&amp;A を繰り返すと、見せかけの営業利益がどんどん増えてきます。 固定資産の減価償却費 日本基準 &hellip; 定率法が一般的。そのため、設備投資の直後は償却費用が大きくなる。 IFRS &hellip; 定額法にするケースが多い。初期費用が少なくて済む。 研究・開発費 日本基準 &hellip; 費用に計上します。 IFRS &hellip; 資産として計上し、製品発売後に費用にします。自動車メーカーなどでは初期費用が少なくて済みます。 家電量販店のポイント値引き 日本基準 &hellip; 販売管理費として計上。 IFRS &hellip; 値引きとみなし、売上高から差し引く。 代理販売 代理販売では、売れ残りを販売元に返品することができる販売形態です。 日本基準 &hellip; 売上げに計上。 IFRS &hellip; 販売元から受け取る手数料のみが売上げとなる。 代理販売の多い百貨店などが、日本基準から IFRS に乗り換えると、売上高が大幅にダウンします。 たばこ税 日本基準 &hellip; 売上げに計上。 IFRS &hellip; 販売店が代理で回収しているだけとみなされ、売上高に含めることができない。 日本たばこ産業 (JT) が2012年3月期に IFRS に乗り換えたため、売上高が3分の1に減少しました。"},{url:"/p/8zuc9k9/",title:"財務分析",date:"2019-06-26T00:00:00Z",body:"財務分析 財務諸表を用いた分析のことを、財務分析と言います。 上場企業は、貸借対照表、損益計算書、キャッシュフロー計算書といった財務諸表の公開が義務付けられており、誰でも自由に閲覧することができます。 ここでは、これらの財務諸表をどのように読み解いていくかを学びます。"},{url:"/p/ymb7ykj/",title:"新規事業の説明（ピッチ）をするときの流れ",date:"2019-06-19T00:00:00Z",body:"新規事業の説明（ピッチ）をするときの流れ 短い時間で新規事業（スタートアップ）に関するピッチを行うときの話し流れのメモです。 いかに「投資したい」という気持ちにさせるかがポイント。 (1) 導入（何をするのか） &ndash; What/Why シンプルに 何をするのか (What) を説明。 「○○領域で、××を対象として、△△業を行う」という説明ができるかどうか。 それが なぜ必要なのか (Why) を説明。 問題提起（不の解消、新しい価値提供、SDGs） 仮説／検証（こうすれば解決するのでないか？ → インタビュー、データによる検証） 提案（だからコレをやるんです） (2) 実現方法（どうやるのか） &ndash; How 課題解決の仕組み (How) と、それによる競争優位性を説明する。 戦略（方針、道筋） STP分析（フィリップコトラー） Segmentation &hellip; 市場は？ Targeting &hellip; 顧客は？ Positioning &hellip; 商品・サービスの位置付けは？ 競合対策（マイケルポーターの「競争の３つの基本戦略」） コストリーダーシップ戦略 &hellip; 低コストで回す 差別化戦略 &hellip; 異なる価値を提供する 集中戦略 &hellip; エリア、ユーザー、カテゴリを絞って集中する 戦術（戦略に沿った具体施策 5W2H） Segmentation（市場）: Where? When? Targeting（顧客）：Who? Positioning（位置付け）: What? Why? How? How much? オペレーション バリューチェーンの把握、具体化 &hellip; 資材調達 → 製造 → 物流 → 営業・販売 → アフターメンテナンス） 各プロセスでの戦術適用 &hellip; 5W2H の当てはめ 市場があること、既存製品では不を解消できないこと、我々に優位性があることを示すことで、初めて自社が取り組む理由になる。 (3) ビジネスモデル、期待成果 ビジネスモデルを図で示し、経営資源（ヒト・モノ・カネ）の動きを説明する。 お金などの流れは、ピクト図解 (R) などで図示できる。ただし、ある時点でのビジネスモデルのスナップショットにすぎないことに注意。時間軸にもとづいた変化はちゃんと説明する必要あり。 時間軸を加えたビジョンを説明する（成長曲線、ステージごとの状態の変化）。 収益見込み／副次的な成果 発展性／将来の展望 （リスク） (4) まとめ、メッセージ 「やること」「儲け」「競争」のポイントをざっとおさらいし、魅力を伝える。 社内の説明であれば、サポートして欲しいこと（資源確保など）のお願いをする。 （ビジネスモデルキャンバスは検討資料としてはよいが、ピッチでは使わない）"},{url:"/p/hd9nm68/",title:"経営者や起業家が読んでおくべき本",date:"2019-06-10T00:00:00Z",body:"経営者や起業家が読んでおくべき本 経営戦略についての有名な書籍をまとめておきます。古すぎるものは手に入らないかも。 カール・フォン・クラウゼヴィッツ (1780-1831) 『戦争論〈上〉』 『戦争論〈下〉』 フレデリック・テイラー (1856-1915) 『科学的管理法』 アンリ・ファヨール (1841-1925) 『産業ならびに一般の管理』 『ファヨール (経営学史叢書)』 チェスター・バーナード (1886-1961) 『経営者の役割』 イゴール・アンゾフ (1918-2002) 『戦略経営論 (Strategic Management)』 アルフレッド・チャンドラー・ジュニア (1918-2007) 『組織は戦略に従う』 ピーター・ドラッガー (1909-2005) 『経営者の条件』 『現代の経営〈上〉』 『現代の経営〈下〉』 『マネジメント（基本と原則）』 フィリップ・コトラー (1931-) 『マーケティング・マネジメント』 『マーケティング原理』 『コトラーのマーケティング4.0』 ヘンリー・ミンツバーグ (1939-) 『マネジャーの仕事』 『戦略サファリ 第2版』 マイケル・ポーター (1947-) 『競争の戦略』 『競争優位の戦略』 C・K・プラハラード (1941-2010)、ゲイリー・ハメル 『コア・コンピタンス経営』 ゲイリー・ハメル (1954-) 『リーディング・ザ・レボリューション』 クレイトン・クリステンセン (1952-) 『イノベーションのジレンマ』 ジョン・P・コッター (1947-) 『企業変革力』 『第2版 リーダーシップ論』 トム・ピーターズ、マッキンゼー7S 『エクセレント・カンパニー』 ジム・コリンズ 『ビジョナリー・カンパニー』 エリック・リース (1978-) 『リーンスタートアップ (2011)』 ピーター・ティール (1967-) 『ゼロ・トゥ・ワン』"},{url:"/p/dfpric6/",title:"金という資産の特徴",date:"2019-06-07T00:00:00Z",body:"金という資産の特徴 金をポートフォリオに組み入れるときは、金が資産としてどのような特徴を持つかを把握し、組み入れの比率を考えるようにしましょう。 流動性が高い それ自体が価値を持つ 現物資産（リアルアセット） である 価値がゼロになることがない（株などの紙の資産は価値がゼロになるリスクがある） カントリーリスクのない通貨である（世界中で通貨として認められている） 24時間取引されており、価格の変動リスクがある ドル建て で取引されるため、ドル円の為替相場の影響を受ける（為替変動リスクがある） 配当（インカムゲイン）は生み出さない インフレに強い（インフレ局面でのヘッジに有効） ドル安になると金価格は上昇する傾向がある（リスクの少ない金へ資産が逃げる） 日本株と金の相関関係は低く、分散投資の組み合わせとしてはよい"},{url:"/p/uh7934t/",title:"読書メモ『ワン・ミニッツ・ミリオネア ─ お金持ちになれる 1 分間の魔法』ロバート・アレン",date:"2019-05-27T00:00:00Z",body:"読書メモ『ワン・ミニッツ・ミリオネア ─ お金持ちになれる 1 分間の魔法』ロバート・アレン ワン・ミニッツ・ミリオネア ─ お金持ちになれる 1 分間の魔法 ロバート・アレン、マーク・ハンセン 徳間書店 ミリオネアになるための考え方に関する教えです。 引き寄せ的な側面もあるけど、考え方を変えなければ、行動も変わらない。 考え方を変えて、行動を変える。 これがすべて。 ちなみに、共著者のマーク・ハンセンは 『こころのチキンスープ』 の著者です。 富を生む法則 賢明なミリオネアとなるのは簡単。次のように進めばよい。 好きなことを仕事にする。 巨大な価値を付加する。 誰もが勝者となれるように富を創造しなければならない（何かに価値を付加しようとする）。付加価値を最大にしようと努力していると、予期しないポジティブな出来事が起こる。価値を生み出さずにお金だけ追い求めると、そこには勝者と敗者が生まれてしまう。 ラヴァレッジ「愛の梃子（ラブ＋レバレッジ）」効果を適用する。 この状況に対し、この機会に対し、このアイデアに対し、どうやって梃子効果を利用しようと絶えず問いかける。「梃子はどこだ？梃子はどこだ？」と呪文のように唱える必要がある。 豊かさの4つの指標とは &hellip; 「家族」「健康」「友人」「精神的価値」。お金よりも大切なものがある。 「責任転嫁」は自分が脇役になるということ。経験から学ぶ最善の機会を失ってしまう。経験というものは、失敗も成功も全部含めたもの。自分の経験を増やしていくには、失敗も自分の失敗として受け入れていくしかない。 「与えよ、さらば与えられん」。ミリオネアのパラドックスだけれど、メタレベルでは「得る前に与える」が正解。 一番友達が多い人は、一番フレンドリーな人ではないか？ 一番愛されている人は、一番愛情深い人ではないか？ 多くの人は第一の壁を乗り越えられない。乗り越えようとしない。だからお金持ちになれない。第三の壁を乗り越えたときにはじめて大金が入ってくる。 ミリオネア要請ギブス 大きめの輪ゴムを左腕に付けて、非生産的な考え方をしたらピシッとやる。 「だけど…」「でも…」と言いそうになったときにピシッとやる。効果は1カ月以内には表れる。 こんなのは畑違いだ → これは私の得意分野だ 私には荷が重すぎる → これくらいの荷は軽い 私は適任じゃない → この仕事なら任せておけ もっと切れる頭があったら → 頭の切れには自信がある どこから手をつければいいか → 手持ちのものでまずは始めよう コネがないから無理だ → なんとかコネを見つけてやる 勝者というのは、まずいところを見つけ次第、人生を方向修正して、二度と同じ轍を踏むまいと努める人。 成功哲学者ネヴィルの言葉「目標のことを考えるな。目標からさかのぼって考えよ」。マイホームが欲しいのであれば、マイホームに住む自分を実体験するように想像するということ。これが、夢からさかのぼって考えるということ。 ゲーテの2行連句「なんでもいいから、あなたのできることを、できると夢に見たことを始めなさい」 我々は最悪を想像しがちだ。それなら最善を想像したらどうだろうか？成功している自分を思い浮かべ、最善を想像して行動するのがよい。心は読まれているので、うまくいっている自分を想像するのがよい。どうせ読まれるなら、読まれたいことを考えればいい。最善の筋書きを想像しよう。 直観はめったに道を間違えない。人はどの方向に向かうべきかを“知る”能力を持っている。あとは「直感」をどう培うか。 マニフェストの例 私は、希望と創造的刺激に満ちた前向きな本を読む。 私は、ミリオネアの読むものを読む。 私は、ミリオネアの伝記と自伝をむさぼり読む。 私は、重要なことを行うとき、気さくで親切で面倒見のいい人と協力する。 私は、志を同じくする人に、助力を惜しまない。 師との出会い 個人的なコーチなしに大成功を収めた人間はほとんどいない。師は、賢明なミリオネアとなるための梃子である。 バフェットは大学 4 年生のとき、ベンジャミン・グレアムの『賢明なる投資家』を読んだ。グレアムのもとで学ぶため、コロンビア大学の大学院に入り、経済学修士号をとった。 目標到達に必要な資源のうち、自分に欠けていると思うものを書き出そう。 ミリオネアをランチに誘い、次のような質問をして書き留めよう。奇跡が起こる。 どんな方法で最初の1億円を稼ぎましたか？ どれだけ時間がかかりましたか？ 今ならどれだけの時間で1億円を稼げますか？ どんなシステムを使っていましたか？ そのシステムは移転が可能ですか？ 誰かを同じレベルに育てるとしたら、どれくらい時間がかかりますか？ 私がミリオネアになるのに、どんな方法を勧めますか？ 学んだ一番の教訓は何ですか？ 精神的価値をどのように大事にしていますか？ どんな遺産を残したいですか？ 最も大切な習慣は何ですか？ 挑戦したかったのに、時間の制約で断念したことはありますか？ ドリームチーム、ネットワーク 1分間ミリオネアを目指すなら、バランスのとれたチームを持つことが重要な一歩となる。 バランスのとれたチーム内では、誰かが嫌いな仕事は、ほかの誰かが好きな仕事なのだ。 たとえ大金を稼ぎ出せても、価値観を共有していなければ、仲間割れと、機能不全と、期待外れが必ずついてくる。価値観に反して生きるのは、単なるつまずきではない。正真正銘の失敗なのだ。 LOHAS「健康で環境にやさしい生活様式 (Lifestyles of Health and Sustainability)」を検索してみよう。 弱い結びつきの方が重要。弱い結びつきの人々は違う世界に住んでいるから、あなたの身近にない情報を持っている可能性が高い。弱い結びつき、あるいは緩い結びつきのネットワークを育てれば、とてつもない優位性を手に入れられる。 手助けできる相手は誰でも手助けする。全人類に貸しを作るつもりで、どんどん奉仕しよう。 ネットワークづくりの標語は「与えるものが得る」だ。決してギブ＆テイクを期待してはならない。見返り（リターン）を求めない態度を貫けば、自然とリターンがやってくる。それは知名度と信頼だ。 まずはあなたが会いたい、話したい、学びたい、ともに成長したい、ともに過ごしたい、追いつき追い越すまで手本にしたいと思う人物を 200 名リストアップしよう。 技能と道具 経営コンサルタントのマーシャル・サーバーは、説得の 3 つの秘訣は、明るさと暗さと繰り返しであると言う。 明るい言葉で、自分の勧める行動が招来する前向きで活気に満ちた未来像を描き出す。 暗い言葉で、自分の勧めに従わない場合に訪れる陰気で恐ろしい未来像を描き出す。 メッセージを（広告のように何度も何度も）繰り返す。 マーケティングの定義とは、信頼関係を築くこと。 誰もが何かを欲しがっている。あなたの務めは、それを見つけ出すことだ。 どんな市場にも窮した売り主がいる。要はそれをいかに見つけるかだ。欲しいのは問題のある物件ではない、問題を抱えた人物が所有する優良物件だ。売りたがるモチベーションにはいくつかある。 M &hellip; (Management, Money problem) 管理・金銭面でのトラブル O &hellip; (Out of area, Out of work, Out of luck, Out of Time, Out of money) 居住地から遠い、失業中である、不慮の災難に見舞われた、時間がない、お金がない T &hellip; (Transfer) 転勤などにともなう移動 I &hellip; (Illness, Inheritance, Ignorance) 本人・家族の病気、相続問題、単なる無知 V &hellip; (Vacancy) テナントが入らない、借り手がいない A &hellip; (Area in decline, Attorney problems) 近隣環境の劣化、訴訟などの法律的な問題 T &hellip; (Tax problems) 税金問題 E &hellip; (Eastate and probate problems, Emergency, Early retirement) 遺産分割などの問題、何らかの緊急事態、早期退職 D &hellip; (Delinquent payments, Divorce, Death, Depts, Dissolution of partnership) 支払の遅れ、離婚、死亡、負債、パートナーシップの解消 To-Do リストではなく、15％のやるべきこと、85％の先延ばしにしてもいいことをリスト化する（15/85 のリスト）。上の15％の欄に書いたことだけを処理していく。To-Do リストは捨てよう！ お金持ちは、常に 2 つの真実を頭に置いている。 複数の収入の流れ (MSI: Multiple Streams of Income) を確保する重要性 例: 債権、投資による配当金、長期的に値上がりする株、持ち家の評価額上昇、不動産、起業、コミッション、フランチャイズ料、コンサルティング、ネットワークマーケティングなど。 長期型収入の威力（眠っている間に儲けられる） 基本的な 10 の起業モデル (B: Business, C: Customers, G: Government, P: Philanthropies) B to C &hellip; 企業から個人顧客への販売（例: ウォルマート、マクドナルド） B to B &hellip; 企業から他企業への販売（例: オフィスマックス、シスコ・フーズ） B to G &hellip; 企業から政府／政府関連機関への販売（例: フェデコ） B to P &hellip; 企業から慈善団体／養育院への販売（例: チキン・スープ託児所、赤十字） B-B &hellip; 上司を買収して事業主になる B to C2 &hellip; ジョイント・ベンチャーの企業対顧客取引（例: ネットワーク・マーケティング、エイボン、ユサナ） B to B2 &hellip; ジョイント・ベンチャーの企業間取引（2社の提携） I to CBGP &hellip; 委託従業員である社内起業家と、顧客、企業、政府、慈善団体との取引（例: スリーエム） L to CBGP &hellip; 顧客、企業、政府、慈善団体に対してアイデアの使用許諾を与える（例: デュセル社の電池） C to CBGP &hellip; 顧客、企業、政府、慈善団体に対してアイデアのコンサルティングを行う"},{url:"/p/mjkh9pw/",title:"コア・サテライト戦略",date:"2019-05-19T00:00:00Z",body:"コア・サテライト戦略 コア・サテライト戦略（あるいは、コア・サテライト運用）は、運用資産を以下の 2 種類に分けてポートフォリオを考える戦略です。 リスクを抑えつつ、市場平均を上回る利益を得ること を目標としています。 コア（中核）資産 安定的な成長を目指す資産で、次のようなものコア資産となります。 広く分散投資された ETF（インデックス型） 低コストの債権ファンド サテライト（非中核、衛星）資産 リスクをとって大きなリターンを狙う資産で、次のようなものがサテライト資産となります。 中小型株、先進国の個別株、テーマ株 ハイ・イールド債 不動産（REIT: 不動産投資信託など） コモディティ（金など） 新興国資産 コア部分で安定的にキャッシュフローを得つつ、サテライト部分でリスクを取ってさらに上乗せの利益を狙います。"},{url:"/p/3winf9n/",title:"海外 ETF のまとめ",date:"2019-05-18T00:00:00Z",body:"海外 ETF のまとめ 攻めの海外 ETF VB: バンガード・スモールキャップ ETF CRSP USスモールキャップ・インデックスのパフォーマンスへの連動を目指します。 米国の小型株に対して広く分散投資します。 VSS: バンガード・FTSE・オールワールド（除く米国）スモールキャップ ETF FTSE® グローバル・スモールキャップex USインデックスへの連動を目指します。 米国を除く先進国、および新興国 47 カ国の小型株を投資対象とします。 TIP: iシェアーズ 米国物価連動国債 ETF バークレイズ・米国 TIPS インデックスに連動。 米国のインフレ連動国債で構成される指数と同等の投資成果を目指しています。 インフレ時に価格が上昇するため、インフレヘッジになります。 FM: iシェアーズ MSCI フロンティア 100 ETF フロンティア市場の株式で構成される指数と同等の投資成果を目指しています。 新興国マーケットの次に成長が見込まれる、フロンティア市場に投資します。例えば、クウェート、ベトナム、アルゼンチン、モロッコ、ケニア、バングラデシュ、ルーマニア、ナイジェリア、バーレーン、オマーンなどを対象としています。 EMLC: マーケット・ベクトル・新興国債券（現地通貨建て）ETF JP モルガン GBI-EM グローバル・コア・インデックスに連動。 新興国政府が発行する現地通貨建ての債権（国債および社債）に投資します。"},{url:"/p/kkipwgp/",title:"TradeStation/インジケーター/移動平均線1本 (WA-Mov Avg 1 Line)",date:"2019-04-12T00:00:00Z",body:"TradeStation/インジケーター/移動平均線1本 (WA-Mov Avg 1 Line) WA-Mov Avg 1 Line { Search Tag: WA-Mov Avg 1 Line } inputs: Price( Close ) [DisplayName = &#34;Price&#34;, ToolTip = &#34;Enter an EasyLanguage expression to use in the moving average calculation.&#34;], Length( 9 ) [DisplayName = &#34;Length&#34;, ToolTip = &#34;Enter number of bars over which to calculate the simple moving average.&#34;], Displace( 0 ) [DisplayName = &#34;Displace&#34;, ToolTip = &#34;Displacement. Enter the number of bars by which plots will be displaced. Displacement may be positive (left) or negative (right).&#34;] ; variables: Avg( 0 ) ; Avg = AverageFC( Price, Length ) ; if Displace &gt;= 0 or CurrentBar &gt; AbsValue( Displace ) then begin Plot1[Displace]( Avg, !( &#34;Avg&#34; ) ) ; { alert criteria } if AlertEnabled and Displace &lt;= 0 then begin if Price crosses over Avg then Alert( !( &#34;Price crossing over average&#34; ) ) else if Price crosses under Avg then Alert( !( &#34;Price crossing under average&#34; ) ) ; end ; end ; Copyright © TradeStation Technologies, Inc. All Rights Reserved TradeStation reserves the right to modify or overwrite this analysis technique with each release."},{url:"/p/zwrgnfk/",title:"制限値幅 (ストップ高とストップ安）の仕組み",date:"2019-04-06T00:00:00Z",body:"制限値幅 (ストップ高とストップ安）の仕組み 株券の制限値幅 日本の証券取引所での取引では、前営業日の終値、あるいは最終気配値段など（＝基準値段）に基づいて、その日の値幅が一定範囲に制限されます。 これを 制限値幅 （あるいは 値幅制限）と呼び、英語では price movement limit と呼びます。 株価などが制限値幅の上限に達することを ストップ高、下限に達することを ストップ安 と言います。 制限値幅は基準値段との対応で、次のように決められています。 例えば、前日の終値が 1100 円のとき、制限値幅は 300 円となり、ストップ高は 1400 円、ストップ安は 800 円となります。 基準値段（前営業日の終値） 制限値幅 100円未満 30円 100円以上　200円未満 50円 200円以上　500円未満 80円 500円以上　700円未満 100円 700円以上　1,000円未満 150円 1,000円以上　1,500円未満 300円 1,500円以上　2,000円未満 400円 2,000円以上　3,000円未満 500円 3,000円以上　5,000円未満 700円 5,000円以上　7,000円未満 1,000円 7,000円以上　10,000円未満 1,500円 10,000円以上　15,000円未満 3,000円 15,000円以上　20,000円未満 4,000円 20,000円以上　30,000円未満 5,000円 30,000円以上　50,000円未満 7,000円 50,000円以上　70,000円未満 10,000円 7万円以上　10万円未満 15,000円 10万円以上　15万円未満 3万円 15万円以上　20万円未満 4万円 20万円以上　30万円未満 5万円 30万円以上　50万円未満 7万円 50万円以上　70万円未満 10万円 70万円以上　100万円未満 15万円 100万円以上　150万円未満 30万円 150万円以上　200万円未満 40万円 200万円以上　300万円未満 50万円 300万円以上　500万円未満 70万円 500万円以上　700万円未満 100万円 700万円以上　1000万円未満 150万円 1000万円以上　1500万円未満 300万円 1500万円以上　2000万円未満 400万円 2000万円以上　3000万円未満 500万円 3000万円以上　5000万円未満 700万円 5000万円以上　5000万円以上 1000万円 一方、アメリカや中国の市場にはストップ高／ストップ安の仕組みが存在しないため、一日で上がるところまで上がり、下がるところまで下がります。 ストップ安に張り付いて、連日で取引が成立しないケースなどでは、取引所が呼値の値幅制限を変更することがあります。 東京証券取引所では、３営業日連続で、 ストップ高（安）となり、かつ、ストップ配分も行われず売買高が０株 売買高が０株のまま午後立会終了を迎え、午後立会終了時に限りストップ高（安）で売買が成立し、かつ、ストップ高（安）に買（売）呼値の残数あり となった場合は、その翌営業日から制限値幅を拡大することとされています。 取引所によるこういった臨時措置は、有価証券の売買等の適正化措置として認められています。 債権の制限値幅 債権の制限値幅は 1 円 と決まっています。 ただし、転換社債型新株予約権付社債券などは特殊です（下記）。 転換社債型新株予約権付社債券 (CB: Convertible Bond) の制限値幅 行使対象の上場株券の制限値幅に、転換比率を乗じた額が、CB の制限値幅となります。 転換比率は下記のような計算で求められます。 転換比率 = 額面100円あたりの発行価額 ／ 新株予約権行使時の株式発行価額"},{url:"/p/uap4vib/",title:"用語: ブラックアウト期間",date:"2019-04-02T00:00:00Z",body:"用語: ブラックアウト期間 米国で決算発表の 1 ヶ月前から自社株買いを自粛する慣例のことをブラックアウトといいます。 ただし、事前に設定された自社株買いはブラックアウト期間であっても実施されます。 他にも、中央銀行の政策決定会合のメンバーが、会合の前後の時期に金融政策に関する発言をしてはいけないというルールのことを指すこともあります（ブラックアウト・ルール）。 日銀の場合は、金融政策決定会合開始の 2 営業日前から総裁記者会見終了までは、金融政策および金融経済情勢に関して発言をしてはいけないとされています。 そのような発言が許されると、市場関係者が先に相場を大きく動かしてしまう可能性があるからです。 インサイダー取引のようなものですね。"},{url:"/p/35d34zy/",title:"読書メモ『会計天国』(1) なぜ「儲かっていると」言われる会社が倒産するのか？",date:"2019-02-21T00:00:00Z",body:"読書メモ『会計天国』(1) なぜ「儲かっていると」言われる会社が倒産するのか？ 会計天国 青木寿幸、竹内謙礼 PHP研究所 車の事故で幽体離脱した北条は、天使 K と出会い、5 人の不幸な人を会計で救うことを約束します。 読者は 5 人を救うストーリーを楽しみながら、会計の知識を一緒に学ぶことができます。 貸借対照表 (B/S) 損益計算書の当期純利益のところに 3000 万円と書いてあるのに、社員に払うお金がないのはなぜなのか？ → お金をどう使っているかを「貸借対照表」で把握しなければいけない。 経営をしていると、「売上」を増やすことに精一杯だったり、「利益」が黒字というだけで安心してしまう。 貸借対照表 (B/S) を見るコツは「比べる」ということ。 儲け（損益計算書の当期純利益）が出ると、B/S の左側の「資産」の欄に「現金」が追加され、右側の「純資産」の欄に同額の「利益剰余金」が追加される。 1カ月分の社員の給料や水道光熱費は、1年以内支払うということで「流動負債」に入れられる（未払金など）。 発生主義 決算書には「発生主義」で数字を計上するというルールがある。まだ実際には支払っていない給与などを B/S に未払金として計上するのは、この発生主義のルールのため。逆に、未払金の計上がなければ、見かけ上の利益だけが増えて多額の税金を支払うということになってします。 「売上」は入金した時ではなく、売ることが確定した時に計上する（流動資産の売掛金など）。「経費」はお金を支払った時ではなく、支払う音が確定した時に計上する（流動負債の買掛金など）。 ただし、長年に渡って使うものを購入した場合は、一度に経費として計上するのではなく、B/S 左側の「固定資産」に入れた上で、少しずつ経費として計上していく。これが減価償却費の考え方であり、できるだけ公平な課税を行うための措置。 長期の貸付金は固定資産に入るが、将来返してもらう予定のお金だから減価償却はしない。 資本金が1億円以下の会社は、業者を接待した交際費で領収書があったとしても、400万円までしか経費にならないと税法で決められている。資本金が1億円を超えると、交際費は1円も経費としては認められない。 財務の健全性 貸借対照表を使ってやることは下記の2つだけ。 短期的な健全性: 「流動資産」と「流動負債」を比べる 長期的な健全性: 「純資産」と「純資産＋負債」を比べる（自己資本比率） 「流動資産＜流動負債」という状況になると、1年以内に支払うべきお金が足りなくなって倒産してしまう。 「自己資本比率」が高くないと銀行はお金を貸してくれない。業種によって異なるが、50％以上あるとよい。 増資 増資をすれば純資産が増えるので自己資本比率を上げることができる。 ただし、資本金としてお金を出すのはハイリスク（元本が戻ってこないこともある）ので、それなりメリットを提示しないとお金を集めることはできない。 リスク リターン 資本金（純資産） 大 大 長期借入金（固定負債） 中 中 短期借入金（流動負債） 小 小 増資の目的が新規出店や銀行への返済であれば、高い配当を出すと言うことをウリにして増資するのは望ましくない。配当は法人税を払った後の当期純利益から出さなければならず、当初の目的のためにお金を使う余裕がなくなってしまう。 増資でお金を調達するには、上場を目指すことをアピールするのがよい。上場すれば株価は上がり、元本回収のリスクも小さくなるので、出資の魅力は大きい。 上場することを目指すのであれば、B/S から分かる「総資本利益率（＝当期純利益／資産合計）」も重要になってくる。平均は 5〜6 ％くらい。 上場するには、総資本利益率の大きさだけでなく、利益の金額自体も大きくなければならない（3億円とか）。"},{url:"/p/pxsakrw/",title:"外務員試験 (3-1) 「株式会社方概論」の出題パターン",date:"2018-12-30T00:00:00Z",body:"外務員試験 (3-1) 「株式会社方概論」の出題パターン 株式会社の特色 問題 解答 株主は、会社が債務の返済を行えない場合、会社債権者に対し弁済の責任を負わなければならない。 × 株主に必要なのは、株式の引き受け分の資金だけです（株主有限責任の原則）。逆に、合資会社の有限責任社員や、合同会社の社員は、投棄した金額の限度まで会社責任者に対して責任を負います。 株式の譲渡 問題 解答 会社が取得した自己株式についても議決権や剰余金の配当を受ける権利がある。 × 会社自身が保有している自己株式には、議決権や剰余金の配当を受ける権利はありません。 合併や事業譲渡などに反対する株主は、一定の手続きを踏めば、公正な価格で持株を会社に買い取ってもらうことができる。 ◯ 「株式買取請求権」の説明です。株式併合、会社の分割、株式交換、株式移転に関しても同様です。 会社の計算 問題 解答 分配可能額がないのに株主に対して行った配当は無効である。 ◯ 分配可能額（剰余金）がないときの配当（たこ配当）は無効です。会社債権者から、株主に対して返還要求を出せます。 新株発行 問題 解答 株主割当てとは、現在の株主に、持株数に比例して新株を割り当てることをいう。 ◯ 時価より低い払込金額で発行することが多い。"},{url:"/p/gm6k6vd/",title:"証券外務員メモ",date:"2018-12-30T00:00:00Z",body:"証券外務員メモ 証券外務員の試験で出題される問題のパターンなどをまとめています。 外務員必携という冊子の章番号別に記載しています。 1巻 第1章 証券市場の基礎知識 第2章 金融商品取引法 第3章 金融商品の勧誘・販売に関係する法律 第4章 協会定款・諸規則 第5章 取引所定款・諸規則 2巻 第1章 株式業務 第2章 債券業務 第3章 投資信託及び投資法人に関する業務 第4章 付随業務 第5章 セールス業務 3巻 第1章 株式会社方概論 第2章 経済・金融・財政の常識 第3章 財務諸表と企業分析 第4章 証券税制 4巻 第1章 先物取引 第2章 オプション取引 第3章 特定店頭取引デリバティブ取引等"},{url:"/p/hac2pic/",title:"読書メモ『金持ち父さん 貧乏父さん』ロバート・キヨサキ",date:"2018-12-25T00:00:00Z",body:"読書メモ『金持ち父さん 貧乏父さん』ロバート・キヨサキ 改訂版 金持ち父さん 貧乏父さん ロバート・キヨサキ 筑摩書房 お金持ちになるための考え方を、金持ちな父さんと、貧乏な父さんの行動を比較しながら教えてくれる超名作です。 この本から投資の道に目覚めた人は多いのではないでしょうか。 学校では「時間を売る労働者になる」ことしか教えてくれない、「お金とは幻想にすぎず、資産を増やさなければいけない」といった重要な考え方を学ぶことができます。 金持ち父さんの教え いい教育を受け、いい成績をとるというのは、もはや成功へのパスポートではない。 ラットレースから抜け出す唯一の方法は、会計と投資に関する能力を高めることだ。 世の中には2つのルールがある。金持ちが使っているルールと、残りの95％が使っているもう1つのルールだ。家庭や学校で教えられているのは、この95％が使っているルールだ。 貧乏な親は子供にこう言うしかない ─ 「学校に行って一生懸命勉強しなさい」 学校で教えられるのは学問的知識、専門的な技術だけで「お金に関する実際的な技術」は教えない。 一方の父（貧乏父さん）は、いい仕事につくためのじょうずな履歴書の書き方を教えてくれた。もう一方（金持ち父さん）は、自分で仕事を生み出すためのビジネスプラン、投資プランの書き方を教えてくれた。 「私はお金のために働いているわけじゃない！」この父（金持ち父さん）はよくこう言っていた。「お金が私のために働いているのだ！」 お金は力だ。だが、それよりも強いのはお金に関する教育だ。 30年後、その授業のすべてが終わったとき、私は金持ち父さんが教えてくれたことはわずか6つであることに気づいた。 第1の教え「金持ちはお金のためには働かない」 あきらめないかぎりは貧乏じゃない。一番大事なことは、何かをやったということだ。世の中には金持ちになる話しばかりして、夢ばかり見ている人がたくさんいる。 たいていの人が自分以外の人間を変えたいと思う。でも、ほかの誰かを変えることより、自分自身を変えることのほうがずっと簡単なんだ。 中流以下の人間はお金のために働く。金持ちは自分のためにお金を働かせる。 お金のこととなると、たいていの人は安全そうなことだけやって安心していたいと思う。つまりそこには情熱はない。そういう人は恐怖に動かされているんだ。 たいていの人は、お金がもっと手に入れば問題が解決するのだと思う。お金に関する教育が自分に足りないことが問題なのだと気づく人はほとんどいない。 仕事をすることは、長期的な問題に対する短期的な解決策でしかないんだ。 金持ちはお金が単なる幻想にすぎないことを知っている。 「夢の実現に向かって努力すること」と「お金のために働き続ける」ことは全く異なる。 ここを取り違えず、日々過ごしていかないといけない。 第2の教え「お金の流れの読み方を学ぶ」 「会計学」が世界で最も退屈な科目だと思っている人は多いだろう。おまけにわかりにくさも天下一品だ。だが、金持ちになりたいと思ったら、長い目で見てこれほど役に立つ学問はない。 資産が何かってことがわかって、それを手に入れればそれだけで金持ちになれる。 金持ちになりたいなら、ただ「資産を買うこと」に生涯を捧げればいい。 資産は私のポケットにお金をいれてくれる。負債は私のポケットからお金をとっていく。 資産の例: 株、債権、投資信託、手形、借用証書、収入を生む不動産、音楽や書籍などの著作権や特許権（印税などを生む知的財産）、自分のビジネス（自分がいなくても収入を生み出すもの） 負債の例: 住宅ローン、ローンの借入、クレジットカードの未払い分 頭のいい人は自分より頭のいい人を雇う。 資産の基礎は意外と早く作れる。そうしたらもっと投機性の高い投資に目を向ける余裕ができる。投機性の高い投資というのは2倍から無限大の成長の可能性を持つ投資だ。5千ドルの投資が百万ドルになるにもそう時間はかからない。つまり、中流の人間が「危険が多すぎる」と呼ぶような投資だ。 バックミンスター・フラーの考えによると、富というのはあと何日間その人が生き残ることができるか、つまり、今日仕事をやめたとして、あとどれくらい生きていけるか、その能力を指す。 第3の教え「自分のビジネスを持つ」 「職業（プロフェッション）」と「ビジネス」には大きな違いがある。 経済的な安定を確保しようとするなら、自分のビジネスを持つことが必要だ。自分のビジネスは「収入」ではなく、「資産」を中心に展開する。 金持ちは資産に常に注目し、そうでない人間は給与明細表の数字ばかりを気にする。 自分がその場にいて働かなければいけないのならば、それは「ビジネス」とはいえない。自分の「仕事」だ。 小さな会社の株に私が投資する際のコツは1年以内に売却することだ。不動産投資の方のコツはこれと異なり、まず小さい物件を購入し、それをどんどん大きな物件に買い替えるやり方だ。こうすれば売買によって得た利益に対する税金の支払を遅らせることができ、結果としてその物件の価値を何倍にも増やすことができる。 いまの仕事を続けながら、その一方で自分のビジネスを持つことを考えるべきだ。 中流以下の人は、給料を使ってぜいたく品を買ってしまう。金持ちたちは、まず最初に資産を築く。そのあとで、資産から生み出された収入でぜいたく品を買う。 第4の教え「会社を作って節税する」 金持ちと中流以下の人間を分け、金持ちをはるかに有利な地位に立たせているのは、会社という法的な組織が持つ力についての知識だ。 注意したいのは、会社は実際に形のある「物」ではないということだ。会社とは、生命のない法的実体を創るための法的書類にすぎない。 会社の場合、支出の一部は経費として、税を払う前の収入から差し引くことができる。 税法にはほかにも節税の道が残されている。その方策のほとんどが、金持ち、貧乏人に関わりなく利用できるものだ。だが、それを見つけ出し、利用するのはたいてい金持ちだ。なぜかというと、金持ちはつねに自分のビジネスのことを第一に考えているからだ。 お金に関して賢くなり、いじめっこ（税務署）にこづきまわされないようにするためには、法律を知ることと、システムがどのように働くか、その仕組みを知る必要がある。 ファイナンシャルIQというのは次のような4つの専門的分野の知識から成り立っている。 会計力: ファイナンシャル・リテラシー（お金に関する読み書き能力）。貸借対照表や損益計算書といった財務諸表を読んで理解できる能力。 投資力: お金がお金を作る科学。投資には戦略と方式が必要とされる。 市場の理解: 需要と供給の科学。市場を理解するには、市場の「人為的」側面を知る必要がある。つまり、人間の感情によって左右される側面だ。 法律力: 会社を持つことによって得られる税の優遇措置や、保護といったことに関する知識を持っている人間は、会社に勤めていたり、小さな事業を個人で営む人たちに比べて早く金持ちになれる。その違いときたら、歩くのと飛ぶのとの違いほどもある。 第5の教え「金持ちはお金を作り出す」 才能を発揮できない理由の1つは自分に対する疑いの気持ちだ。専門的な知識の不足などは障害にはならない。それよりも、自信のなさが私たちの足をひっぱる。 お金が実際に存在すると思う気持ちが強ければ強いほど、お金のために一生懸命に働く。お金は実際には存在しないものだとわかれば、はやく金持ちになれる。 私たちだれもが持っている唯一の強力な「資産」は、私たちの頭だ。 市場の動向に合わせて投資の対象を変える。投資の対象は刻一刻と変わっていく。私たちはそれを見逃してばかりいるのだ。私たちの目には見えなくてもチャンスはかならずそこにある。 大きなチャンスは目に見えない。頭を使って感じ取るものだ。たいていの人はお金に関する訓練を受けていないため、目の前のチャンスを見逃してしまう。 実践にあたって、いつも覚えておいてほしいことは「楽しむ」ことだ。これは単なるゲームにすぎない。勝つこともあれば、負けてそこから何かを学ぶということもある。でも、どんなときにも楽しむことだ。 どんなことにもリスクはつきものだ。だからこそ、それを避けるよりもうまく乗り越える方法を学ぶことが大切だ。 第6の教え「お金のためではなく学ぶために働く」 学校や仕事の場では「専門化」という考え方が一般に浸透している。 金持ち父さんが私にやれといったのはそれとはまったく反対のことだった。「広く浅く知る」というのが金持ち父さんのアドバイスだった。 高い教育を受けた父（貧乏父さん）にとっては「安定した仕事につくこと」がすべてだった。一方、金持ち父さんにとっては「学ぶこと」がすべてだった。 会社を経営するにあたって一番難しいのは従業員を管理することだ。 専門的な技術の中でもっとも大事なのはセールスとマーケティング、つまり売る能力だ。 専門を持つことは強みでもあるが弱みでもある。私の友人の中には、天才的な能力を持っているのに、他人とうまくコミュニケーションがとれないために、ほんのわずかの収入に甘んじている人が何人もいる。 実践 やるべきことをすべてやり、いまはもうのるかそるかというときにも「アラモ砦」の話を忘れるな（降伏の場になったアラモ砦が、今では観光名所となっているという話）。たとえ損をしても、それを得に変えることができる。失敗しても、それが自分をより強く、より賢くしてくれる。 失敗によって意気を奮い立たせる。失敗を受け入れ、それを元気の源に変えるんだ。 敗北によってやる気を奮い立たせる者が勝者となり、敗北によって打ち負かされてしまう者が敗者となる。 バランスを大切にする人間はどこにも行き着くことはできない。同じところにいつまでもとどまっているだけだ。前に進むにはまずバランスを崩さなければならない。 臆病な人間は決して勝者にはなれない。 批判が人の目を見えなくする一方、分析は人の目を開いてくれる。分析をする勝者には、批判ばかりをしている人間に見えない者が見え、また、ほとんどの人が見逃してしまうチャンスが目に入る。 「それを買うお金はない」という言葉を口にしてはいけない。「どうやったらそれを買えるようになるか」を自問する。「それを買うお金はない」という言葉が脳の働きを止めてしまう。「どうやったら・・・？」という問いは脳を働かせる。 あることについて自分は知らないと気づいたら、その分野の専門家を探すか、それについての本を見つけるかして自分で自分を教育し始めることが大切だ。 いまお金がないからといって、それは学ばなくてよい理由にはけっしてならない。自分の時間やお金をどう使うか、何を学ぶかは私たちが毎日選択すべきことなのだ。私と残りの9人の違いはただそれだけなのだ。 まず選択すべきは教育に投資することだ。私たちが持っている本当の唯一の資産は私たちの頭脳だ。 自分自身のビジネスを始めるために必要な管理能力のうち、最も大切な能力は次の3つだ。 キャッシュフローの管理 人の管理 自分の時間の管理 人を管理することの本当の意味は、専門分野で自分よりすぐれている人をうまく使うこと、そして充分に報酬を与えることにある。 何かが足りないとか何かが必要だと感じたときには、まず、それを人に与えることだ。このことはお金、ほほえみ、愛情、友情などいろいろなことにあてはまる。「足りないものを与える」というのは、たいていの人は一番やりたがらない。だが、私の経験から言わせてもらうと、このやり方はいつも効果がある。 出会った人たちが私にほほえみかけてこないと感じたときは、いつも私は自分からほほえみかけ、「ハロー」と声をかける。 世界はあなたを映す鏡にすぎないというのは本当だ。"},{url:"/p/54prv5s/",title:"外務員試験 (2-2) 「債権業務」の出題パターン",date:"2018-11-06T00:00:00Z",body:"外務員試験 (2-2) 「債権業務」の出題パターン 1 債権の基礎知識 問題 答え 特定社債とは、金銭債権、不動産など、様々な資産を裏付けとした資産担保証券で、特定目的会社が発行するものである。 ◯ 既発行の利付債権を売買する場合には、直前利払日の翌日から受渡日までの期間に応じて、売方から買方に経過利子が支払われる。 × 経過利子は買方から売方に支払われます。 3 流通市場の概要 問題 答え 債権の取引は、取引所市場における売買が中心であり、店頭市場における取引はほとんどない。 × 債権の売買は**店頭による取引が中心（99％以上）**です。 5 債権の売買手法 問題 答え 債権の売買手法で、着地取引とは、一定の条件で債権を受渡しすることをあらかじめ取り決めて行う売買取引で、約定日から受渡しまでの期間が3か月以上となる取引をいう。 × 約定日から1か月以上先（翌月の応答日以降）に受け渡しする場合をいいます。 6 転換社債型新株予約権付社債（転換社債）の流通市場 問題 答え パリティ価格とは、株価と転換価額から計る転換社債型新株予約権付社債の理論価格のことである。 ◯"},{url:"/p/zyzo264/",title:"外務員試験 (2-3) 「投資信託及び投資法人に関する業務」の出題パターン",date:"2018-11-06T00:00:00Z",body:"外務員試験 (2-3) 「投資信託及び投資法人に関する業務」の出題パターン 3 投資信託の種類 問題 解答 株式と債権の両方を一定の割合ずつ組み入れるファンドは、公社債投信に含まれる。 × 株式投資信託に含まれます。 公社債投資信託は決算日の基準価額でしか購入（追加設定）できない。 ◯ マザーファンドとは、その受益権を投資信託委託会社自らが運用の指図を行うほかの投資信託に取得させることを目的とする投資信託をいう。 ◯ 毎月分配型投資信託の分配金については、ファンドが得た収益を超えて支払われることはない。 × 収益を超えて分配金が支払われることもあります。 5 証券投資信託の運用 問題 解答 委託者指図型投資信託の信託財産に組み入れた有価証券に係る議決権については、投資信託委託会社の指図に基づき受託会社が行使する。 ◯ 7 証券投資信託の基準価額の計算、決算、分配、換金及び償還 問題 解答 クローズド期間とは、投資信託約款によりあらかじめ配当を行わないと決めた期間のことである。 × 解約請求することができない期間のことです。 追加型投資信託の分配金で課税対象となるのは、元本払戻金（特別分配金）である。 課税対象となるのは普通分配金の方です。"},{url:"/p/jyreg5t/",title:"なぜ営業キャッシュフローでは減価償却費をプラスとして扱うのか？",date:"2018-10-10T00:00:00Z",body:"なぜ営業キャッシュフローでは減価償却費をプラスとして扱うのか？ 大きな設備投資などを行うと、損益計算書 (P/L) では減価償却費として毎年少しずつ費用計上していくことになります。 一方、キャッシュフロー計算書では、減価償却費がプラスとして計上されているのを見て最初は疑問に思うかもしれません。 営業活動によるキャッシュ・フロー -------------------------------- 当期純利益 1500 減価償却費 300 ←なぜプラス？ 退職・年金費用 △200 ... この理由は、営業キャッシュフローのベースになっている「当期純利益」の内訳にあります。 当期純利益にはすでに減価償却費だけマイナスされた値になっており（損益計算書でマイナス計上されたものが反映されている）、この数値をそのまま営業キャッシュフローの値として使ってしまうと、実際には現金の流れがないのにキャッシュフローがマイナスになってしまいます。 そのため、減価償却費の分を足してやることで、その部分のキャッシュフローを±0にしています。 営業活動によるキャッシュ・フロー -------------------------------- 当期純利益 1500 ←実は既に減価償却費の -300 が含まれている 減価償却費 300 ←上記のマイナス分を打ち消して 0 にする 退職・年金費用 △200 ... ひとことで言うと、当期純利益の内訳から減価償却費に当たる部分を取り除いているということです。 つまり、ただの計算上の調整ですね。"},{url:"/p/f7h5tcr/",title:"外務員試験 (1-3) 「金融商品の勧誘・販売に関係する法律」の出題パターン",date:"2018-09-08T00:00:00Z",body:"外務員試験 (1-3) 「金融商品の勧誘・販売に関係する法律」の出題パターン 金融商品販売法（金融商品の販売等に関する法律） 問題 答え 「金融商品の販売等に関する法律」では、説明義務違反により顧客に損害が生じた場合の損害賠償責任及び損害額の推定について規定されている。 ◯ 「金融商品の販売等に関する法律」では、金融商品販売業者等による重要事項の説明義務は、すべての顧客に対して適用される。 × 重要事項の説明は、書面の交付による方法でも可能ですが、顧客の知識、経験、財産の状況及び当該金融商品の販売に係る契約を締結する目的に照らして、当該顧客に理解されるために必要な方法及び程度によるものでなければなりません（金融商品販売法3条2項）。 「金融商品の販売等に関する法律」では、顧客から重要事項について説明を要しない旨の意思表明があっても、金融商品販売業者等による重要事項の説明義務は免除されない。 × 重要事項の説明義務（金融商品販売法3条）は、顧客が特定顧客でない場合でも、「重要事項について説明を要しない旨の意思の表明があった場合」には免除されることとなっています（同条7項）。"},{url:"/p/vzadgny/",title:"外務員試験 (1-4) 「協会定款・諸規則」の出題パターン",date:"2018-09-08T00:00:00Z",body:"外務員試験 (1-4) 「協会定款・諸規則」の出題パターン 協会の諸規則 問題 答え 会員は、顧客から単純な寄託契約等により有価証券の寄託を受ける場合には、当該顧客と保護預かり約款に基づく有価証券の寄託に関する契約を締結しなければならない。 ◯ 単純な寄託契約又は混蔵寄託契約により寄託を受ける場合は、保護預りに関する契約の締結が必要です（3条1項）。 会員は、初めて有価証券の売買その他の取引等に係る顧客の口座を開設しようする場合は、あらかじめ、当該顧客から反社会的勢力でない旨の確約を受けなければならない。 ◯ （2条） 「仮名取引」とは、顧客が架空名義あるいは他人の名義を使用してその取引の法的効果を得ようとする取引のことをいう。 ◯ （7条3項11号） 協会員が外務員の職務を行わせることのできる者は、外務員資格を有する者又は外務員の登録を受けた者である。 × その者の指名、生年月日、その他の事項につき、協会に備える外務員登録原簿に登録をうけなければなりません（3条）。 協会員は顧客から保管の委託を受けた外国証券について、発行者から交付された通知書及び資料等を保管し、顧客の閲覧に供するとともに、顧客より請求を受けた場合には、発行者から交付された通知書及び資料等を交付しなければならない。 ◯ （6条1項、3項） 法人関係情報の管理体制 問題 答え 協会員は、法人関係情報の管理部門を定めなければならない。 ◯ （3条） 協会員は、法人関係情報を取得した役職員に対し、当該取得した法人関係情報を直ちに管理部門に報告するなど法人関係情報を取得した際の管理のために必要な手続を定めなければならない。 ◯ （5条） 協会員は、法人関係部門について、他の部門から物理的に隔離する等、法人関係情報が業務上不必要な部門に伝わらないよう管理しなければならない。 ◯ （6条） 法人関係部門とは、法人関係情報を統括して管理する部門をいう。 × 「法人関係部門」とは、法人関係情報を取得する可能性の高い部門のこと。問題文は「管理部門」の説明。 協会員は、法人関係情報の管理に関し、社内規則に基づき適切に行われているか否かについて、定期的な検査等のモニタリングまでは行う必要はない。 × 定期的なモニタリングが必要です。"},{url:"/p/7xthjny/",title:"外務員試験 (2-1) 「株式業務」の出題パターン",date:"2018-09-08T00:00:00Z",body:"外務員試験 (2-1) 「株式業務」の出題パターン 取引の種類 問題 答え 取引所は、取引所金融市場において成立した取引価格（最高、最低及び最終価格）などを、毎営業日、公表することが金融商品取引法により義務付けられている。 ◯ （金商法130条） 売買の受託 問題 答え 顧客が東京証券取引所の立会内売買に係る上場株式の委託注文を行う際に、金融商品取引業者に指示すべき事項の一つに「委託注文の有効期間」がある。 ◯ （東証「受託契約準則」6条） 株式の売買に係る委託手数料は、取引所の定める受託契約準則により売買代金に応じて規定されている。 × 手数料は1999年10月以降、完全自由化が実施され、金融商品取引業者と顧客との合意により定められています。 金融商品取引所における株式の売買 問題 答え 立会外売買の取引対象銘柄にETFやJ-REITは含まれない。 × 立会外売買とは取引所取引の一形態であって、対象銘柄・決済日・信用取引の利用等は通常の立会内売買と同様です。 株式の上場 問題 答え ブック・ビルディングによる公開価格は、競争入札による公募等における落札加重平均価格により、上場日までの期間における有価証券の相場の変動により発生し得る危険及び需要見通し等を総合的に勘案して決定される。 × 上場予定会社の財政状態及び経営成績並びに有価証券に対する投資に係る専門的知識及び経験を有する者の意見その他の公開価格の決定に関し参考となる資料及び意見を総合的に勘案し、公開価格に係る仮条件を決定します。"},{url:"/p/n9x5dyh/",title:"外務員試験 (1-2) 「金融商品取引法」の出題パターン",date:"2018-09-03T00:00:00Z",body:"外務員試験 (1-2) 「金融商品取引法」の出題パターン 金融商品取引業者 問題 答え 金融商品取引業者等は、金融商品取引法に違反する悪質な行為を外務員が行った場合、その行為が代理権の範囲外であれば、その監督責任を免れることができる。 × 外務員の行為の効果は、直接金融商品取引業者に帰属します。 金融商品取引業者は、その行う金融商品取引業の内容について広告をするときは、当該金融商品取引業者等の登録番号を表示しなければならない。 ◯ 金融商品取引法では、投資家を特定投資家と一般投資家に区分し、この区分に応じて金融商品取引業者等の行為帰省の適用に差異を設けている。 ◯ 金融商品取引業者は、有価証券の売買の勧誘を行う者について例外なく外務員登録をしなければならない。 ◯ 金融商品取引業者の従業員は、金融商品取引法に定める監督上の処分により外務員の登録を取り消されたとしても、その取り消しの日から1年を経過すれば外務員の登録を受けられる。 × 5年を経過しない者は内閣総理大臣によって登録を拒否されます。 金融商品取引業者は、登録を受けている外務員が退職その他の理由により外務員の職務を行わないこととなったときは、遅滞なくその旨を内閣総理大臣（金融庁長官）に届け出なければならない。 ◯ 外務員は、その所属する金融商品取引業者に代わって、有価証券の売買等法律に規定する行為に関し、一切の裁判上および裁判外の行為を行う権限を有するものとみなされる。 × 一切の裁判外の行為を行う権限を有するものとみなされます。 金融商品取引業者は、当該金融商品取引業者に所属する外務員の負った債務について、直接履行責任を負う必要はない。 × 外務員の負った債務について直接履行する責任を負います。 金融商品取引業者が私設取引システム (PTS) 運営業務を行う場合には、内閣総理大臣へ届出を行わなければならない。 × 内閣総理大臣の認可を受けなければなりません。 金融商品取引業者は、自己資本規制比率が120パーセントを下回らないようにしなければなりません。 ◯ 金融商品取引業者等は、金融商品取引契約を締結する際、あらかじめ契約締結前交付書面を交付していれば、顧客の適合性を踏まえた説明を行う必要はない。 × 書面を交付しさえすればそれで足りるというように解されてはいけません。 金融商品取引業者等は、金融商品取引契約が成立したときその他内閣府令で定めるときは、遅滞なく、内閣府令で定めるところにより、必ず書面を作成し、これを顧客に交付しなければならない。 × 契約の内容その他の事情を勘案し、当該書面を顧客に交付しなくても公益又は投資者保護のため支障を生ずることがないと認められるものとして内閣府令で定める場合は、この限りではありません。 情報開示・会計・監査・内部統制 問題 答え 有価証券の募集または売出しについて、発行者が当該募集または売出しに関する届出を内閣総理大臣に対して行う必要はない。 × 募集や売出しは、内閣総理大臣に届出をしておく必要があります。 株券等の大量保有の状況に関する開示制度 問題 答え 大量保有報告書または変更報告書は3年間公衆の縦覧に供される。 × 5年間公衆の縦覧に供されます。 大量保有報告制度の対象となる有価証券の範囲には、新株予約権証券が含まれる。 ◯ ただし、議決権のない株式のみを取得する権利のみを付与されているものは除きます。"},{url:"/p/jjxihcd/",title:"外務員試験 (1-1) 「証券市場の基礎知識」の出題パターン",date:"2018-09-02T00:00:00Z",body:"外務員試験 (1-1) 「証券市場の基礎知識」の出題パターン 金融市場 問題 答え 株式の発行による企業の資金調達は、間接金融に区分される。 × 株式や債券の発行は直接金融による資金調達に区分されます。 株式市場や債券市場は直接金融である。 ◯ 銀行などの金融機関の仲介がないため直接金融です。 間接金融では、金融機関が資金の回収リスクを負わない。 × 銀行などの金融機関が資金の回収リスクを負います。 直接金融では金融機関が資金回収にかかわるリスクを負い、間接金融では資金の最終的貸手（投資者）がリスクを追う。 × 逆です。 証券市場 問題 答え 証券市場は、証券を発行して最終的には市場で流通させるという観点から見て、発行市場と流通市場に分けることができる。 ◯ 発行市場は、投資家が、企業などの発行者が発行する証券を直接取得する市場である。 ◯ 流通市場は、すでに発行された証券が、次の第二次、第三次投資者へ転々と流通する市場である。 ◯ 流通市場は、取得されて既発行となった証券が第1次投資者から、第2次、第3次の投資者に転々と流通（売買）する市場である。 ◯ 流通市場の取引は、取引所取引と店頭取引の2つの市場のみである。 × 取引所取引、店頭取引の他にもPTSがあります。 PTS は、証券会社の窓口などで相対で行われる取引である。 × 証券会社が運営する取引システムです。 株式の流通市場の中心は、取引所取引である。 ◯ 金融商品取引業 問題 答え 金融商品取引業者が、金融商品取引業を営むには、金融庁の登録を受けなければならない。 × 内閣総理大臣の登録を受けなければなりません。 第二種金融商品取引業では、従来の保護預りを含む証券業や、金融先物取引業等を行う。 × 従来の商品投資販売業や、信託受益権販売業等を行います。 投資助言・代理業では、従来の投資顧問業等を行う。 ◯ 投資助言・代理業では、投資顧問契約を締結し、有価証券の価値や金融商品の価値等の分析に基づく投資助言業務等を行います。 投資運用業の業務内容には、投資信託委託業は含まれない。 × 投資運用業の業務内容には、投資信託委託業が含まれます。 平成19年に金融商品取引法が施行され、金融商品取引業者の業務は、これまでの証券会社の業務範囲よりも広いものとなった。 ◯ 振替制度では、株式等の配当金の支払いにおいて、全銘柄の配当金を同一の預金口座で受領する方法や、証券会社を通じて配当金を受領する方法を選択することができる。 ◯ 主要な証券関係機関 問題 答え 主な自主規制機関には、各金融商品取引所、日本証券業協会、投資信託協会などがある。 ◯ 自主規制機関には、金商法により権限が与えられています。 証券取引等監視委員会には強制調査権が付与され、証券業買いにおける規制の違反者に対して調査当局へ告発することができる。 ◯ 内閣総理大臣などへの行政処分の勧告を行うこともできます。 投資者保護基金の一般顧客に対する支払最高限度額は、一顧客当たり1,000万円である。 ◯ 証券金融会社は、資本金1億円以上で、内閣総理大臣の認可を受けた証券金融専門の株式会社である。 × 内閣総理大臣の免許を受けた証券金融専門の株式会社です。 証券保管振替機構（ほふり）は、国債以外の有価証券の決済及び管理業務を集中的に行う、日本で唯一の証券決済機関である。 ◯ 日本銀行は、(1)政策金利操作、(2)公開市場操作、(3)預金準備率操作等の金融政策を行う。 ◯"},{url:"/p/9ifnpwh/",title:"外務員試験 (1-5) 「取引所・定款諸規則」の出題パターン",date:"2018-09-02T00:00:00Z",body:"外務員試験 (1-5) 「取引所・定款諸規則」の出題パターン 取引所定款・取引参加者規定 問題 答え 東京証券取引所における取引参加者は、総合取引参加者の1種類のみである。 ◯ 東京証券取引所における総合取引参加者とは、有価証券の売買を行うことができる者のことである。 ◯ 東証の取引参加者は、有価証券の売買を行うことができる総合取引参加者の1種類である。 ◯ 金融商品取引所の取引参加者のうち、総合取引参加者とは、有価証券の売買等を行うことができる者をいう。 ◯ 取引所の取引参加者の資格取得において総合取引参加者になれるのは、登録金融機関である。 金融商品取引業者または取引所取引許可業者。 取引参加者は、取引所市場における有価証券の売買等の委託を受けるときは、あらかじめ顧客の住所、氏名その他の事項を調査しなければならない。 ◯ 有価証券の上場規定 問題 答え 国債証券は、発行者からの上場申請がなくても上場できる。 ◯ 国債だけは上場申請が必要ありません。 地方債証券の上場に関しては、発行者からの上場申請が必要である。 ◯ 国債以外は、発行者による上場申請が必要です。 転換社債型新株予約権付社債券は、発行者が上場申請しなくても上場できる。 × 国債以外は、発行者による上場申請が必要です。 転換社債型新株予約券付社債券の上場審査では、発行者が取引所の上場会社であれば、無条件で上場が認められる。 × 上場申請銘柄に対する基準があります。 金融商品取引所は転換社債型新株予約権付社債権の上場に際して、その発行会社の発行する株券が上場されていれば、当該転換社債型新株予約権付債券の上場審査を行わずに上場を決定することとなっている。 × 国債以外は、上場審査基準に基づき審査が行われます。 ある金融商品取引所に上場されている有価証券であれば、国内の他のすべての金融商品取引所の市場において売買を行うことができる。 × それぞれの取引所で上場する必要があります。 取引所は、当該取引所にすでに上場されている株券の発行者が新たに発行する株券についても、原則として上場審査を行う。 × すでに上場されている株券等の発行者が、新たに発行する場合は、原則として上場を承認するものとされています。 取引所における上場審査基準である形式基準には、株主数や流通株式、時価総額などがある。 ◯ 形式基準はすべて適合することが必要です。 株券の上場審査には、株主数、流通株式、時価総額、純資産の額などの基準がある。 ◯ 小切手や約束手形は上場対象の有価証券である。 × 上場会社の普通株が上場廃止となっても、その会社が発行している優先株は上場廃止とはならない。 × 普通株が上場廃止となった場合は、同時に優先株も上場廃止となります。 東京証券取引所に上場されている転換社債型新株予約券付社債券の上場が廃止されるのは、当該上場転換社債型新株予約権付社債権が上場額面総額等所定の事項について定められた上場廃止基準のすべてに該当する場合である。 × いずれか1つでも該当すれば上場廃止です。 「売買高」は、市場第一部銘柄から市場第二部銘柄への指定替え基準の1つである。 ◯ 指定替え基準のうち1つでも該当すると、市場第二部銘柄へ指定替えされます。 新規上場内国株券は、特に高い流動性が見込まれる銘柄について、新規上場申請者からの申請がある場合には、上場時に市場第一部銘柄に指定できる。 ◯ いきなり東証一部に上場することができます。 取引所市場における業務規定 問題 答え 取引所内での売買契約の締結は、価格優先の原則にあてはめ、次に時間優先の原則にあてはめることで優先順位が決められる。 ◯ 指値による呼値は、成行による呼値に優先する。 × 成行が優先です。 売呼値は、低い値段が高い値段に優先する。 ◯ 価格優先の原則とは、売呼値においては、低い値段の売呼値が高い値段の売呼値に優先し、買呼値において、高い値段の買呼値が低い値段の買呼値に優先することである。 ◯ 株券等の取引所取引における権利落・配当落の期日は、権利確定日の3営業日前である。 × 権利落するのは、権利確定日の2営業日前です。 売買立会の始値を決定する場合は、ザラ場方式で行われる。 × 売買立会の始値・終値は板寄せにより行われます。 国債の制限値幅は上下3円である。 × 上下1円です。 国際及び外国債券の制限値幅は1円であり、いかなる場合においても制限値幅を変更することはない。 東京証券取引所の売買立会による売買において、1単元の株式の数を定めていない会社の発行する上場株券は、1株を売買単位として取引を行うこととされている。 ◯ 清算・決済規定及び受託契約準則 問題 答え 金融商品取引所の定める「受託契約準則」は、当該取引所と金融商品取引業者との間における取引所取引に関する契約内容を定めたものであり、金融商品取引業者にはこれを遵守すべき義務があるが、顧客にはこれを遵守すべき義務はない。 取引参加者と顧客との間の契約内容を定めたもので、顧客にも遵守すべき義務があります。 金融商品取引業者が東京証券取引所市場において、有価証券の売買等を受託するにあたっては、取引所の定める「受託契約準則」によらなければならず、金融商品取引業者にはこれを遵守すべき義務があるが、顧客にはこれを遵守すべき義務はない。 同上。 取引所の定める受託契約準則は、取引参加者だけでなく、その顧客も遵守すべき義務がある。 ◯ 取引参加者と顧客は対等の立場で契約を締結する、とされています。 （精算機関による）ネッティング決済とは、決済日を同一とする各清算参加者の証券及び代金に係る売り買い数量、金額をそれぞれ交互に相殺し、その差額を受け渡すものである。 ◯ 各取引所による有価証券の売買は、清算機関によるネッティング決済で決済が行われています。 有価証券等清算取次ぎは、清算参加者に清算機関との間で清算を行わせるために名義上清算参加者の名によって売買を成立させるための行為である。 ◯ 発行日取引において、地方債証券を委託保証金の代用有価証券とすることができる。 ◯ 他にも、国内の上場株券、国債証券も委託保証金の代用有価証券とすることができます。 有価証券の売買に係る金銭の授受は、すべて円貨で行うことが前提であり、外貨による受け渡しは一切認められていない。 × 円貨による授受が基本ですが、受託取引参加者が同意した場合は、顧客の指定する外貨により授受を行うことができます。 有価証券の売買に係る顧客と取引参加者との間の金銭の授受は、必ず円貨で行われなければならない。 × 同上。"},{url:"/p/yewzefj/",title:"読書メモ『ホントは教えたくない資産運用のカラクリ』安間 伸",date:"2018-08-19T00:00:00Z",body:"読書メモ『ホントは教えたくない資産運用のカラクリ』安間 伸 ホントは教えたくない資産運用のカラクリ 投資と税金篇 安間 伸 東洋経済新報社 ホントは教えたくない資産運用のカラクリ タブーとリスク篇 安間 伸 東洋経済新報社 メモ 高金利通貨はおトクというウソ 外貨建ての金融資産には、基準通貨のインフレ率が紛れ込んでいるから、単純に収益率だけを見て優劣をつけるのは危険。 購買力平価 (PPP) の考え方によれば、インフレ通貨は安くなり、デフレ通貨は高くなる。つまり、為替レートは両国のインフレ格差に強く影響される。インフレ通貨≒高金利通貨なので、高金利通貨は長期的に安くなる。名目金利が高いので、落ち着いているときには金利に惹かれて投資家がよってくるので、「じわじわ上がって、短期間に落ちる」ということを繰り返すが、長期的には日本円購買力平価に沿って下がっていく。 預金金利（短期金利）＝インフレ率＋実質金利＝正確には、(1＋インフレ率)(1＋実質金利)−1 であり、高金利通貨というのはこの左辺が大きく、収益が多そうに見えているもの。実質金利にあまり差がないのであれば、インフレ率が高いということ。つまり、高金利通貨による収益は、インフレによって相殺されてしまう。 経済を健全に成長させるためには、1〜3％くらいのインフレがあったほうがよい。そうすれば、いま借金をして、新しいビジネスに挑戦する人を助けることになるし、お金持ちも今の蓄えに安住することなく投資をする。 インフレは借金を目減りさせる魔法なので、借金の多い政府はインフレを起こしたがる。「国家債務はどんなに大きくても問題ない」と強弁する政治家が力を持つようになってきたら、投資家としてインフレを視野に入れた対策をすべき。 このあたりの基本を押さえていれば、なぜトルコリラの下落が続いているかも分かってきますね。 現代投資理論 現代投資理論における「リスク」とは、標準偏差で示される価格変動の大きさと定義。そして、資産を複数組み合わせることによって、それを抑えることができる分散効果。 価格変動が怖いのは短期の投資家だけであり、長期の投資家にとっては収益率がより重要になる。投資期間が長ければ、ハイリスク・ハイリターンの資産を組み入れる比率を上げる。簡単に言うと、ひたすら期待収益率の高い（ハイリスク・ハイリターン）の投資を長期間続けていけば、短期的には損することはあっても長期的にはより儲けられるということ。"},{url:"/p/kzobryq/",title:"会社を持つということとは",date:"2018-07-09T00:00:00Z",body:"会社を持つということとは 安全を捨て自由を選ぶ 従業員、サラリーマンを辞めて起業するということは、自由を選ぶということですが、それと同時に安全を手放すということでもあります。 ロバート・キヨサキの金持ち父さんは、**「世の中で一番安全なのは刑務所だ」**と言っています。 厳重に警備されているので安全だけど、そこには自由はほとんどありません。 自由を手に入れるには、安全を手放すという覚悟を持たなければいけません。 それができたとき、初めて本当の自由を手に入れる道が開かれます。 従業員を持つ会社を作るときに考えるべきこと 会社を作り、自由を得るということは、その会社が果たすべき責任も一緒についてくるということです。 特に、従業員を持つ会社を作ったときには、 従業員のしあわせ 会社の利益 社会への貢献 について考えていかなければいけません。 事業計画はもちろん重要ですが、会社として従業員とどう関わっていくのか、社会にどう貢献するのか、社会をどう変えていきたいのかを考えられるとよいですね。"},{url:"/p/s35p6rc/",title:"株主の権利",date:"2018-06-26T00:00:00Z",body:"株主の権利 自益権と共益権 株式会社の所有者である株主には、自益権と共益権が与えられます。 自益権 会社から経済的利益を受ける権利。配当金（剰余金配当請求権）や解散時の分け前（残余財産分配請求権）を受け取る権利があります。 共益権 会社の経営に参加する権利。一定数の株式を保有していない場合に議決権を与えないということも可能です。 共益権には、1株でも持っている人に与えられる権利「単独株主権」と、一定数あるいは一定比率を持っている人にだけ与えられる権利「少数株主権」があります。 単独株主権: 1株でも所有していれば行使できる権利。株主総会での議決権、代表訴訟提起権など。 少数株主権: 一定数、あるいは一定比率の株式を所有している人のみが行使できる権利。株主総会招集請求権、帳簿の閲覧権など。 少数株主権という名前は紛らわしいので注意が必要ですね。 保有している株が少数ということではなくて、少数しかいないという意味で、実際にはたくさん株を持っている人たち（大株主など）に少数株主権が与えられます。 少数株主権には、何か重要な事象が発生した場合に株主総会の招集を請求する権利が含まれています。 1株だけ持っている株主にもこのような権利を与えてしまうと、頻繁な招集請求などが行われて経営が成り立たなくなってしまう可能性があります。 このようなことを防ぐため、ある程度の株式を保有している人にのみ与えられる権利として認められています。 自己株式における権利 会社が発行した株式を株主から買い戻したものを「自己株式」と呼びます（「金庫株」と呼ぶこともあります）。 この自己株式には、自益権や共益権は認められません。 会社自身が議決権を行使したり、配当を受けることはできなくなっています。 単元株制度 議決権を行使するために保有しなければいけない最低の株式数を定める制度を、単元株制度といいます。 1議決権を与える株式数のことを、1単元といい、1単元は最大1000株とされています。 株主の共益権としては、1株でも所有していれば議決権を持つことができる単独株主権が与えられるのですが、それだと、例えば現在の株価が100円だとすると、わずか100円払っただけで株主総会に出席できることになってしまいます。 株主への通知や株主総会の開催にはコストがかかるので、そういった少額の資金しか提供していない株主には議決権を与えないようにするために単元株制度が定められました。 証券取引所に置ける売買の単位も1単元ごととなっています（証券会社によってはミニ株という単元未満株の取引ができるサービスを提供しているところもあります）。"},{url:"/p/r5vxvrs/",title:"株式の種類",date:"2018-06-26T00:00:00Z",body:"株式の種類 株式には通常の株式（普通株式）の他にも、種類株式と呼ばれる、様々な権利や制限の付いた株式があります。 配当観点での株式の分類 剰余金または残余財産の配当および配分に関する株式の分類として下記の3種類があります。 普通株式 剰余金の配当に関して、標準的な扱いを受ける株式。 優先株式 剰余金の配当に関して、普通株式よりも優先的扱いを受ける株式。 劣後株式（れつごかぶしき） 剰余金の配当に関して、普通株式よりも劣った扱いを受ける株式。 制限観点での株式の分類 また、議決権や譲渡に関して制限を与えることのできる株式も発行することができます。 議決権制限（種類）株式 議決権がまったくない株式、あるいは、一部の議決権だけ与えられる株式。特に、すべての事項に関して議決権を持たない株式を、完全無議決権株式といいます。 譲渡制限（種類）株式 株式を他者に譲渡するときに会社の承認を必要とする株式。 公開会社（上場されている会社）においては、議決権制限株式は発行済株式総数の1/2を超えてはいけないとされています。 あまりにも少ない株主によって議決権が行使されるのは望ましくないと考えられるためです。 譲渡制限株式は、主に身内を株主とする株式会社を経営するときに発行します。 近くの仲間同士で会社を経営していこうと決めたのに、突然見知らぬ人に株式を譲渡されて、経営に口出しをされるようになると困るわけです。 このようなことを防ぐために、勝手に譲渡されないようにする譲渡制限を付けて発行する種類株式が、譲渡制限株式です。 新株予約権 新株予約権者が予約権を行使した場合は、会社は新株や手持ちの自己株式で対応することができます。 新株予約権付社債は、新株予約権と社債の両方の性質を持ち、どちらかが消滅するまでは、両方を一体としてしか譲渡することができません。"},{url:"/p/3oo995y/",title:"株式会社の設立",date:"2018-06-26T00:00:00Z",body:"株式会社の設立 株式会社設立の手順 株式会社を設立するときは、 実体の形成 定款の作成（会社の名前や目的を決める） 社員の確定（最初の株主を決める） 機関の具備 法人格の取得 が必要です。 定款 会社を設立するときは、会社の名前や目的などを示した定款を作成する必要があります。 定款には必ず記述しなければいけないこと（絶対的記載事項）が定められており、例えば次のような項目が必須となっています。 目的 称号 本店の所在地 設立に対して出資される財産の価額またはその最低額 発起人の氏名または名称及び住所 発起設立と募集設立 株式会社の設立は、その社員の確定方法（最初の株主の決め方）によって、発起設立と募集設立に分類されます。 発起設立 会社設立時に発行するすべての株式を発起人（会社を作ろうとしている人）が引き受けます。 募集設立 会社設立時に発行する一部の株式を発起人が引き受け、残りは株主となる人に購入してもらいます（募集）。一部は発起人が引き受ける必要があり、すべてを募集にまわすことはできません。 発起設立は、会社を作ろうとして人のみが出資するため、設立の手続きは比較的容易なものとなっています。 一方で、募集設立の場合、発起人以外の人からもお金を集めることになるため、手続きが複雑になっています。 そのため、多くの株式会社は発起設立により設立されています。 設立無効 会社の設立登記が完了したとしても、その設立手続に法令違反などがあれば、本来であればその設立は無効となるはずです。 しかし、会社の設立には多くの人が関わっているため、会社法では「設立無効の訴え」の制度を定め、訴えによってのみ設立無効が成立するようになっています。 設立無効の訴えを主張できるのは株主と取締役等に限られ、設立登記から2年以内に裁判所に訴えることによってのみ認められす。 会社設立時の株式数 会社設立時に発行する株式数は、定款に定めた発行可能株式総数の1/4以上でなければいけません。"},{url:"/p/c24qkcu/",title:"株式会社法",date:"2018-06-26T00:00:00Z",body:"株式会社法 会社法は2006年5月に施行された法律で、会社の設立から解散までの活動や、会社の機関について規定しています。 2006年5月以前は、商法、商法特例法、有限会社法などの法律を合わせて会社について規定していました（通称としての「会社法」）。 そのため、現在の会社法のことを、新会社法と呼ぶこともありました。"},{url:"/p/6fit5yv/",title:"会社の合併と分割",date:"2018-06-24T00:00:00Z",body:"会社の合併と分割 会社合併 新設合併 合併対象となる全ての会社が解散し、新会社を設立します。 吸収合併 1 つの会社が存続し、他の会社を吸収します。 解散する会社の株主には、新設する会社、あるいは存続する会社の新株を代わりに割り当てられます。 会社の分割 新設分割 事業の部門を切り離し、新しい会社として独立させます。新設される会社が発行する株式を、分割される会社（分割会社）の株主に割り当てることが認められています。 吸収分割 事業の部門を切り離し、既存の会社に吸収させます。 完全親会社と完全子会社 B 社株 → A 社株に交換 ← A 社がすべて取得 A 社と B 社が株式交換契約を結び、B 社の株を A 社株にすべて交換し、A 社が B 社の発行済株式をすべて取得すると、A 社は B 社の完全親会社となります（B 社は完全子会社）。"},{url:"/p/62zyd4i/",title:"アーンアウトディールという買収手法",date:"2018-05-14T00:00:00Z",body:"アーンアウトディールという買収手法 アーンアウトディールの概要 買収リスクの高い M&amp;A を行うときに、アーンアウトディール (Earn Out Deal) という形態で買収が行われることがあります。 これは、買収時にすべての買収費用を支払うのではなく、その事業の将来的な成果などによって追加報酬を支払うという契約で、ひとことで言うと 「買収費用の分割払い」 です。 アーンアウトというのは、買収後の追加代金の支払い義務のことです。 追加の支払いの有無や金額を決める、アーンアウトの評価期間は一般的には３年以内に設定されることがほとんどで、この期間に出した成果に応じて売り手側（幹部や株主）に買収対価が分割で支払われます。 企業の売り手側には、売却後もしばらくはその経営に携わって結果を出そうというインセンティブが働きます。 アーンアウトディールのメリット／デメリット メリット デメリット 買い手 買収時に多額のキャッシュを用意する必要がなくなり、事業がうまくいかなかった場合の支払いを限定できる。 買い手側があまり経営に口を出すと、売り手側の経営のモチベーションが下がる可能性がある。 売り手 売却後に成果を出すことで多くのキャッシュを得ることができる可能性がある。 （一括での売却と比べ）売却時に得られるキャッシュは少なくなる。売却後もしばらくは経営に関与する必要がある。 国内のアーンアウトディールの例 アーンアウトはアメリカで主流でしたが、日本国内でもアーンアウト条項を含む買収契約がちらほら行われています。 2018年4月6日のマネックスによるコインチェックの買収では、まずは36億円が支払われましたが、契約にはアーンアウト条項が含まれていました。 コインチェックが今後3年間で計上する利益の半分から訴訟費用などを差し引いたものを、追加の買収費用（報酬）として支払うというものです。 正式な契約書の文章ではありませんが、プレスリリース内の下記のような記述からアーンアウト条項がつけられていることが分かります。 上記に加えて、コインチェックの現所有者との間で条件付対価に関する合意がなされています。今後3事業年度の当期純利益の合計額の二分の一を上限とし、一定の事業上のリスクを控除して算出される金額が追加で発生する可能性があります。 仮想通貨 NEM の流出事件によって、コインチェックは今後 20 億円程度の訴訟費用がかかると試算されています。 アーンアウト条項によって、「この訴訟費用以上にちゃんと稼いでくださいね」と約束したことになります。 うまいやり方ですね。"},{url:"/p/zk8ofzn/",title:"自主規制機関 (SRO: Self-Regulatory Organizations)",date:"2018-04-21T00:00:00Z",body:"自主規制機関 (SRO: Self-Regulatory Organizations) 自主規制機関とは、金融商品取引法により自主規制の権限を付与され、自らの定款や諸規則によって取引のルールを定めている団体です。 簡単に言えば、「その団体で決めたルールは、厳密には法律ではないけれど、法律と同じような強制力がありますよ」ということです。 日本の自主規制機関 日本の主な自主規制機関としては、下記があります。 各証券取引所（= 金融商品取引所） 日本証券業協会（金商法上の認可金融商品取引業協会） 投資信託協会（金商法上の公益法人金融商品取引業協会） このうち、日本証券業協会と投資信託協会は、金商法での定義ではどちらも金融商品取引業協会になります。 より正確には、日本証券業協会は認可金融商品取引業協会、投資信託協会は公益法人金融商品取引業協会です。 認可金融商品取引業協会 金融商品取引業者が組織した金融商品取引上の法人であり、その設立には内閣総理大臣の認可が必要です。 日本証券業協会は、認可金融商品取引業協会のひとつです。 公益法人金融商品取引業協会 金融商品取引業者が民法第34条の規定（公益法人に関する規定）により設立した法人であり、金融商品取引業者等に対して禁輸商品取引法等を遵守させるための指導、勧告その他の業務などを行う者として内閣総理大臣が認定した者をいいます。 投資信託協会は、公益法人金融商品取引業協会のひとつです。 これらの機関を通じて制定された自主規制は、監督官庁（金融庁）の公的規制と並び、金融商品取引業規制の柱となっています。 アメリカの自主規制機関 このような法律に裏付けされた自主規制の仕組みは、もともとはアメリカから輸入されたものです。 アメリカの証券界の自主規制機関には、国法証券取引所、および、FINTA（Financial Industory Regulatory Authority: 金融取引業規制機構） があります。 両者は SEC (Securities and Exchange Commission: 証券取引委員会）と連携を取りながら、様々な自主規制措置を講じています。"},{url:"/p/9gvwaj2/",title:"投資関連用語集",date:"2018-04-08T00:00:00Z",body:"投資関連用語集 株式投資や FX トレードなどに役立つ用語を日々追加中。 登録数: 408（随時追加中） ALL あ行 か行 さ行 た行 な行 は行 ま行 や行 ら行 わ行 その他 1. アービトラージ（あーびとらーじ）取引 裁定取引 異なる市場間で、本質的には同じ商品を、異なる価格や金利で売買することによって利益をあげようとする取引。 裁定取引ともいいます（ここでいう裁定とは、手動で取引するという意味での裁定ではないことに注意）。 📗関連用語: アーブ 2. アーブ（あーぶ）取引 アービトラージ（裁定取引）による利益を狙うサヤ取りトレーダーのこと。 📗関連用語: アービトラージ 3. 相対取引（あいたいとりひき）取引 店頭取引 取引所以外で行われる取引で、市場を介さずに 1 対 1 の売り手と買い手による合意によって成立するものを相対取引といいます。 取引所の上場基準を満たしていない証券などが取引されますが、日本証券業協会の定めた規則に従います。 店頭取引とも呼ばれますが、文字通り「店頭」で取引されるわけではなく、ネットなどを介して取引できます。 ほとんどの日本の FX 業者は相対取引を行っており、店頭 FX と呼ばれます。 📕対義語: 取引所取引 4. アイスバーグ注文（あいすばーぐちゅうもん）取引 1 つの注文を分割して行うアルゴリズム。例えば、10枚の注文を出すときに、板にその注文が見えないように、1 枚ずつ連続して約定させていきます。歩み値で、同時刻に連続した注文があれば、きっとそれはアイスバーグ注文。 5. アイフォ戦士（あいふぉせんし）番外 iFOREX Online Trading という FX 業者を使って、ハイレバレッジ 400 倍のトレーディングをする果敢（無謀？）な戦士のこと。 6. アメリカン（あめりかん）オプション オプションの世界でアメリカンと言えば、期間中（満期日）まではいつでも行使できるオプションのことを表します。←→ ヨーロピアン 7. 粗利（あらり） 売上総利益 売上から売上原価（商品の仕入れにかかったお金など）を引いたものです。 8. 粗利率（あらりりつ） 売上総利益率 売上に占める粗利益の割合。「粗利益／売上」で求められ、高いほどよいです。粗利益は、売上から原価を引いたものです。 📕対義語: 原価率 9. アーンアウトディール（あーんあうとでぃーる）Earn Out DealM&amp;A 企業買収を分割払いで行うこと。 買収後の業績によって、追加報酬のアーンアウト（追加代金の支払い）が実施されます。 📘もっと詳しく 10. あんこ入りの両建て／あんこの両建て（あんこのりょうだて） 利益の出ている状態の両建てのこと。例えば、最初に買いポジションを取り、価格が上がったところで売りポジションをとると、利益（あんこ）を挟むような形の両建てになるためこう呼びます。 11. イールドカーブ（いーるどかーぶ）債権金利 債券の残存期間と金利（利回り）を関係を表した曲線。ヨコ残存期間、タテ軸に金利をとります。通常は長期金利の方が短期金利より高く、この状態を順イールドと呼びます。逆に、短期金利の方が高くなることを逆イールドと呼びます。 12. 維持率（いじりつ）FX取引 証拠件維持率 （資産合計＋評価損益）／証拠金額。証拠金取引において、この維持率が一定値（50％など）を下回ると、取引会社によって強制ロスカットされます。 13. 一枚（いちまい） 取引所での売買の最小単位。 14. 一般信用取引（いっぱんしんようとりひき）取引 証券会社と顧客との間で合意された内容（返済期限など）に従って行う信用取引。 制度信用取引に比べて若干金利が高く設定されていますが、制度信用取引では扱っていない銘柄を信用売りできたりします。 📗関連用語: 制度信用取引 15. インカムゲイン（いんかむげいん） ある資産を持ち続けることによって、継続的かつ安定的に得られる現金収入。株式で言えば配当金、投資信託であれば収益分配金、銀行預金や利付債権であれば受取利子、不動産であれば家賃収入のこと。 📗関連用語: キャピタルゲイン 16. インザマネー（いんざまねー）ITM (in the money)オプション 現在の市場価格をもとに、コール・オプションあるいはプット・オプションの権利を行使した場合に利益が出る状態。例えば、ある銘柄が現在 3800 円の場合、3500 円のコールを買うのが権利行使価格がインザマネーということ。 17. インターバンク市場（いんたーばんくしじょう）市場 証券会社や銀行、為替ブローカーなどの金融機関のみの取引により形成されている市場。 18. 受取手形（うけとりてがた）経理 商品やサービスを提供したときに、現金の代わりに受け取る手形。手形なしで支払いの約束をするときは「売掛金」になります。 19. 売上債権（うりあげさいけん） 商品やサービスを提供したけれど、その代金をまだ受け取っていない未収入金のこと。 簡単に言うと、ツケで売った状態です。 売上債権には、証明書としての手形がある「受取手形」と、手形のない「売掛金」があります。 20. 売掛金（うりかけきん）経理 未収金のこと。商品やサービスを提供したが、その対価の支払いが行われていないときに、その金額が財務諸表に記入されます。支払いを後回しにして商品を売ることを「掛けで売る」といいます。 21. 売上総利益（うりあげそうりえき） 粗利 売上から売上原価（商品の仕入れにかかったお金など）を引いたものです。 22. 売上総利益率（うりあげそうりえきりつ） 粗利率 売上に占める粗利益の割合。「粗利益／売上」で求められ、高いほどよいです。粗利益は、売上から原価を引いたものです。 📕対義語: 原価率 23. 売上債権（うりあげさいけん）経理 売掛金や受取手形など、商品の売り上げ時に生じる債権の総称。 24. 売り残（うりのこり）取引 決済されていない信用売り「売り玉」の数。6 か月以内に買い戻しが行われます。 25. 売りポジ（うりぽじ）取引 「売りポジション」の略。 26. 上澄み吸収価格戦略（うわずみきゅうしゅうかかくせんりゃく）戦略 スキミング・プライシング戦略。新製品を発売するときに高めの価格を設定することで価値があることをアピールし、短期間に大きな利益を上げる戦略です。 27. エイジアン（えいじあん）オプション アジア型やアベレージ型とも呼ばれるオプションの種類で、期間中の平均値と、行使価格の差額を差金決済するオプションのことです。 28. エクイティ（えいくいてぃ）財務 株などの発行によって取得した返済義務のない資金のこと。 📗関連用語: プライベート・エクイティ 29. エキゾチック・オプション（えきぞちっく・おぷしょん）Exotic Optionsオプション プレーン・バニラ以外の特殊なオプションのこと。 通常のオプションは、単純な買いオプション（コールオプション）や売りオプション（プットオプション）などがありますが、エキゾチック・オプションはそれらの基本的な形式から外れたものです。 例えば、デジタル・オプション（バイナリ・オプション）や、アジアン・オプション、バリア・オプションなどがあります。 📕対義語: プレーン・バニラ 30. エクイティ・ファイナンス（えくいてぃ・ふぁいなんす）財務 新株発行を伴う資金調達。 31. 往復ビンタ（おうふくびんた）取引 高値になったときに買って、その直後の安値になったところで売ってしまうこと。 32. お化粧買い／ドレッシング買い（おけしょうがい／どれっしんぐがい）取引 月末や決算期末に、ファンドや企業が保有する株式の評価価値を上げるために買いを入れて相場を押し上げること。投資信託の評価額や、決算内容をよく見せるために行われることがあると言われていますが、実際にどの程度行われているのかは謎。 33. 押し目買い（おしめがい）取引 上昇トレンドの際に、一時的に価格が下がったところで買うこと。 📕対義語: 戻り売り 34. オシレーター（おしれーたー） 相場が「買われ過ぎ」あるいは「売られ過ぎ」かを判定するために用いるテクニカル指標。 35. 踊り場（おどりば） 企業の成長が一時的に低迷する時期のこと。 36. オプション取引（おぷしょんとりひき）取引 ある特定の金融商品を、将来のあらかじめ定められた期間ないし期日に、あらかじめ決められた価格と数量で買い付け、または売り付けることができる権利のことをオプションといいます。 このオプションを取引の対象としたものがオプション取引です。 買い付ける権利をコールオプション、売り付ける権利をプットオプションといいます。 37. オルタナティブ投資（おるたなてぃぶとうし） 代替的投資 様々な対象の金融商品に投資するスタイル。株式や債券などを用いる伝統的な投資に対し、機関投資家（金融機関や事業会社、年金運用法人など）がお金の出し手となる投資で、ヘッジファンドや、プライベート・エクイティ、不動産投資などがあります。 38. 回転売買（かいてんばいばい）取引 ひとつの銘柄を買って売る 1 サイクルのこと。現物の取引では、同一の資金での売買は 1 回転までしか行えませんが、信用取引であれば同一資金で多数の回転売買を行えます。 39. 買い残（かいのこり）取引 決済されていない信用買い（買い玉）の数。6 か月以内に売り戻しが行われます。 40. 買いポジ（かいぽじ）取引 「買いポジション」の略。 41. 額面金額（債権の）（がくめんきんがく）債権 債権の償還日に返還される金額です。 昔は物理的な債権の券面に記載されていたため、「額面」金額と呼ばれています。 42. 貸付信託（かしつけしんたく）金融 信託銀行が多数の顧客から資金を集め、長期貸付によって運用する信託商品。 現在募集している銀行はありません（例：三井住友信託銀行「平成21年9月21日以降、新規募集を取り止めさせていただいております」）。 43. 仮装売買（かそうばいばい）取引 同一人物が権利の移転を目的とせず、同一銘柄の売買を同時に行うことで、市場価格を意図的に操作することです。 金融商品取引法第159条で相場操縦行為として禁止されています。 仮装売買と同様のことを複数人で行うことを馴合売買と言います。 📗関連用語: 馴合売買 44. カバードワラント（かばーどわらんと）商品 2000年頃に外資系金融機関が始めた店頭オプション。つまり、投資家が取引所を使わず、金融機関と相対で売買するオプション商品です。取引所のルールが適用されないので自由度が高い反面、コストが高いというのが特徴です。例えば、日経225オプションなどと比べて限月や取引単位を自由に決められます。日本の取引所では流動性がほとんどない個別株オプションなども各金融機関の裁量で扱えます。 45. 株価収益率（かぶかしゅうえきりつ）指標 PER: Price Earnings Ratio 「株価 ÷ 一株利益(EPS)」で求められる倍率で、株価の割高・割安を判断するための指標です。 この指標は、企業が何年間の利益でその株価と同じ金額を回収できるかを示しています。 多くの場合は 10〜20 倍程度になりますが、成長企業の場合は 50 倍を超えることもありますし、問題のある企業では非常に低い倍率となる場合もあります。 46. 株式公開買い付け（かぶしきこうかいかいつけ）M&amp;A TOB: Take Over Bid 公開市場において株式の買い付けを行い、その企業の経営権を獲得する企業買収方法です。 その企業（取締役会）の合意がない場合は、敵対的 TOB と呼びます。 📗関連用語: 敵対的買収 47. 株式持ち合い（かぶしきもちあい）Cross-shareholding Cross-shareholding 協力関係にある企業間で、互いの株式を持ち合うこと。敵対的買収の防衛などのために行われています。 48. 空売り（からうり）戦略 保有していない株や先物を売ること。後ほど買い戻したときに、価格が下がっていれば利益になります。 49. カレンダースプリット取引（かれんだーすぷれっどとりひき）取引 先物取引におけるストラテジー取引の一種であり、この取引によりスプレッド値段を維持したまま、一度に先物取引の 2 つの異なる限月取引を行うことができます。 「期近限月の売付けと期先限月の買付け」あるいは「期近限月の買付けと期先限月の売付け」が同時に成立します。 中長期的に先物ポジションを保有する投資家が、ロール・オーバー（期先限月から期先限月への乗り換え）を確実に実行することができます。 50. 為替介入（かわせかいにゅう）為替 為替相場の急激な変動を抑えるために政府が行う為替操作。財務大臣の権限で行われます。 51. 勘定科目（かんじょうかもく）仕分会計 複式簿記による仕訳で使われる、会計上の名目（分類名の総称）です。大きく分けて、「資産」「負債」「純資産」「収益」「費用」のグループがあります。 52. 間接金融（かんせつきんゆう）市場 貸し手と借り手との間に銀行などの金融機関が介在して資金が融通される市場です。 資金回収のリスクは金融機関が負います（資金取り立てなどは銀行等が行います）。 📗関連用語: 直接金融 53. 期先（きさき）先物 先物取引における直近の限月より先の限月のこと。直近の限月のことは 期近 呼びます。 📗関連用語: 期近 54. 基準価額（きじゅんかがく）取引 投資信託の 1 口あたり（ものによっては 1 万口あたり）の値段。基本的に基準価額は 1 万円からスタートし、運用により資産価値が上がると基準価額も上がります。ただし、分配金が出るタイプの投資信託では、その度に基準価額は下がります。 55. 期近（きぢか）先物 先物取引のおける直近の限月のこと。例えば、今が 1 月ならば 3 月のこと。「一限月」とも言います。その次の限月（あるいはそれ以降の限月）のことは 期先 といいます。 📗関連用語: 期先 56. 期待インフレ率（きたいいんふれりつ）経済 将来の物価上昇率の予想値。大きく 2 種類あり、「家計の期待インフレ率」は日銀や内閣府による国民へのアンケート調査により求められます。「市場の期待インフレ率」は、BEI (ブレーク・イーブン・インフレ率）という普通国債の利回りから、物価連動国債の流通利回りを引いた値から求められます。消費者物価指数は、予想物価上昇率に連動した動きをすることが知られているため、政府は物価操作のために、期待インフレ率をごにょごにょしようとします。 57. 逆張り（ぎゃくばり）戦略 上昇トレンドのときに、売りから仕掛けること。あるいは、下降トレンドときに、買いから仕掛けること。トレンドの反転のタイミングを狙う戦略のこと。 📗関連用語: 順張り 58. キャピタルゲイン（きゃぴたるげいん）金融 金融商品などを売買することによって得られる利益。典型的なのは、株を安値で購入し、高値で売り抜けたときの価格差で得られる利益。 📗関連用語: インカムゲイン 59. キャピタルフライト（きゃぴたるふらいと）金融 資産が国外に流れ出ること。緩やかなキャプタルフライトは円安を招くため、日本にとってプラスだとされています。 60. ギャップ（ぎゃっぷ）チャート その前の取引のレンジから大きく価格が動いたときにチャート上にできる空間のこと。上に行くことをギャップアップ、下に行くことをギャップダウンと言います。 📗関連用語: ブレイクアウェイギャップ 61. キャリーコスト（きゃりーこすと）先物 期先の商品先物の価格に上乗せされている持越し費用。トウモロコシなどを1年間保管しておくには倉庫代などがかかるため、一年後の先物の価格には、理論的にそういった費用が上乗せされたものになります。 62. 玉（ぎょく） 信用取引により買い建て、あるいは、売り建てた株のこと。 63. 玉締め／絞込み／スクウィーズ（ぎょくじめ／しぼりこみ／すくうぃーず）相場 市場規模の小さい市場において、買い方が現物を買い占め、売り方を追い込んで価格の踏み上げを狙う手口。売り方は買い戻そうにも売り手がいないため、法外な価格で現物を買わされることになります。 64. 金庫株（きんこかぶ）財務 「自己株式」のこと。自社株買いによって市場から買い付けた株のうち、消却や処分を行わずに会社が抱えたままのもの。 65. 金融政策決定会合（きんゆうせいさくけっていかいごう）Monetary Policy Meetingイベント 政策決定会合 日銀が月に 1、2 回開催する会合で、金融政策を審議します。 総裁と 2 人の副総裁、外部の審議委員 6 人の合計 9 人で構成されています。 内閣府からも代表者が参加しますが、議決権は持っていません。 会合後は決定内容が即時に公表され、日銀総裁による記者会見が開かれます。 66. 偶発転換社債（ぐうはつてんかんしゃさい）債権 CoCo 債 (Contingent Convertible Bonds) 転換社債のひとつで、発行側の都合で株式に転換されます。通常、業績が悪くなった場合など、ネガティブなケースで転換が行われます。 67. グリーンシート市場、グリーンシート銘柄（ぐりーんしーとしじょう、ぐりーんしーとめいがら）市場 グリーンシート市場とは、未公開企業の株式を売買できる市場です（2018年3月31日に廃止）。 グリーンシート銘柄のリスクとして、取引量が少なく売買が成立しないことが多いことがあげられます。 また、グリーンシート銘柄から外れることもめずらしくありません（年に数十件など）。 一方で、事業がうまくいって株式を公開する銘柄は年に1、2件ほどしかありません。 📘参考ページ: グリーンシート銘柄、フェニックス銘柄とは（グリーンシート制度） 68. クレジット・トレーディング（くれじっと・とれーでぃんぐ） 「債権投資」。信用に関する投資。法人が保有する負債（借入金）や金銭債権などを買い入れ、それを元に儲けを出す投資手法のこと。主に、金融機関が保有する不良債権や SPL（サブ・パフォーミング・ローン）などを買い取り、債務者の再生を支援しながら投資回収していく。SPL とは、債務不履行になったものの、部分的に債務者が返済可能な債権のこと。 69. グロース株投資（ぐろーすかぶとうし） 成長株投資。成長の見込める企業を探して投資する手法。ピーター・リンチが有名。 📗関連用語: バリュー株投資 70. グローバル・ニッチ・トップ (GNT)（ぐろーばる・にっち・とっぷ） 隙間分野でグローバルなシェアを取っている企業。 71. グローバル・マクロ戦略（ぐろーばる・まくろせんりゃく）Global Macro Strategy戦略 マクロ戦略 世界情勢や金融市場などをマクロな視点で分析し、複数の資産の買いや売りを組み合わせて利益を狙う戦略。 72. 限界利益（げんかいりえき）財務分析 売上高から変動費を引いたもの。固定費を限りなく 0 にしたら、どれだけの利益になるかを示します。 73. 原価率（げんかりつ）財務分析指標 売上に占める原価の割合。「原価÷売上」で計算され、低いほどよいです。 📕対義語: 売上総利益率 74. 現在価値（げんざいかち）PV (Present Value) 将来の金融商品が現在のお金に換算していくらの価値があるか。例えば、金利が 1 ％のときに、9901 円を 1 年間預けておくと 1 万円になるので、1 年後の 1 万円の現在価値は 9901 円ということになります。1 年後の 1 万円の現在価値を求める計算式は、「1 万円 ／(1 + 0.01）」です。 📕対義語: 将来価値 📗関連用語: ディスカウントファクター 75. 減損処理（げんそんしょり）財務 固定資産の価値が下がったとして、帳簿価額を切り下げること。 76. 減損損失（げんそんそんしつ）財務 帳簿上の資産価格のうち、回収可能な金額を上回る部分。減損処理によって、帳簿上の価格を下げる必要があります。 77. 権利落ち日（けんりおちび） 権利付最終日 の翌営業日。得られる権利分の価格下落が発生するのが一般的です。 📗関連用語: 権利付最終日 78. 権利付最終日（けんりつきさいしゅうび） 配当や株式分割の権利確定日から数えて 4 営業日前の日。 株主としての権利を得るためには、権利付最終日の取引終了時点で株式を保有しておく必要があります。 権利付最終日の翌営業日のことを 権利落ち日 と言います。 📗関連用語: 権利落ち日 79. 現渡し（げんわたし） 信用売りの決済方法の一つで、保有している現物株を差し出すことで決済する方法。 80. コア・サテライト戦略（こあ・さてらいとせんりゃく）戦略 運用資産（ポートフォリオ）をコア資産（安全資産）と、サテライト資産（リスク資産）に分ける考え方。 📘もっと詳しく 81. 公開市場操作（こうかいしじょうそうさ）経済 中央銀行が市中銀行と国債を売買することにより、市場のお金の量をコントロールすること。 82. 合百（ごうひゃく） 取引所の場外で行う、相場の行方を予想する賭博のこと。担保金を渡して銘柄の取引を開始し、手仕舞いをしたときに算出される金額を受け取ります。損失が担保金の枠を超えた時点で自動的に取引が終了となる点で、現在の FX や先物取引と似ています。『リバモアの株式投資術』の中で、ボストンの合百の話が登場します。 83. 国際決済銀行（こくさいけっさいぎんこう）機関 BIS (Bank for International Settlements) スイスのバーゼルにある国際機関で、各国の中央銀行間の決済を行っています。そのため、「中央銀行の中の中央銀行」と呼ばれています。 84. 国債市場特別参加者制度（こくさいしじょうとくべつさんかしゃせいど） 2004 年 10 月に導入。特別参加者となった銀行や証券会社は、財務省と意見交換したり、特別枠の国債入札に参加することができます。ただし、条件としてすべての入札で 4 %以上の応札、短期国債以外は 1 %以上を落札することが義務付けられます。マイナス金利の導入をきっかけに、三菱東京 UFJ 銀行は特別資格を返上しました。 85. コストプッシュ（こすとぷっしゅ） 人件費などのコストが上がることにより、製品やサービスの価格が上がること。物価上昇の原因のひとつです。 📗関連用語: デマンドプル 86. 国家開発銀行（こっかかいはつぎんこう）CDB: China Development Bank組織中国 CDB: China Development Bank 中国の 3 つの政策銀行の 1 つ。中国が国内外の国家プロジェクト（ダム建設など）を対象に融資を実施する政策銀行。10 年債などを発行しています。 87. 固定借入（こていかりいれ）金利 利率が一定で変わらない借入。 📕対義語: 変動借入 88. コピートレード（こぴーとれーど）戦略 ソーシャルトレード / ミラートレード 他の人が作ったシステムや、取引手法に沿って売買を行うことをソーシャルトレードと言います。真似てトレードを行うため、コピートレードや、ミラートレードとも呼ばれます。 89. ゴルディロックス相場（適温相場）（ごるでぃろっくすそうば）相場 加熱しすぎでもなく、冷え過ぎでもない適度な相場のこと。イギリスの童話『ゴルディロックスと3匹のくま』に出てくる少女ゴルディロックスが、熱すぎでも冷たすぎでもない、適度な温度のスープを選んだことに由来しています。 90. コンセンサス予想（こんせんさすよそう） アナリストたちが独自に算出する業績予想の平均値。株価は、このコンセンサス予想と企業の業績予想とのギャップによって大きく動きます。 91. 債権（さいけん）債権 債権は有価証券のひとつで、株や投資信託と同様に証券会社などで取り扱っています（上場証券とは異なり、証券会社ごとに扱っている商品はバラバラです）。 債権は、国や地方公共団体、会社などが不特定多数の人から巨額の資金を調達するために発行します。 債権はお金を借りたことを示す借用証書であり、利子が支払われます。 92. 裁定買い残（さいていかいのこり） 割高な先物を売り、割安な現物株を買うという 裁定取引 のために積み上げられた買いポジションの量。 93. 裁定取引（さいていとりひき）取引 アービトラージ 異なる市場間で、本質的には同じ商品を、異なる価格や金利で売買することによって利益をあげようとする取引。 裁定取引ともいいます（ここでいう裁定とは、手動で取引するという意味での裁定ではないことに注意）。 📗関連用語: アーブ 94. 財テク（ざいてく） 本業に必要な分以上の資金を運用することで利ザヤを稼いだりすること。1980 年代に企業による投資の自由化が進み、急速に増えました。不動産価格が上がる原因のひとつとなりました。 95. 債務者利得（さいむしゃりとく）金融 インフレにより、実質的な債務負担が減ることで、債務者が得をすること。 96. 先高（さきだか） 相場が将来的に価格上昇に向かうこと。 97. 先物取引（さきものとりひき） あらかじめ定められた期日に特定の商品（原資産）を取引時点の約定価格で取引することを契約する取引です。 一般的には差金決済による決済が行われるため、現物のやり取り（受渡決済）が行われることはほとんどありません。 取引を行う際には、証拠金という担保を差し入れる必要があります。 98. 先物主導（さきものしゅどう） 先物価格が大きく動いてから、現物株がそれに合わせて動くこと。例えば、先物の価格の方が高い場合、先物が売られて現物が買われるので、現物株の価格上昇に繋がります。 99. サーキットブレーカー制度（さーきっとぶれーかーせいど）SCB: Static Circuit Breaker制度 株式市場や先物市場の取引において、呼値が一定以上の変動を起こした際に、一時的に取引を停止する制度。投資家の過熱感を鎮めることを目的としています。 100. 先物主導（さきものしゅどう） 現物株の値動きが少ないときに、先物市場に仕掛け的な売りや買いが出て、現物株がそれに合わせて動くこと。 101. 差金決済（さきんけっさい） 買値と売値の差額分だけが損益として形状される決済。 102. 指値注文（さしねちゅうもん） 売り買いの価格を指定した注文。逆に、価格を指定しない注文を 成行注文 と言います。 📗関連用語: 成行注文 103. サポートライン（支持線）（さぽーとらいん（しじせん））support lineトレード 相場の下落局面で、この価格より下には下がらないと思われるライン。 📕対義語: レジスタンスライン（抵抗線） 104. サービサー（さーびさー）組織 債権回収会社。金融機関からの委託や譲渡を受け、特定金銭債権の管理回収を行う会社。金銭債権の管理回収などの作業を意味するサービシングが語源。かつて債権回収は弁護士の仕事でしたが、バブル崩壊で銀行が大量の不良債権を抱えることになり、民間の債権回収会社（サービサー）が許可されるようになりました。 105. ザラバ（ざらば） 証券取引所の寄付から引けまでの時間帯のこと。 106. 自己勘定投資（じこかんじょうとうし） プリンシパル・インベストメント 投資銀行が自らの資本を元手として、投資先に資金を提供したり、債権を買い取ったりする投資手法のこと。投資家から集めたお金を運用する投資ファンドとは異なり、債権などの売却タイミングを自由に決められるのが強み。 107. 自己資本配当率（じこしほんはいとうりつ）DOE: Dividend on Equity Ratio指標 DOE: Dividend on Equity Ratio 企業がどのくらいの配当を行っているかを示す指標で、「配当総額／自己資本」で求められます。 108. 自己資本比率規制（じこしほんひりつきせい）制度 銀行が健全な経営を行えるように、一定の自己資本を持つように定めた規制。 1988 年に、各国の中央銀行が参加する バーゼル委員会 が発表しました。 簡単に言うと、銀行に損失が発生した場合でも、預金の元本はある程度、銀行自身のお金で保証しましょうね、という取り決めです。 主な自己資本とみなされるのは、今までの儲けの積み重ねである内部留保や、普通株式などです。 109. 自主規制機関（じしゅきせいきかん）Self-regulatory Organizations機関金商法 Self-regulatory Organizations 金融商品取引法により自主規制の権限を付与され、自らの定款や諸規則によって取引のルールを定めている団体です。日本の証券業者の主な自主規制機関としては、(1)各証券取引所（金融商品取引所）、(2)日本証券業協会、(3)投資信託協会 があります。 📘もっと詳しく 110. システマティック・リスク（しすてまてぃっく・りすく）市場 銘柄分散をしても下げることのできないリスク。例えば、株式市場からマネーが引き上げられると、全ての銘柄が売られるため分散効果が働きません。 111. 私設取引システム（しせつとりひきしすてむ）PTS: Proprietary Trading System市場 民間の証券会社が運営する証券取引システムのこと。 東証などの取引所による取引時間が終わっても取引できることなどが特徴です。 ただし、証券会社ごとの開設となるため、参加者が少く、出来高は限られており、ここでついた価格はあまり参考にしない方がよいです。 出来高が限られていることを悪用し、仲間内で売買をすることで約定価格を操作している可能性もあります（馴合売買という違法ですが）。 2017年時点で、株式のPTSを開設しているのはSBI証券のみです。 高度な運用知識が必要なため、開設するには内閣総理大臣の認可が必要です。 112. 実質金利（じっしつきんり）real interest金利 名目金利から物価上昇率を差し引いて計算したもの。金融政策の指標として使用されます。実質金利が高止まりすると、円高の要因になります。 📗関連用語: 名目金利 📘もっと詳しく 113. 実質 GDP（じっしつじーでぃーぴー） 物価変動の影響を除いた GDP。 📗関連用語: 名目 GDP / GDP デフレーター 114. 仕手筋（してすじ） 主に流動性の低い銘柄に対して巨額の資金を投入することにより、株価を釣り上げようとするグループ。 115. ジニ係数（じにけいすう）指標 所得格差を示す統計指標。イタリアノ統計学者コッラド・ジニが考案。0 〜 1 の範囲の値を取る係数で、0 であれば全員の所得が同じ、1 に近づくほど格差が大きいことを示します。2010 年の日本のジニ係数は 0.336 でした。ジニ係数が 0.4 以上になると、騒乱が起きる可能性が高いと言われています。 116. 純資産回転率（じゅんしさんかいてんりつ）指標 「売上高／純資産」で計算される指標で、企業が純資産額に対してどれだけ効率的に売上を上げているかを示します。 純資産回転率は大きいほどよく、目安としては 1.0 程度と言われています。 117. シャープレシオ（しゃーぷれしお）投資信託 投資信託がどれだけ効率よく運用されているかの指標。リターンの大きさを、リスクの大きさで割って求めます。つまり、変動が小さく、リターンが大きければシャープレシオは大きくなります。 📘もっと詳しく 118. ジャンク債（じゃんくさい）債券 高利回り（ハイイールド）の債権（ボンド）のこと。信用リスクが高いことからこう呼ばれます。 119. 純粋持株会社（じゅんすいもちかぶがいしゃ） 傘下の企業の株式を所有することによって、経営を支配することを目的とした会社。自社では製造や販売などの事業は行いません（事業を行う場合は、「事業持株会社」と呼ばれます）。主に、子会社からの配当金が売上げとなります。子会社の株式の売買を柔軟に行うことができ、事業再編がしやすいというメリットがあります。 120. 順張り（じゅんばり）取引 トレンドフォロー 上昇トレンドのときに、買いから仕掛けること。あるいは、下降トレンドのときに、売りから仕掛けること。 📗関連用語: 逆張り 121. 準備預金（じゅんびよきん）経済 市中銀行が中央銀行に預け入れるお金。準備預金の量によって、個人に対して貸し出せる額が決まってくるため、必ず準備預金が必要になります。ただし、実際の貸出額は、準備預金率というよりは、銀行の裁量で決めています。準備預金には利子は付きません。 122. 証券取引等監視委員会（しょうけんとりきとうかんしいいんかい）機関 金融庁の外局にあたり、強制捜査権や立入調査権を付与された機関 123. 証拠金維持率（しょうこきんいじりつ）FX取引 維持率 （資産合計＋評価損益）／証拠金額。証拠金取引において、この維持率が一定値（50％など）を下回ると、取引会社によって強制ロスカットされます。 124. 証拠金基準額（しょうこきんきじゅんがく） 1取引単位あたりに必要となる証拠金の額。取引時に実際に必要となる証拠金は、取引会社によって異なります。 125. 上場（じょうじょう） 企業などが発行する証券に対し、証券取引所が取引所で売買する資格を与えること。 126. 少数株主持分（しょうすうかぶぬしもちぶん） 子会社が発行する株のうち、親会社以外が保有している株。 127. ショート（しょーと）取引 売りのこと。逆に買いのことは「ロング」という。 128. ショートカバー（しょーとかばー）取引 売りポジションの買い戻しのこと。 129. ショートスクィーズ (Short Squeeze)（しょーとすくぃーず）取引 市場が売り傾向にあるときに、大きな買いを仕掛けることで、ショートポジションの買い戻しを誘発させ、相場を上げていくこと。Short（売り）ポジションを持っている人たちを、Sqeeze（締め上げ）するという意味です。 130. 消費者独占型企業（しょうひしゃどくせんがたきぎょう） バフェットがコカコーラやマクドナルドをこう呼んでいます。 131. 将来価値（しょうらいかち） 将来のお金で換算した価値のこと。例えば、金利が 10% なら、現在の 100 万円の 1 年後の価値（将来価値）は、「100万円 × (1 + 0.10) = 110万円」と求められます。より一般化して、n 年後の将来価値は、「100万円 x (1 + 0.10)^n」で求められます。 📕対義語: 現在価値 📗関連用語: ディスカウントファクター 132. 仕訳（しわけ）会計 発生した取引を、腹式簿記で貸方・借方に分けて記述すること。勘定科目間で金額が移動した記録を残すための作業です。 133. 新株予約権無償割当（しんかぶよやくけんむしょうわりあて）金融 ライツ・イシュー / ライツ・オファリング 企業の資金調達手段のひとつ。市場価格よりも安い価格で新株を購入できる新株予約権を既存株主に割り当てること。この新株予約権（ライツ）は市場で売買することができるため、既存株主の不利益になりにくいという特徴があり、欧米では増資の方法として広く利用されています。株主は権利を行使して決められた金額で新たな株を取得するか、権利行使をせずに新株予約権を市場で売却します。株主が権利行使しなかった予約権を証券会社が取得して行使する「コミットメント型」と、そのような取り決めのない「ノンコミットメント型」があります。 134. 信用リスク（しんようりすく）債権 貸したお金が返ってこないリスクのこと（＝クレジット・リスク）。倒産した場合にお金が返ってこなくなるので、もっとストレートに倒産リスクとも言えます。 135. スキャルパー（すきゃるぱー） デイトレーダーよりも短い時間で売り買いを繰り返して利益を狙うトレーダー。ポジションを持つ時間は、わずか数秒だったりします。 📗関連用語: デイトレーダー / ポジション・トレーダー 136. スキャルピング（すきゃるぴんぐ）scalping ごく短い時間（数秒から数分）の売買により利益を狙うトレーディング手法。わずかな利益を剥ぎ取るというイメージから、英語の scalp（頭皮をはぐ）という単語が使われています。 137. ステルス注文（すてるすちゅうもん）取引 隠れて注文を出すアルゴリズム。例えば、1000円で何枚か買いたいとき、板に1000円の売りが出た瞬間に買いをぶつけるように動作します。買枚数と売枚数が 0 の価格帯に注文を出したときに、一瞬で約定してしまうときは、ステルス注文が仕掛けられています。主に大口が使う手法ですが、セリングクライマックスなどでは、大口も注文をさらけ出して来るため、そこが大底になって相場が反転しやすくなります。 138. ストップ高（すとっぷだか）相場 価格が値幅制限の上限に張り付いたまま売買が成立しない状態になること。 139. ストラテジー取引（すとらてじーとりひき）取引 複数銘柄の売り／買いを組み合わせた注文を 1 注文として取り扱い、専用の板にてマッチングを行うもの。例えば、先物取引では、カレンダースプリット取引 が利用できます。 140. スプーフィング（すぷーふぃんぐ）取引 取引するつもりのない注文を出して、他の投資家に誤解を与える行為。 141. スラストアップデイ（すらすとあっぷでい）相場 プライスアクションの一種。前日の高値よりも高く大引すること。逆は、スラストダウンデイ。 142. スワップ取引（すわっぷとりひき）取引 異なるキャッシュフローを交換する取引のこと。 金融デリバティブでのスワップ取引には、固定金利と変動金利、長期金利と短期金利を交換する金利スワップや、円建てとドル建ての債権・債務を交換する通貨スワップなどがあります。 143. スワップレート（すわっぷれーと）金利 インターバンク市場で取引されているスワップの固定金利。 144. 政策金利（せいさくきんり）policy interest rate金利 中央銀行が金融市場の調整するために用いる短期金利。 金利を下げることで景気を刺激したり、金利を上げることで加熱しすぎた相場を落ち着かせます。 日本（日銀）の無担保コール翌日物金利や、アメリカ (FRB) の FF レートなどが代表的です。 無担保コールは銀行間金利であり、これが低下すると、結果的に企業への貸出金利などが下がるため、積極的な設備投資が増えて景気回復に繋がると考えられています。 日本では長年に渡り、超低金利政策が採られています。 145. 政策決定会合（せいさくけっていかいごう）イベント 金融政策決定会合 日銀が月に 1、2 回開催する会合で、金融政策を審議します。 総裁と 2 人の副総裁、外部の審議委員 6 人の合計 9 人で構成されています。 内閣府からも代表者が参加しますが、議決権は持っていません。 会合後は決定内容が即時に公表され、日銀総裁による記者会見が開かれます。 146. 制度信用取引（せいどしんようとりひき）取引 証券取引所の規則によって返済期限（6か月以内）や対象銘柄が定められている信用取引。 📗関連用語: 一般信用取引 147. 政府債務残高（せいふさいむざんだか） 国と地方の長期債務がどの程度残っているかを示す指標。一般的に、GDP と比べて何％積み上がっているかで財務の健全性が評価されます。日本政府は赤字国債の発行を繰り返したため、GDP 比で 200% を超えています。 148. 整理銘柄（せいりめいがら）市場 ある上場銘柄が JPX-R の審査によって上場廃止が決定されると、整理銘柄に指定されます。その日から 1 か月間売買が行われた後、東証での売買の対象から外されます。ただし、会社が自己破産した場合などは、即時上場廃止となります。 149. 世界の3大市場（せかいのさんだいしじょう） 東京、ロンドン、ニューヨークのこと。 150. セカンダリーマーケット（せかんだりーまーけっと）市場 流通市場 証券市場は機能面から 発行市場 と流通市場に分かれます。 流通市場（＝セカンダリーマーケット）は、発行済の証券が、第二次、第三次投資者に転売、流通される市場です。 流通市場における取引には、 (1) 取引所取引（東証などでの売買）の他に、 (2) 店頭取引 や、(3) PTS（私設取引システム）があります。 📕対義語: 発行市場 / プライマリーマーケット 151. セルサイドアナリスト（せるさいどあなりすと） 証券会社やそのシンクタンクに所属するアナリスト。 📕対義語: バイサイドアナリスト 152. セル・ザ・ファクト（ぜる・ざ・ふぁくと） Buy the rumor, sell the fact. （噂で買って、事実で売る）の略。例えば、上方修正の噂が流れた時点で買われ、実際に上方修正が発表されたときに売られるという状態。 153. ゼロクーポン債（ぜろくーぽんさい）金利債券 ディスカウント債 / 割引債 利息の受け取りの権利（クーポン）がつかない債券のことを、「ゼロクーポン債」、「ディスカウント債」「割引債」と呼びます（特に海外で発行される割引債はゼロクーポン債と呼ぶのが一般的です）。債権の購入時と売却時の価格差だけが利益となります（償還差益）。クーポンがない代わりに、発行時の価格は額面価格に比べて安く設定されます。例えば、アメリカ国債（ゼロクーポン債）の残存 20 年 8 ヵ月物は、額面 100 ドルのものが 56.92 ドル（利回り 2.73 ％）で購入できます（2018 年 8 月時点）。日本の代表的な割引債は、国庫短期証券（2ヵ月・3ヵ月・6ヵ月・1年）です。 154. 総会屋（そうかいや）corporate racketeer; fixers / enforcers / manipulators of stockholders&#39; meetings 少量の株式を保有して株主総会に参加し、進行の邪魔などをする人たち。株主の権利を濫用して、利益を得ようとします。 155. ソーシャルトレード（そーしゃるとれーど）戦略 コピートレード / ミラートレード 他の人が作ったシステムや、取引手法に沿って売買を行うことをソーシャルトレードと言います。真似てトレードを行うため、コピートレードや、ミラートレードとも呼ばれます。 156. ソーシャルレンディング（そーしゃるれんでぃんぐ） クラウドファンディングの一種で、融資のために出資金を集める仕組み。既存の金融機関の代替となる可能性を秘めています。5-8% と利回りは大きいのですが、貸し倒れリスクなどは投資家が負います。投資家への分配金は「雑所得」として扱われます。 157. 損切り（そんぎり） ポジションを決済することにより、損失を確定すること。 📕対義語: 利食い 158. 貸借銘柄（たいしゃくめいがら） 信用買いも信用売りもできる銘柄。トレーディングアプリなどで、「貸借」と書かれている銘柄が対象。「信用」と書かれているものは、信用買いだけができる銘柄を示しています。 159. 退場（たいじょう） FX や先物などの証拠金取引において、損失が膨らみ、必要証拠金が足りなくなって強制ロスカットされること。また、資金が尽きて、取引を続けられなくなること。YouTube などで「FX 退場」や「先物 退場」で検索すれば、数々の悲しい顛末のムービーを見ることができます。 160. 代替的投資（だいたいてきとうし） オルタナティブ投資 様々な対象の金融商品に投資するスタイル。株式や債券などを用いる伝統的な投資に対し、機関投資家（金融機関や事業会社、年金運用法人など）がお金の出し手となる投資で、ヘッジファンドや、プライベート・エクイティ、不動産投資などがあります。 161. 大量保有報者（たいりょうほゆうしゃ） ある上場企業の株式を 5% を超えて補修する者のことで、大量保有者になった場合は 5 日以内に大量保有報告書を内閣総理大臣に提出する必要があります（5% ルール）。 📘もっと詳しく 162. 兌換紙幣（だかんしへい）金融商品 金貨や銀貨などの本位貨幣との交換が保証された紙幣。 📕対義語: 不換紙幣 163. タコ配（たこはい）財務 タコ足配当。業績が悪化し、配当が利益を上回る状態での配当のこと。配当性向が 100 %を超えた状態。 164. 立会外分売（たちあいがいぶんばい） 大株主が所有する上場株式を、証券取引所の立会時間外で売り出す取引です。年間 100 社程度が行っており、各証券会社のホームページなどから申し込むことができます。 通常、前日の終値よりも安いディスカウント価格 (3〜5％) で売り出され、売買手数料も無料とされます。前日終値より数％安く購入できることを利用し、短期で売り抜けて差額を得ようとする人もいますが、多くの場合は翌日の寄り付きで同じだけギャップダウンします。 📘もっと詳しく 165. 棚卸資産（たなおろししさん）経理 将来的に商品開発や販売を行うために保持している流動資産のこと。サービスやソフトウェアなど、無形のものも含まれます。 166. ターミナルレート（たーみなるれーと） 主に、アメリカ合衆国の連邦ファンド (FF; Federal Funds) 金利レートのことを指し、未来の特定の時点での FF 金利の予測レベルを示します。 金融引き締めによる利上げ局面において、金利をいくらまで上げられるかという予想です。 2022 年末の市場の FF 金利ターミナルレートの予想は5%でした。 167. 短期金融市場（たんききんゆうしじょう）市場 期間 1 年以内の資金の貸借が行われる市場で、大別すると、金融機関のみのインターバンク市場と、企業が参加するオープン市場があります。 ここでの金利を「短期金利」といい、インターバンク市場における無担保コール翌日物金利と、オープン市場における CD 3 か月もの金利が代表的です。 📗関連用語: 長期金融市場 168. 短期債（たんきさい）債権 流通市場では、一般的に 1 年あるいは 2 年以内の債権を「短期債」、2 年以上 6 年未満のものを「中期債」、6 年以上のものを「長期債」と呼びます。 169. 短期金利（たんききんり）金利 1年未満の資金の貸し借りにかかる金利。狭義には中央銀行（日本では日銀）が決める政策金利。景気が良くなり、インフレが過度に進みそうになると、短期金利を上げて景気にブレーキをかけようとします。 📗関連用語: 長期金利 170. チェイス（ちぇいす）取引 ひとつの銘柄にこだわること。 171. ちゃぶつく（ちゃぶつく）取引 保有株を売ったら上がり、買ったら下がるという具合に利益がうまく出せないこと。市場参加者みんながうまく利益を出せない状況を「相場がちゃぶつく」と言ったりします。 172. 中期債（ちゅうきさい）債権 流通市場では、一般的に 1 年あるいは 2 年以内の債権を「短期債」、2 年以上 6 年未満のものを「中期債」、6 年以上のものを「長期債」と呼びます。 173. 長期債（ちょうきさい）債権 流通市場では、一般的に 1 年あるいは 2 年以内の債権を「短期債」、2 年以上 6 年未満のものを「中期債」、6 年以上のものを「長期債」と呼びます。 174. 長期金融市場（ちょうききんゆうしじょう） 資金の貸借の取引期間が 1 年を超える金融市場。 📗関連用語: 短期金融市場 175. 長期金利（ちょうききんり）金利 1 年以上の資金の貸し借りにかかる金利。代表的な長期金利として、日本国債（10年債）の利回りがあり、個人向けの住宅ローン金利や企業に融資する際の金利の目安となります。日銀のマイナス金利政策により、長期金利も史上最低水準となりました。 📗関連用語: 短期金利 📘もっと詳しく 176. 提灯がつく（ちょうちんがつく）相場 仕手相場において、仕手筋が仕込み終わった後に、個人投資家たちが買いに群がって値が上がること。仕手の竿に個人投資家たちの提灯がぶら下がるというイメージから。 177. 直接金融（ちょくせつきんゆう）市場 銀行等を介さずに、貸し手から借り手に直接資金が融通される市場です。 資金回収のリスクは、貸し手が負います（投資家が株で損したというのがまさにそれ）。 直接金融での取引は、証券市場を通じて行われます。 株式市場 や 債券市場 は、この直接金融に分類されます。 📗関連用語: 間接金融 178. 通貨バスケット（つうかばすけっと） 自国通貨のレートを、複数の国の通貨（ドル、ユーロ、円）などに連動させて決める固定為替相場制のこと。 179. ツーウェイプライス (2-way price)（つーうぇいぷらいす）取引 買値 (Bid) と売値 (Ask, Offer) を同時に提示する価格のこと。インターバンク市場ではツーウェイプライスが基本。 180. ディスカウントファクター（でぃすかうんとふぁくたー） キャッシュフローの 将来価値 を 現在価値 に統一して考えたいときに使用する係数。 例えば、金利が 5% のときの 2 年目の係数は、「1 / (1 + 0.05)^2 ≒ 0.90703」と求められます。 これを使えば、2 年後の 1,000 万円の現在価値は、「1000万円 x 0.90703 ≒ 907万円」のように簡単に計算できます。 181. ティッカー（てぃっかー） ティッカーテープ。エジソンが発明した株の価格をテープで打ち出す通信機械。『リバモアの株式投資術』の中で登場します。 182. ティッカーテープ取引（てぃっかーてーぷとりひき）戦略 取引所の板情報を見て将来の価格変化を先読みする高速取引ロボの戦略。大口の取引を予測して、先に有利な価格でポジションを取るというのが常套手段です。 183. ディスカウント債（でぃすかうんとさい）金利債券 ゼロクーポン債, 割引債 利息の受け取りの権利（クーポン）がつかない債券のことを、「ゼロクーポン債」、「ディスカウント債」「割引債」と呼びます（特に海外で発行される割引債はゼロクーポン債と呼ぶのが一般的です）。債権の購入時と売却時の価格差だけが利益となります（償還差益）。クーポンがない代わりに、発行時の価格は額面価格に比べて安く設定されます。例えば、アメリカ国債（ゼロクーポン債）の残存 20 年 8 ヵ月物は、額面 100 ドルのものが 56.92 ドル（利回り 2.73 ％）で購入できます（2018 年 8 月時点）。日本の代表的な割引債は、国庫短期証券（2ヵ月・3ヵ月・6ヵ月・1年）です。 184. デイトレーダー（でいとれーだー） 1 日の間に何度も売り買いを繰り返すことで利益を狙うトレーダー。大引け時には必ずすべてのポジションを手仕舞いし、夜間などの急激な価格変動のリスクを負わないようにします。 📗関連用語: スキャルパー / ポジション・トレーダー 185. ディフェンシブ・ストック（でぃふぇんしぶ・すとっく） 景気変動の影響を受けにくい株。日用品を扱う銘柄が代表的（日本の銘柄では、ユニチャーム、キーコーヒーなど）。 186. 敵対的買収（てきたいてきばいしゅう） 企業の買収を仕掛けたときに、現経営陣（取締役会）が反対している場合に敵対的買収と呼びます。 多数の株主が賛成していても、取締役会が反対していれば敵対的買収になります。 逆に、多数の株主が反対していても、取締役会が賛成していれば、友好的買収になります。 📗関連用語: TOB（Take Over Bid; 株式公開買い付け） 187. 出来高（できだか）trading volume; turnover取引 売買高 市場で売買の成立した株式や債権などの合計数量。株式で言えば、売買された株数。 188. 手サイン（てさいん） 現在のようなコンピュータによる注文がなかったころ、東証の立会場では、証券会社の人たちが注文を出す際に、銘柄、値段、売買などを手の動きでやりとりしていました。 189. 手仕舞い（てじまい）取引 買いポジションを持っているなら売り、売りポジションを持っているなら買いを行い、ポジションをなくすこと。 190. デマンドプル（でまんどぷる） 供給量に比べて需要量が大きいことにより発生する物価上昇。 📗関連用語: コストプッシュ 191. デューデリジェンス（でゅーでりじぇんす）財務 Ｍ＆Ａや投資に先立って行う、候補企業の事業・財務・法務等の詳細調査および分析。投資するだけの価値があるのか、リスクはどの程度あるのかを調査します。 192. デルタ（でるた）オプション取引 オプション取引における、原資産に対する価格変化の割合で、Δ（デルタ）という記号で表します。原資産（日経平均オプションであれば日経平均）が 1 円動いたときに、オプション価格がいくら動くかを表します。 193. 転換社債（てんかんしゃさい）債券 請求によってその会社の株式と交換する権利の付いた社債。 194. 店頭取引（てんとうとりひき）取引 相対取引 取引所以外で行われる取引で、市場を介さずに 1 対 1 の売り手と買い手による合意によって成立するものを相対取引といいます。 取引所の上場基準を満たしていない証券などが取引されますが、日本証券業協会の定めた規則に従います。 店頭取引とも呼ばれますが、文字通り「店頭」で取引されるわけではなく、ネットなどを介して取引できます。 ほとんどの日本の FX 業者は相対取引を行っており、店頭 FX と呼ばれます。 📕対義語: 取引所取引 195. テンバガー（てんばがー）ten bagger 現在の株価の 10 倍の価値がある銘柄のこと。Peter Lynch が書籍の中で初めて使った。よく間違えて、「テンバーガー」って言われます。 196. 展望レポート（てんぼうれぽーと） 日本銀行（日銀）が公表している「経済・物価情勢の展望」に関するレポートのこと。年4回（通常1月、4月、7月、10月）の政策委員会・金融政策決定会合において、先行きの経済・物価見通しや上振れ・下振れ要因を詳しく点検し、そのもとでの金融政策運営の考え方を整理し、公表しています。 197. 投機（とうき） 短期的な売買により利益を得ようとする取引。逆に、長期的にポジションを持ったり、企業の成長を支援する意味合いで資金投入することを「投資」と呼んだりしますが、その境目は曖昧です。 198. 投機アタック（とうきあたっく）取引 ヘッジファンドが大掛かりな空売りを仕掛けて暴落させること。 199. 投機的水準（とうきてきすいじゅん）指標 一般的に格付けが BB 以下の債権は、機関投資家から投機的水準とみなされ、投資対象から外されます。 一方で、投機的水準の債権を組み合わせたハイ・イールド・ファンドなどもあり、こういったファンドは経済が好調なときには比較的良いパフォーマンスを示すことがあります。 200. 東京銀行間取引金利（とうきょうぎんこうかんとりひききんり）TIBOR金利 TIBOR は Tokyo Interbank Offered Rate の略。 国内の金融機関の間で、資金の貸し借りを行うときの基準金利として使用されているものです。日本の代表的な銀行の貸出金利を平均して求められています。 一方で、大企業向け融資の基準となる金利は「プライムレート」と呼ばれます。 似たようなものに、ロンドンの金融機関が決めている基準金利である LIBOR があります。 📗関連用語: LIBOR（ロンドン銀行間取引金利） 201. 当座貸出（とうざかしだし）金融 銀行の円普通預金の残高が不足しているときに、同一口座内における定期預金や国債を担保として借入れを行う機能。当座貸出を行うと、普通預金はマイナス表示になります。 202. 当座資産（とうざしさん）財務分析 流動資産の内、短期間に現金化できる現金や有価証券などの資産のこと。逆に、流動資産の内、販売などをして初めてお金になるものを棚卸資産（商品）と言います。当座資産を流動負債で割って求められる当座比率は、100%以上あることのが健全とされています。 203. 東証アローズ（とうしょうあろーず） もともと株式の売買が行われていた場所。 204. 特別気配（とくべつけはい）取引 ザラバ中に、買いや売りが極端に偏ったときに、急激な価格変化を抑制するために、一時的にザラ場寄せから板寄せ方式に変更する措置。東証が気配値を示します。 205. 特別参加者（とくべつさんかしゃ）市場 国債市場特別参加者制度 において、特別枠の国際入札に参加する権利を得た銀行や証券会社のこと。 📗関連用語: 国債市場特別参加者制度 206. 特別清算指数（とくべつせいさんしすう）指標 SQ: Special Quotation 先物、オプションの強制決済価格の基準となるもの。 「SQ 日」の前日が取引の最終日であり、この日までに決済されなかったものは、SQ の価格で強制決済されます。 毎月第 2 金曜日の日経平均構成銘柄の始値から算出されます。 3、6、9、12月のものを「メジャー SQ」、それ以外の月のものを「マイナー SQ」と呼びます。 オプション取引の決済日は毎月ありますが、先物取引の決済日は 3、6、9、12 月と、3 ヶ月おきです。 メジャー SQ では両方（オプション取引と先物取引）の決済が重なり、売買高が大きくなるため注目されます。 207. 解け合い（とけあい）相場 仕手相場で価格が一方向に偏り続けているときに、取引所が強制的に価格を決定し、ポジションを解消させること。2000年2月24日に、東京工業品取引所において、パラジウムの取引が仕手化された際にこの措置がとられました。 208. 途転（どてん）相場 買いポジションを売りポジションに切り替えること。あるいはその逆。 209. トラック・レコード（とらっく・れこーど） 投資信託や投資ファンドの収益実績の履歴のこと。 210. 取引所取引（とりひきじょとりひき）市場 証券取引所（東証など）で行なわれる取引のことを取引所取引と言います。 取引所での取引の対象になることを上場と言います。 株式の取引は主にここで行なわれています。 📕対義語: 相対取引 / 店頭取引 211. ドルペッグ（どるぺっぐ）経済 自国の為替レートを、ドルに連動させて決めること。経済基盤の弱い国などで採用されています。1993年のタイの通貨バーツは、1ドル＝25バーツでドルペッグされていました。この時、タイの金利の方がアメリカよりも高かったため、タイに資金が流れ込みました。 212. トレンド／上昇トレンド／下降トレンド（とれんど／じょうしょうとれんど／かこうとれんど）相場 しばらくの間、価格が上昇、あるいは下降し続けること。 213. トレンド相場（とれんどそうば）相場 継続的に価格が上昇、あるいは下落が続く相場のこと。 📕対義語: ボックス相場＝レンジ相場 214. トレンドフォロー（とれんどふぉろー）取引 順張り 上昇トレンドのときに、買いから仕掛けること。あるいは、下降トレンドのときに、売りから仕掛けること。 📗関連用語: 逆張り 215. 仲値（なかね）TTM: Telegraphic Transfer Middle Rate TTM: Telegraphic Transfer Middle Rate 銀行が顧客と取引する際に基準価格として用いる為替レート。東京市場では、9 時 55 分頃のレートをもとに決定されます。各銀行が独自に決めるため、銀行ごとにレートは異なります。 216. 仲値不足（なかねぶそく） 仲値決済のためのドルが足りないこと。市場からドルを購入する必要があるため、ドル高になることがあります。 217. 成行注文（なりゆきちゅうもん）取引 その時点の価格で売買を行うための注文。 📗関連用語: 指値注文 218. 馴合売買（なれあいばいばい）取引 複数人で通謀し、同一銘柄の売買を同時に行うことで、市場価格を意図的に操作すること。 金融商品取引法第159条で相場操縦行為として禁止されています。 出来高の少ない銘柄や、PTS などでは簡単に実行できてしまいますが、絶対にやってはいけません。 馴合売買と同様のことを一人で行うことを仮装売買と言います。 📗関連用語: 仮装売買 219. 日銀貸出（にちぎんかしだし）経済 日銀からの民間銀行への貸出のこと。民間銀行は貸出額を減らされると経営ができないので、結局は日銀の言いなりになるしかありません。 220. 日経225（にっけいにーにーご）指標 日経平均株価 日本を代表する 225 企業の株価の平均を指数の形で表した株価指数。225 社は、流動性の高いものに毎年入れ替えられます。 221. 日経平均株価（にっけいへいきんかぶか）指標 日経225 日本を代表する 225 企業の株価の平均を指数の形で表した株価指数。225 社は、流動性の高いものに毎年入れ替えられます。 222. 日本取引所自主規制法人 (JPX-R)（にほんとりひきじょじしゅきせいほうじん）組織 JPX-R は、JPX とは別法人の形態をとることにより一定の独立性をもって中立的な立場から次のような自主規制業務を行っています。 上場審査 では、会社から上場の申請を受けたときに、上場に必要となる基準に適合しているかの審査を行います。 上場管理 では、ある企業が上場会社としてふさわしい適性を喪失したときに、上場廃止の決定を行います。 売買審査 では、相場操縦やインサイダー取引を見つけて SESC（証券取引等監視委員会）に報告します。 考査 の業務では、取引参加者の店舗に赴き、法令や取引所の規則を遵守しているかをチェックします。 223. 値ぼれ買い（ねぼれがい）取引 値惚れ買い。現在の値段に惚れて買うこと。つまり、現在のマーケットプライスが割安だと思って買うということです。 224. 残り玉（のこりぎょく）取引 未決済で残っている建玉。 225. のれん（のれん）仕分会計 他の企業を買収するときに発生する無形資産の一種で、買収価格と買収される企業の純資産の差額のことを言います。 のれんは、企業のブランドや技術力などを高く評価したときに支払うプレミア分の価格です。 資産として形状されたのれんは実体がなく、20 年以内に償却するというルールがあります。 償却した金額は「のれん償却費」として利益から差し引かれますが、日本基準と IFRS では扱い方が異なります（参考: IFRS（国際会計基準）のメモ）。 226. ノーロードファンド（のーろーどふぁんど）投資信託 買付手数料が無料の投資信託。もちろん信託報酬は払う必要があります。 227. ノンリコースローン（のんりこーすろーん）金融 非遡求型融資 借金を返せなくなった場合に、その担保の価値を超えた返済を求めないローン。 リスクが高い分、金利が高く、うまく運用すれば貸し手は十分な利ざやを稼ぐことができます。 借り手も、事業がうまくいかなかったときに失うものが担保だけで済むので、大きなダメージを受けなくて済みます。 欧米では一般的なローンの形態ですが、日本では担保が値下がりしたとしても全額返済を求められるリコースローン（遡及型融資）が主流です。 228. バイアウト投資（ばいあうととうし）戦略 プライベート・エクイティ投資の一種。投資先企業の株式の半数以上を取得して経営権を握り、経営者の入れ替えや経営戦略の見直しなどを行って企業価値向上を行います。その後、株式を高値で売却することによって大きな利益を得ることが目的です。 📗関連用語: プライベート・エクイティ 229. バイサイドアナリスト（ばいさいどあなりすと） 機関投資家に属するアナリスト。 📕対義語: セルサイドアナリスト 230. 配当調整額（はいとうちょうせいがく） 信用売りのポジションを持っている状態で、配当の権利付き最終日をまたぐ場合は、配当相当の金額を信用買いをしている人に支払う必要があります。その金額が配当調整額です。 231. バイナリーオプション（ばいなりーおぷしょん）BO (Binary Option) 一定時間後に相場が上昇、あるいは下降しているかを当てることによって利益を得るシステム。いわゆるハイ＆ローです。2014 年あたりから Facebook や掲示板サイトなどで、スパム的な書き込み（「この通帳見てみろｗ」）が多く見られるようになりました。TV 番組の企画で、武井壮が挑戦して見事に負けてました。 232. ハイパーインフレ（はいぱーいんふれ）経済 めっちゃインフレが進んでいること。国際会計基準の定義では、3 年間で 100 %以上のインフレーションが発生している状況のこと。 233. 売買代金（ばいばいだいきん）取引 売り買いの成立した取引の合計金額。 234. 売買高（ばいばいだか）取引 出来高 市場で売買の成立した株式や債権などの合計数量。株式で言えば、売買された株数。 235. 発行市場（はっこうしじょう）市場 プライマリーマーケット 証券市場は機能面から発行市場と 流通市場 に分かれます。 発行市場（＝プライマリーマーケット）は、新規に発行される証券が、企業などの発行者から直接、あるいは金融商品取引業社（証券会社）などを介して、投資者（投資家）に第一次取得される市場です。 発行市場は、当事者間での取引（相対取引）で証券の売買が行われます。 📕対義語: セカンダリーマーケット / 流通市場 236. バーベル戦略（ばーべるせんりゃく）戦略 『ブラック・スワン』の著者ナシーム・ニコラス・タレブが提唱している投資方法で、9 割を安全な資産、残りをリスクの高い資産に投資するなど、両極端な対象を組み合わせた戦略。中程度のリスクは取らない。 237. バミューダン（ばみゅーだん）オプション オプションの世界でバミューダンと言えば、満期日以外にも定期的に行使可能な日を定めたオプションのことを表します。アメリカン・オプションと、ヨーロピアン・オプションの中間的なもので、米国とヨーロッパの間にあるバミューダ諸島にちなんでこう呼ばれています。 238. バリュー株投資（ばりゅーかぶとうし） 割安株投資。優良企業の株を割安に購入することで利益を得る投資手法。ベンジャミン・グレアムやウォーレン・バフェットが好む手法です。 📗関連用語: グロース株投資 239. 反対売買（はんたいばいばい）先物取引 先物取引において、最初の取引と逆方向の売買を行い、現物の受け渡しをせずに現金のやりとりのみで済ませること。 240. 半値（はんね） 高値と安値の中間の値段。（高値＋安値）／2。 241. 半値戻し／半値押し（はんねもどし／はんねおし）戦略 相場が下落したとき、その下落幅の半分だけ価格が戻る（上がる）ことを半値戻しと言います。逆に、相場が上昇したとき、その上昇幅の半分だけ価格が下落することを半値押しと言います。取引市場の寄付の段階で、必要以上にギャップダウン（あるいはギャップアップ）が発生したときに、半値戻し（あるいは半値押し）を狙ってトレードするという手法があります。 242. 引当金（ひきあてきん）経理 近い将来発生するであろう支払いや損失に備えて、あらかじめ計上しておくお金です。 引当金の例として、退職給付引当金、リストラ引当金、賞与引当金、製品保証引当金などがあり、貸借対照表 (B/S) の負債の部に記載されます（ただし、貸倒引当金は資産の部のマイナス項目ことして記載されます）。 借入金と同様に、引当金は負債として計上されますが、将来のリスクを見据えて計上しているだけなので、投資家にとっては悪材料ではありません。 243. 引け（ひけ）取引 証券取引所の取引終了時刻。 244. 引け成り注文（ひけなりちゅうもん）取引 引け値（その日の最後の取引）でいくらでもいいから買う（売る）という注文方法。 245. ビッド (Bid)（びっど）取引 売りの価格。金融商品の取引業者が、ある商品の買い付けの値段を提示すること。 246. 非遡求型融資（ひそきゅうがたゆうし）金融 ノンリコースローン 借金を返せなくなった場合に、その担保の価値を超えた返済を求めないローン。 リスクが高い分、金利が高く、うまく運用すれば貸し手は十分な利ざやを稼ぐことができます。 借り手も、事業がうまくいかなかったときに失うものが担保だけで済むので、大きなダメージを受けなくて済みます。 欧米では一般的なローンの形態ですが、日本では担保が値下がりしたとしても全額返済を求められるリコースローン（遡及型融資）が主流です。 247. ひびが入る（ひびがはいる）相場 何らかの悪材料が明るみになり、上昇していた相場が下げ相場に転じること。 248. ファスト・マーケット（ふぁすと・まーけっと）市場 取引開始時に売買注文が殺到し、証券取引所の処理が追いつかない状況のこと。 249. フィリップス曲線（ふぃりっぷすきょくせん） 失業率とインフレ率の関係を示したチャート。各国の中央銀行が金融政策の立案時に参考にしています。 250. フォーリン・エンジェル企業（ふぉーりん・えんじぇるきぎょう）企業の分類 堕天使。発行した債券の格付けが投資適格からジャンクの手前にまで引き下げられた企業のこと。 251. 付加価値税（ふかかちぜい）税金 日本でいうところの消費税のこと。 252. 不換紙幣（ふかんしへい）金融商品 fiat money 金貨や銀貨などの本位紙幣との交換が保証されていない法定紙幣。 フィアット・マネー。 政府の信用によって支えられていることから、信用紙幣 (faith money) とも呼ばれます。 📕対義語: 兌換紙幣 253. 覆面介入（ふくめんかいにゅう） 政府が為替介入する際に、公表せずに介入すること。ただし、いくら介入したかは最終的に公表することになります。 254. 物価の番人（ぶっかのばんにん） 日本銀行のこと。物価の安定を図るための金融政策として、金利誘導や通貨供給量の調整を行っているためこう呼ばれています。 255. 物価連動国債（ぶっかれんどうこくさい）債券 消費者物価指数の動きに従って元金が増減する国債。インフレに強い金融商品と言われているため、インフレ予想が広まると人気が上昇します。日本では、2008 年から 5 年間、リーマンショックの影響で発行が一時停止していました。2013 年 10 月から発行再開。2015 年 1 月からは、個人での購入が可能になりました。 256. 不成り注文（ふなりちゅうもんん）取引 不出来引け成り注文（ふできひけなりちゅうもん）の略。ザラ場中には 指値注文 を出しておいて、成立しなかった場合は自動的に引け成り注文になるという注文方法です。 257. 踏み上げ相場（ふみあげそうば）相場 空売り筋が締め上げられ、買い戻しが続くことによって価格が高騰していく相場のこと。 258. プライベート・エクイティ（ぷらいべーと・えくいてぃ）PE: Private Equity戦略 PE: Private Equity 上場していない株式のこと。ただし、買収に関するコンテキストで PE という言葉を使う場合、企業が必要としている資金を提供する代わりに、積極的な経営関与やガバナンスを行う投資手法のことを指します。未上場のベンチャー企業に投資するベンチャー投資（ベンチャー・キャピタル）や、バイアウト投資などがあります。米プライベートエクイティ投資会社としては、カーライル・グループやアポロ・グローバル・マネジメントなどがよく知られています。 📗関連用語: エクイティ / バイアウト投資 / プライベート・エクイティ・ファンド 259. プライベート・エクイティ・ファンド（ぷらいべーと・えくいてぃ・ふぁんど）機関 未公開企業（非上場企業; PE）に資金を投じるファンドで、よりアクティブな PE ファンドでは、PE の株式の過半数を取得して経営権を取得し、企業価値を高めた後により高値で売却して利益を得ます。 日本風力発電や東芝メモリに投資した「ベインキャピタル」も PE ファンドのひとつです。 GPIF（年金積立金管理運用独立行政法人）も、高利回りを期待できる運用先として PE ファンドへの投資の方針を打ち出しています。 📗関連用語: プライベート・エクイティ 260. プライマリーバランス（ぷらいまりーばらんす）Primary Balance 国の一般会計の収支を示すもので、国の収入と支出の差を示します。 この収支には、国債の発行や返済に関連する費用は含まれません。 プライマリーバランスが黒字である場合、それは国がその期間において純粋な収支がプラスであることを意味します。 この黒字を利用して国債を返済することで、国の借金を減少させることができます。 261. プライマリーマーケット（ぷらいまりーまーけっと）市場 発行市場 証券市場は機能面から発行市場と 流通市場 に分かれます。 発行市場（＝プライマリーマーケット）は、新規に発行される証券が、企業などの発行者から直接、あるいは金融商品取引業社（証券会社）などを介して、投資者（投資家）に第一次取得される市場です。 発行市場は、当事者間での取引（相対取引）で証券の売買が行われます。 📕対義語: セカンダリーマーケット / 流通市場 262. プライムレート（ぷらいむれーと）Prime Rate金利 銀行が大企業のような優良企業に資金を貸し出すときの基準となる金利（信頼度が高いので金利は低い＝最優遇貸出金利）。短期金利である短期プライムレート（短プラ）と、長期金利である長期プライムレート（長プラ）に分かれます。変動金利型の住宅ローンは短プラを基準にしています。長プラは短プラに一定利率を上乗せするという考え方が基本です。 263. ブラケット注文（ぶらけっとちゅうもん）取引 OCO 注文 利確の指値と、損切り（ストップロス）の逆指値の設定を同時に行う注文。 264. フラジャイル・ファイブ（ふらじゃいる・ふぁいぶ） インド、インドネシア、ブラジル、南アフリカ、トルコの 5 カ国のこと。あるいは、インドルピー、インドネシアルピア、ブラジルレアル、南アフリカランド、トルコリラの5通貨のこと。2013 年 5 月にバーナンキ米 FRB 議長が金融緩和縮小について言及したことによって、資金流出を懸念して通貨価値が大きく下落しました（バーナンキショック）。米モルガン・スタンレーによって名付けられました。 265. ブラック・ショールズ式（ぶらっく・しょーるずしき）オプション指標 オプション取引において、適正なオプション価格（オプションプレミアム）を求めるための式。フィッシャー・ブラック (1938~1995) と、マイロン・ショールズ (1941~) 、ロバート・マートンの 3 人が 1973 年に完成させました。ちなみに、マイロン・ショールズとその弟子のロバート・マートンは、巨大ヘッジファンド LTCM の幹部になりました。 266. プラ転（ぷらてん）取引 損益がプラスに転じること。 267. フリー・キャッシュフロー (free cash flow)（ふりー・きゃっしゅふろー）財務 営業活動によるキャッシュフローから、投資活動によるキャッシュフローを引いた金額。会計基準の影響を受けにくいため、実際のお金の動きを客観的に捉えた企業評価基準として用いることができます。 268. プリンシパル・インベストメント（ぷりんしぱる・いんべすとめんと） 自己勘定投資 投資銀行が自らの資本を元手として、投資先に資金を提供したり、債権を買い取ったりする投資手法のこと。投資家から集めたお金を運用する投資ファンドとは異なり、債権などの売却タイミングを自由に決められるのが強み。 269. ブレイクアウェイギャップ（ぶれいくあうぇあいぎゃっぷ）チャート トレンドが変化するきっかけとなるギャップのこと。 📗関連用語: ギャップ 270. プレーン・バニラ（ぷれーん・ばにら）オプション 基本的なオプションのこと。 買いオプション（コールオプション）や売りオプション（プットオプション）は、プレーン・バニラです。 それ以外のオプションは、エキゾチック・オプションと呼ばれます。 📕対義語: エキゾチック・オプション 271. ブローカー（ぶろーかー）組織 FX取引業者。 272. プロジェクト・ファイナンス（ぷろじぇくと・ふぁいなんす）金融 銀行がプロジェクトに対して融資を行うこと（通常の融資は「企業」に対するもの）。 273. プロスペクト理論（ぷろすぺくとりろん） 確率に基づく現象に対して、人の感情が線形には変化しないという理論。2002 年ノーベル経済学賞のダニエル・カーネマン、エイモス・トベルスキーらが考案しました。投資の世界では、損大利小（損切りは遅くなってしまい、利確は早くなってしまう）に陥ってしまう人の心理について説明するときに使われます。 274. プロップ・ショップ (proprietary trading company)（ぷろっぷ・しょっぷ）組織 自己資金のみで運用を行う投資会社。通常、所属しているトレーダーの給料は歩合制です。プロップ・ハウスとも言います。 275. プロフィットファクター（ぷろふぃっとふぁくたー）指標 利益の期待値。「期待利益/期待損失」で求められる値です。プロフィットファクターが 1 を超える場合は、潜在的に有利な投資であるということです。宝くじのプロフィットファクターは 0.46 と言われています。つまり、1 億円分の宝くじを購入しても、4600 万円のリターンしか期待できません。しかも、大数の法則により、買えば買うほどこの期待値に近付きます。 276. ペイオフ（ぺいおふ） デリバティブの買い手と売り手の間で、どのように損益を発生させるかという取り決め。 277. ペイオフレシオ（ぺいおふれしお）指標 損益率。勝った時の利益と、負けた時の損失の割合。例えば、利益 4 万円、損失 1 万円という投資のペイオフレシオは 4 です。 278. ベースマネー（べーすまねー）金融 日銀が発行する現金と、民間銀行が日銀に預ける準備金の合計。これに信用乗数をかけると、実際に市中に流れるお金の量が決まります。 279. ヘッジ売り（へっじうり） 現物株式の相場が下がりそうなときに先物の売りを行っておくことで、現物株の下落による損失を相殺すること。 280. ヘッジファンド (hedge fund)（へっじふぁんど）組織 私募により、機関投資家や富裕層から大口資金を集め、デリバティブ取引などを駆使して利益を狙うファンドのこと（公募によって大勢の一般投資家から資金を集めてファンド形成するものは「投資信託」と呼ぶ）。リスクをヘッジしながら資金運用するという意図がありましたが、結局のところリスクを小さくするのは難しいことが分かっています。 281. ベンチャー・キャピタル (VC: Venture Capital)（べんちゃー・きゃぴたる）組織 初期ステージの新興企業や中小企業（ベンチャー）に投資する会社、またはその資本のこと。主に未上場のベンチャー企業に投資し、経営コンサルティングなどを通して企業価値の向上を狙います。一般的に、ハイリスク・ハイリターンな投資になります。三菱 UFJ キャピタルや、SBI インベストメントなどがあります。 282. 変動借入（へんどうかりいれ）金利 金利水準に合わせて利率が変わる借入。 📕対義語: 固定借入 283. ボックス相場（ぼっくすそうば）Boxed range相場 レンジ相場 しばらくの間、価格が大きく上昇も下降もしていない相場のこと。価格の上下が、ある一定の範囲（レンジ）に収まって繰り返されることからこう呼ばれます。 📕対義語: トレンド相場 284. ホットマネー（ほっとまねー）市場 短期資金のこと。世界に流通するホットマネーは、400 〜 500 兆円にも登ると言われています。 285. ポジション・トレーダー（ぽじしょん・とれーだー） 数日から数カ月の間ポジションを保有し、相場のトレンドを見ながら利益を狙うトレーダー。 📗関連用語: スキャルパー / デイトレーダー 286. ポジションを持つ（ぽじしょんをもつ）取引 買っている状態（買いポジション）、あるいは、売っている状態（売りポジション）のこと。株式の場合は、主に「建玉」と呼びます。 287. ポートフォリオ (portfolio)（ぽーとふぉりお） 自己資金を複数の投資商品に分散投資したときの、商品の組み合わせのこと。分散投資によってリスクが軽減されるというポートフォリオ理論がありますが、世界の著名投資家は分散投資には否定的な意見を持っていることも多いです。 288. ホームエクイティローン（ほーむえくいてぃろーん）アメリカ金融 アメリカの金融ローン制度。住宅の市場価格から、住宅ローンの未返済残高を差し引いた分をさらに融資するというローンシステム。ローンで購入した住宅を担保にして、さらにローンを組めるということ。サブプライムローンによる住宅バブルの原因となりました。 289. マウントゴックス社 (Mt. Gox)（まうんとごっくすしゃ）組織 2013 年時点で最大の取引量を誇ったビットコイン取引所。2014 年 2 月に破綻。社名は (Magic The Gathering Online eXchange) の略で、2009 年当初にマジック・ザ・ギャザリングのカード交換所であったことから。 290. マクロ戦略（まくろせんりゃく）Macro Strategy戦略 グローバル・マクロ戦略 世界情勢や金融市場などをマクロな視点で分析し、複数の資産の買いや売りを組み合わせて利益を狙う戦略。 291. マーケットデプス（まーけっとでぷす）相場 どの価格帯の指値・逆指値が、どのくらいの量あるかという情報。株の世界では「板」として示されています。 292. マーケットメイク業務（まーけっとめいくぎょうむ）取引 証券会社や銀行（マーケットメイカー）が売り気配と買い気配を提示し、顧客からの注文に応じて 相対取引 を行う業務。＝ディーラー業務。 293. 増し担、増担保（ましたん）取引 相場の加熱により、信用取引に必要な委託保証金率が引き上げられること。規制の例：委託保証金率 70% 以上（うち現金 40% 以上）。 294. 窓口指導（まどぐちしどう）金融 日銀が印鑑銀行に対して貸出の量に関して指導すること。金利などより、景気、インフレ率への直接的な影響力が強いと言われています。 295. マネージド・フューチャーズ（まねーじど・ふゅーちゃーず）組織 商品先物（コモディティ）や金融先物に特化して投資を行うファンドのこと。 296. マネージメント・バイアウト（まねーじめんと・ばいあうと）M&amp;A MBO 経営陣が参加する買収。 企業の経営者が その企業の株式を譲り受け（購入）し、オーナーとなること。 非公開会社にしたい場合（非上場化）などに行われることがあります。 経営陣が自社株を TOB（公開買い付け）で取得するのが一般的です。 TOB 後は上場廃止になるため、株主は MBO 発表後は TOB に応募して株式を処分します。 📗関連用語: TOB（Take Over Bid; 株式公開買い付け） 297. 満玉（まんぎょく） 資金規模ギリギリでポジションを取ること。 298. ミラートレード（みらーとれーど）戦略 コピートレード / ソーシャルトレード 他の人が作ったシステムや、取引手法に沿って売買を行うことをソーシャルトレードと言います。真似てトレードを行うため、コピートレードや、ミラートレードとも呼ばれます。 299. 無担保コール翌日物金利（むたんぽこーるよくじつものきんり）金利 金融機関同士が 1 日だけお金を貸し借りするときの金利。日銀が国債の売買などにより、このレートを低く誘導することで、結果的に個人や企業への貸出金利が低く抑えられるようになります（政策金利）。1994 年 10 月以降、民間金融機関の貸出金利が自由化されました。 📗関連用語: 短期金融市場 300. 名目金利（めいもくきんり）nominal interest rate金利 金融機関の店頭などで表示される金利。 📗関連用語: 実質金利 📘もっと詳しく 301. 名目 GDP（めいもくじーでぃーぴー） その時点での実際の価格をベースに算出した GDP。 📗関連用語: 実質 GDP / GDP デフレーター 302. 持ち合い株（もちあいかぶ）金融 複数の企業が互いに保有し合っている株のことを持ち合い株といいます。持ち合い株の比率が多くなると、経営者が一般株主によって解任されにくくなる一方で、株主利益が軽視されるという見方があります。 ゴールドマンサックスなどの調査では、持ち合い株の比率が高い企業は、ROE（株主資本利益率）が低くなってしまう という傾向が示されています。 303. 保ち合い相場（もちあいそうば）相場 価格が小さく上下を繰り返す相場のこと。 304. 戻り売り（もどりうり）取引 下落トレンド中に一時的に価格上昇したタイミングで売ること。 📕対義語: 押し目買い 305. 持ち株会社（もちかぶがいしゃ） グループ会社の株式を保有し、グループ全体の中核となる会社。グループ会社を支配することを主業務としています。 306. 有機的成長（ゆうきてきせいちょう） Organic growth 会社が自力で成長することで、M&amp;A などで会社規模を拡大するのではなく、本業によって稼いで成長していくことです。 307. 有効求人倍率（ゆうこうきゅうじんばいりつ）指標 内閣府（厚生労働省）が毎月発表している雇用情勢を測るための指標。「求人数／求職者数」で求められ、求人倍率が高いほど、景気が上向いているとみなされます。 308. 有効証拠金額（ゆうこうしょうこきんがく）取引 すべて建玉を決済した場合に残る金額（その時点での純資産）。例えば、100 万円入金して、10 万円の含み損が出ているときは、有効証拠金額は 90 万円となります。つまり、建玉を決済しようがしまいが、有効証拠金額は変わりません。 309. 優先株式（ゆうせんかぶしき）金融商品 種類株式の一種で、普通株と社債の中間的な証券。普通株式に比べて配当金を優先的に受け取れたり、会社解散時には優先的に財産が分配されるといった権利があります。ただし、会社経営に参加する権利（議決権）に関しては制限されることが多いです。優先株式の株価はあまり動かず（リスク低）、利回りが高いため、債権の代替になるものとして注目を集めています。 310. 有利子負債（ゆうりしふさい）財務 利子短期借入金＋長期借入金＋社債。 311. 予算教書 (Budget Message of the President) (budget message)（よさんきょうしょ）アメリカ 米大統領が連邦議会に送る予算方針で、毎年 2 月頃に提出されます。大統領が経済動向をどう捉えているか、それを踏まえた中期的な財政運営をどうするかなどの方針が含まれているため、世界経済に与える影響は大きいとされています。アメリカでは予算は法律となっており、予算関連法案の作成権限は議会にあります。大統領に予算法案を提出する権限がないため、議会へのメッセージとして送る形をとっています。ただし、大統領は予算関連法案に対する拒否権を持っているため、ほぼ大統領の思惑通りになると言われています。アメリカの会計年度は 10 月～翌年 9 月です。 312. 寄付（よりつき）取引 証券取引所の取引開始時刻。 313. 四本値（よんほんね）テクニカル取引 4 本値 始値、終値、高値、安値のこと。 314. 預貸率（よたいりつ）金融機関 銀行の資金運用能力を示す経営指標のひとつで、預金残高に対する貸出金残高の比率のこと。「貸出金／（預金＋譲渡性預金）」で計算します。 315. ヨーロピアン（よーろぴあん）オプション オプションの世界でヨーロピアンと言えば、満期日（決められた期間の最終日）にだけ行使できるオプションのことを表します。←→ アメリカン 316. ライツ・イシュー（らいつ・いしゅー）金融 新株予約権無償割当 / ライツ・オファリング 企業の資金調達手段のひとつ。市場価格よりも安い価格で新株を購入できる新株予約権を既存株主に割り当てること。この新株予約権（ライツ）は市場で売買することができるため、既存株主の不利益になりにくいという特徴があり、欧米では増資の方法として広く利用されています。株主は権利を行使して決められた金額で新たな株を取得するか、権利行使をせずに新株予約権を市場で売却します。株主が権利行使しなかった予約権を証券会社が取得して行使する「コミットメント型」と、そのような取り決めのない「ノンコミットメント型」があります。 317. ライツ・オファリング（らいつ・おふぁりんぐ）金融 新株予約権無償割当 / ライツ・イシュー 企業の資金調達手段のひとつ。市場価格よりも安い価格で新株を購入できる新株予約権を既存株主に割り当てること。この新株予約権（ライツ）は市場で売買することができるため、既存株主の不利益になりにくいという特徴があり、欧米では増資の方法として広く利用されています。株主は権利を行使して決められた金額で新たな株を取得するか、権利行使をせずに新株予約権を市場で売却します。株主が権利行使しなかった予約権を証券会社が取得して行使する「コミットメント型」と、そのような取り決めのない「ノンコミットメント型」があります。 318. リクイディティ・プロバイダー（りくいでぃてぃ・ぷろばいだー）市場 Liquidity Provider 市場において流動性（リクイディティ）を提供する金融機関。 319. リクスバンク（りくすばんく）機関 スウェーデンの中銀行。2020 年時点の総裁はイングベス氏。 320. リーブ・オーダー（りーぶ・おーだー）取引 指値注文 や逆指値注文のように、指定した値段で取引を行う注文。 321. 利食い（りぐい） ポジションを決済することにより、利益を確定すること。 📕対義語: 損切り 322. リスクオフ（りすくおふ）相場 リスクを避け、安全な資産に投資すること。日本全体がリスクオフの流れになると、新興国への投資を避けて円に戻す動きが強まるため、円高が進む傾向があります。 323. リスクオン（りすくおん）相場 リスクを取って大きな利益を得ようとすること。日本全体がリスクオンの流れになると、新興国への投資が活発になり、円を外貨にしようとする動きが強まるため、円安が進む傾向があります。 324. リスクリワードレシオ（りすくりわーどれしお）トレード 損益率。トレードごとの「平均利益／平均損失」で求められます。勝率が高くても、この損益率が低ければトータルで負けます。逆に勝率が低くても、損益率が高ければトータルで勝てます（損小利大）。→ 勝率と損益率の関係（表） 325. リバーサルハイ（りばーさるはい）相場 プライスアクションの一種。上昇トレンドで前日の高値を更新したのにもかかわらず、前日の終値よりも安く大引すること。トレンドの天井で見られる動きです。逆の動きは、リバーサルローと言います。 326. 流通市場（りゅうつうしじょう）市場 セカンダリーマーケット 証券市場は機能面から 発行市場 と流通市場に分かれます。 流通市場（＝セカンダリーマーケット）は、発行済の証券が、第二次、第三次投資者に転売、流通される市場です。 流通市場における取引には、 (1) 取引所取引（東証などでの売買）の他に、 (2) 店頭取引 や、(3) PTS（私設取引システム）があります。 📕対義語: 発行市場 / プライマリーマーケット 327. 両建て（りょうだて）戦略 ヘッジ。同じ銘柄の買いポジションと、売りポジションを同時に持つこと。両建てを用いた手法は存在しますが、次のような欠点があるため一般的に推奨されていません。(1) 証拠金が拘束されて別の投資に回せない。(2) 株式の場合、売り買いの手数料がかかるので損。(3) FX の場合、売りと買いのスワップポイントが異なっていると損が出る。 328. 量的金融緩和 (QE: Quantitative Easing)（りょうてききんゆうかんわ）政策 経済ショックなどへの対策として、中央銀行が市場から金融資産などを買い入れて市中金利を引き下げ、市場に出回るお金の量を増やすこと。 329. 量的引き締め (QT: Quantitative Tightening)（りょうてきひきしめ）政策 量的金融緩和の逆で市中金利を上げ、市場に出回ったお金の量を減らすこと。具体的には、市場から買い入れた金融資産（国債など）の満期が来たものの再投資を行わず償還し、中央銀行の保有資産を圧縮していきます。金利上昇により株価の下落を招きやすいため、投資家は金融引き締めが行われるタイミングを警戒します。どうやって引き締めていくかを出口戦略と呼んだりします。 330. 利率（債権の）（りりつ）債権 一年間に支払われる利子の割合のことを利率といいます。 具体的には、債権の額面金額に対して支払われる一年間の利子の割合です。 331. レジスタンスライン（抵抗線）（れじすたんすらいん（ていこうせん））registance lineトレード 相場の上昇局面で、この価格より上には上がらないと思われるライン。 📕対義語: サポートライン（支持線） 332. レセプト債（れせぷとさい）債券 医療機関が医療保険会社（健康保険組合など）からの医療費を受け取るための権利を証券化したもの。日本では、健康保険や国民健康保険によって、医療機関での支払額は自己負担 3 割に軽減されており、医療機関は残りの 7 割を保険会社から受け取ることになっています。この受け取りには通常 2 ヶ月程度かかるため、資金繰りに困っている医療機関は何とかして直近で必要となる資金を用意しなければいけません。そこで生まれたのがレセプト債です。2015 年頃からレセプト債を扱うファンドなどが相次いで倒産して問題となっていますが（「レセプト債」4 社が破綻　227 億円回収不能のおそれ - 日本経済新聞）、これは、レセプト債自体が悪いというよりは、単純に運用会社側の問題です。 333. レンジ相場（れんじそうば）相場 ボックス相場 しばらくの間、価格が大きく上昇も下降もしていない相場のこと。価格の上下が、ある一定の範囲（レンジ）に収まって繰り返されることからこう呼ばれます。 📕対義語: トレンド相場 334. 連続約定気配（れんぞくやくじょうけはい）取引 短時間に更新値幅を大きく上回って取引値段が動いたときに東証が発表する気配値。東証 arrowhead が稼働した 2010 年 1 月にこの気配値が導入されました。 335. 狼狽売り（ろうばいうり）相場 損失が急激に広がり、慌てて売りに走ること。 336. ローカル／ローカルズ（ろーかる／ろーかるず）locals local traders の略。先物市場において、自己勘定で取引を行う個人会員。 337. ロビンフッダー（ろびんふっだー） ロブンフッド証券が提供する株式取引アプリ「ロビンフッド」を使って取引する若者たち。ロビンフッドは取引手数料ゼロで一気に広まりました。背後では超高速取引 (HFT) 業者への売買情報提供が行われており、それが利益の源泉とされています。このあたりの仕組みを理解していない投資初心者のユーザーが多く、一時期問題視されました。 338. ロールオーバー（ろーるおーばー）先物取引 決済を先延ばしにすること。特に先物取引においては限月の「乗り換え」を意味し、ある限月のポジションを決済するのと同時にその次の限月のポジションを建て直すことを指します。要するに SQ 日を跨いで持ち越すということです。株式投資においても、NISA の 5 年縛りによる「ロールオーバー」で目にすることが多くなったワードです。 339. ローレイテンシー取引（ろーれいてんしーとりひき）戦略 定遅延時間取引。超高速ロボのスピードを活かした裁定取引のこと。 340. ロング（ろんぐ）取引 買いのこと。逆に売ることはショートといいます。 341. ロング・ショート戦略（ろんぐ・しょーとせんりゃく）戦略 ヘッジファンドの代表的な戦略で、相対的に魅力度の高い銘柄を買い持ち（ロング）し、魅力度の低い銘柄を売り持ち（ショート）する戦略。 342. ロンドン銀行間取引金利（ろんどんぎんこうかんとりひききんり）LIBOR: London Interbank Offered Rateイギリス金利 LIBOR: London Interbank Offered Rate ロンドンのインターバンク市場（銀行間の取引）における短期金利です。 様々なローンにおける短期金利の指標になっています。 ドル、ユーロ、円などの主要通貨を網羅しており、金融機関同士の国際的な取引に使われます。 世界の金利の目安とされていましたが、2013 年の夏、談合によって不正操作されていたことが明るみになりました。 📗関連用語: TIBOR（東京銀行間取引金利） 343. ワイルダー（わいるだー）人 J. Welles Wilder. Jr. テクニカル分析の分野において、様々な数学的手法を確立しました。有名なテクニカル指標である RSI の考案者。 📘もっと詳しく 344. 割引債（わりびきさい）金利債券 ゼロクーポン債 / ディスカウント債 利息の受け取りの権利（クーポン）がつかない債券のことを、「ゼロクーポン債」、「ディスカウント債」「割引債」と呼びます（特に海外で発行される割引債はゼロクーポン債と呼ぶのが一般的です）。債権の購入時と売却時の価格差だけが利益となります（償還差益）。クーポンがない代わりに、発行時の価格は額面価格に比べて安く設定されます。例えば、アメリカ国債（ゼロクーポン債）の残存 20 年 8 ヵ月物は、額面 100 ドルのものが 56.92 ドル（利回り 2.73 ％）で購入できます（2018 年 8 月時点）。日本の代表的な割引債は、国庫短期証券（2ヵ月・3ヵ月・6ヵ月・1年）です。 345. 2 階建て（にかいだて）取引 保有している現物株を担保にして、信用買いで同じ銘柄を購入すること。通常の信用買いでは約 3.3 倍のレバレッジをかけて取引きできますが、2 階建てでは約 3.7 倍のレバレッジをかけることが可能です（= 1 + (0.8 / 0.3))。リスクが大きいのでオススメはしません。 346. 4 本値（よんほんね）テクニカル取引 四本値 始値、終値、高値、安値のこと。 347. BEI (ブレーク・イーブン・インフレ率）指標 市場のインフレ率を図る指標のひとつ。物価連動国債の価格を使って求めることもできます。アメリカの FRB が金融政策を考える際に参考にしています。日本では、物価連動国債の市場規模が比較的小さく、ボラティリティが高くなって数値が安定度しないため、BEI の信頼度は低いと言われています。物価連動国債の発行残高は、アメリカの 127 兆円に比べ、日本は 4 兆円しかありません（2015 年現在）。 348. BIS (Bank for International Settlements)機関 国際決済銀行 スイスのバーゼルにある国際機関で、各国の中央銀行間の決済を行っています。そのため、「中央銀行の中の中央銀行」と呼ばれています。 349. BNF 氏人物 通称 JCOM 男。JCOM 株を 1 円で取得し、数分で何億も稼いだことで一躍有名になりました。 350. Buy Limit（ばいりみっと）注文方法 買いの 指値注文 のこと。 351. Buy Stop（ばいすとっぷ）注文方法 買い逆指値注文のこと。 352. Cap（きゃっぷ）金利 金利上限特約（キャップ）付変動金利のローンなどで、上限を設けること。帽子をかぶせるというイメージから Cap と呼んでいます。逆に下限を設けることは、フロア (Floor) と言います。 353. CAPM（きゃっぷえむ）理論 1965 年にウィリアム・シャープ氏などが提唱した理論で、市場ポートフォリオ（市場全体の資産の加重平均）が最適なポートフォリオであるとするもの。 354. CDB: China Development Bank国家開発銀行組織中国 国家開発銀行 中国の 3 つの政策銀行の 1 つ。中国が国内外の国家プロジェクト（ダム建設など）を対象に融資を実施する政策銀行。10 年債などを発行しています。 355. CDR中国 中国預託証券。ADR（米預託証券）の中国版。中国本土の市場で、海外上場企業に人民元建てで投資できます。 356. CoCo 債 (Contingent Convertible Bonds)債権 偶発転換社債 転換社債のひとつで、発行側の都合で株式に転換されます。通常、業績が悪くなった場合など、ネガティブなケースで転換が行われます。 357. CP: Commercial Paper債権 優良企業が発行する無担保の約束手形。直接金融による資金調達方法のひとつ。償還が 1 年以上の社債とは異なり、CP の償還は通常 1 年未満で、割引価格で発行されます。 358. Cross-shareholding株式持ち合い 株式持ち合い 協力関係にある企業間で、互いの株式を持ち合うこと。敵対的買収の防衛などのために行われています。 359. Disaster Stop エントリーと同時に必ず損切り（ストップ）注文を置くこと。 360. DOE: Dividend on Equity Ratio自己資本配当率指標 自己資本配当率 企業がどのくらいの配当を行っているかを示す指標で、「配当総額／自己資本」で求められます。 361. EBITDA: Earnings Before Interest, Taxes, Depreciation, and Amortization（いーびっとだー）指標 利払い・税引き・償却前利益。 362. ETF: Exchange Traded Fund（いーてぃーえふ） 取引所に上場している投資信託。証券会社のアプリで株と同じように売買できます。投資信託が 1 日 1 回しか基準価額が変わらないのに対し、ETF は株と同様に価格が逐次変化します。指数と連動するように運用されている銘柄は手数料が安く設定されています。ファンド名に「上場」や「上場投信」というキーワードが含まれているものは ETF です。 363. e-krona（いーくろーな）仮想通貨 スウェーデン中央銀行が発行計画を進めているデジタル通過で、世界初のデジタル通貨の発行国を目指すとしています。e-クローナの実証実験は 2020 年 2 月に開始されました。 364. FF: Federal Fund Rateアメリカ金利 1970 年代以来のアメリカの中央銀行の誘導金利。 365. fiat money金融商品 金貨や銀貨などの本位紙幣との交換が保証されていない法定紙幣。 フィアット・マネー。 政府の信用によって支えられていることから、信用紙幣 (faith money) とも呼ばれます。 📕対義語: 兌換紙幣 366. FRB: Federal Reserve Boardアメリカ機関 アメリカ合衆国の連邦準備制度理事会。アメリカ合衆国の中央銀行制度である FRS（連邦準備制度）の最高意思決定機関です。 367. GDP デフレーター（じーでぃーぴーでふれーたー）指標 ある国の 名目 GDP から 実質 GDP を算出するために用いられる物価指数。 「実質 GDP ＝ 名目 GDP ／ GDP デフレーター」という計算式で求められます（この計算処理のことを、名目 GDP をデフレートすると言います）。 GDP デフレータが大きいときはインフレ傾向が強く、GDP デフレーターが小さいときはデフレ傾向が強いことを示します。 企業物価指数や消費者物価指数が輸入品の価格も含めて計算するのに対し、GDP デフレーターは輸入品を考慮しません。 日本では、GDP と GDP デフレーターは 内閣府によって公表 されます。 📗関連用語: 実質 GDP / 名目 GDP 368. IPO: Initial Public Offering取引 新規上場。未上場の企業が証券取引所に上場すること。 369. IR: Investor Relations開示 株式公開企業が、投資家に対して自発的に情報発信する活動。財務状況や、企業全体の方針などを適切なタイミングで発表することにより、株価の安定を図る目的 があります（実力以上に株価が下がらないようにし、敵対的買収のリスクを下げます）。また、投資家に対して積極的な情報開示を行うことは、投資家の信頼を得る ことにも繋がります。将来的な資金調達を円滑に進めるため には、計画的な IR 開示が必要不可欠です。 370. Kissing Upチャート 移動平均線などで短期線が長期線を割り込む（デッドクロス）寸前で上昇に転じること。 371. LBO: Leveraged BuyoutM&amp;A 買収先の企業自体を担保として借り入れを行い、企業買収を行うこと。1987 年のブラックマンデーの原因の一つといわれています。日本では村上ファンドやライブドアが使っていた手法です。 372. LIBOR: London Interbank Offered Rate（らいぼー、りぼーる）ロンドン銀行間取引金利イギリス金利 ロンドン銀行間取引金利 ロンドンのインターバンク市場（銀行間の取引）における短期金利です。 様々なローンにおける短期金利の指標になっています。 ドル、ユーロ、円などの主要通貨を網羅しており、金融機関同士の国際的な取引に使われます。 世界の金利の目安とされていましたが、2013 年の夏、談合によって不正操作されていたことが明るみになりました。 📗関連用語: TIBOR（東京銀行間取引金利） 373. Liquidity Provider市場 リクイディティ・プロバイダー 市場において流動性（リクイディティ）を提供する金融機関。 374. M&amp;A: Mergers and AcquisitionsM&amp;A 合併・買収のこと。TOB（株式公開買い付け） や MBO などの手法があります。 375. MAS: Monetary Authority of Singapore機関 シンガポールの金融通貨庁。ICO の扱いの方針などを出したりしています。 376. MBO :Management BuyoutM&amp;A マネージメント・バイアウト 経営陣が参加する買収。 企業の経営者が その企業の株式を譲り受け（購入）し、オーナーとなること。 非公開会社にしたい場合（非上場化）などに行われることがあります。 経営陣が自社株を TOB（公開買い付け）で取得するのが一般的です。 TOB 後は上場廃止になるため、株主は MBO 発表後は TOB に応募して株式を処分します。 📗関連用語: TOB（Take Over Bid; 株式公開買い付け） 377. MMF: Money Management Fund投資信託 追加型公社債投資信託の一種。 証券会社などが提供する公社債投信で、銀行の定期預金よりも利率がよく（約 2 倍）、証券会社破たん時の保護もありますが、価格が変動するため元本保証はありません。 普通預金的な側面を持つ MRF（マネーリザーブドファンド）と比べると、MMF は定期預金的な扱いに近く、30 日未満の引き出しは、信託財産留保額というペナルティを支払う必要があります。 378. MRF: Money Reserved Fund投資信託 追加型公社債投資信託の一種。 証券会社などが提供する公社債投信で、MMF（マネーマネジメントファンド）と比べると、短期の債権を扱うため、自由に引き出しのできる普通預金のように扱うことができます。 価格変動するため元本割れのリスクはありますが、きわめて安全に運用されるため、過去に元本割れしたケースはなく、証券会社における普通預金的なものとして扱われています。 一般的に、株式などの購入のために証券会社の口座に入金すると、自動的に MRF で運用するようになっていますが、MRF を廃止して銀行預金と連動する仕組みに移行している証券会社が多くなってきています。 金利は MMF よりは低いですが、銀行の普通預金よりは高く設定されています（1.5 倍程度）。 379. MOVE 指数（むーゔしすう） 米国債の先物を対象に算出される恐怖指数。VIX 指数の米国債版。債券市場が混乱し、投資家の不安が高まると上昇する傾向があります。 380. NZX: NEW ZEARAND&#39;S EXCHANGE ニュージーランド証券取引所。ニュージーランド・ウェリントンに 1983 年に設立された取引所。通貨はニュージーランドドルで、主な指標は S&amp;P NZX 50。 381. OCO 注文（おーしーおーちゅうもん）取引 ブラケット注文 利確の指値と、損切り（ストップロス）の逆指値の設定を同時に行う注文。 382. Organic growth 有機的成長 会社が自力で成長することで、M&amp;A などで会社規模を拡大するのではなく、本業によって稼いで成長していくことです。 383. OTC (Over the Counter) 相対取引 / 店頭取引 相対取引、店頭取引のこと。 384. PE: Private Equity戦略 プライベート・エクイティ 上場していない株式のこと。ただし、買収に関するコンテキストで PE という言葉を使う場合、企業が必要としている資金を提供する代わりに、積極的な経営関与やガバナンスを行う投資手法のことを指します。未上場のベンチャー企業に投資するベンチャー投資（ベンチャー・キャピタル）や、バイアウト投資などがあります。米プライベートエクイティ投資会社としては、カーライル・グループやアポロ・グローバル・マネジメントなどがよく知られています。 📗関連用語: エクイティ / バイアウト投資 / プライベート・エクイティ・ファンド 385. PE ファンド: Private Equity ファンド機関 プライベート・エクイティ・ファンド 未公開企業（非上場企業; PE）に資金を投じるファンドで、よりアクティブな PE ファンドでは、PE の株式の過半数を取得して経営権を取得し、企業価値を高めた後により高値で売却して利益を得ます。 日本風力発電や東芝メモリに投資した「ベインキャピタル」も PE ファンドのひとつです。 GPIF（年金積立金管理運用独立行政法人）も、高利回りを期待できる運用先として PE ファンドへの投資の方針を打ち出しています。 📗関連用語: プライベート・エクイティ 386. PER: Price Earnings Ratio指標 株価収益率 「株価 ÷ 一株利益(EPS)」で求められる倍率で、株価の割高・割安を判断するための指標です。 この指標は、企業が何年間の利益でその株価と同じ金額を回収できるかを示しています。 多くの場合は 10〜20 倍程度になりますが、成長企業の場合は 50 倍を超えることもありますし、問題のある企業では非常に低い倍率となる場合もあります。 387. PEX: Palestine Exchange市場 パレスチナ取引所。パレスチナ・ナブルスに 1995 年に設立された取引所。通過は新シェケル（2020 年 11 月時点で、1 新シェケルは約 30 円）。代表的な株価指数は Al Quds。Web サイトは web.pex.ps 388. QUICK コンセンサス開示指標 日本経済新聞社グループの株式会社 QUICK が発表している企業の業績予想。多数のアナリストの業績予想を集計し、その平均値を出しています。 389. QUICK コンセンサス DI開示指標 QUICK コンセンサスがアナリストたちの単一企業の業績予想であるのに対し、同 DI は、企業業績全体の傾向を見るための業績予想指数として発表されています。 390. SEC: Securities and Exchange Commisionアメリカ機関 アメリカの証券取引委員会。1934 年に証券取引法によって設立。 391. Self-regulatory Organizations自主規制機関機関金商法 自主規制機関 金融商品取引法により自主規制の権限を付与され、自らの定款や諸規則によって取引のルールを定めている団体です。日本の証券業者の主な自主規制機関としては、(1)各証券取引所（金融商品取引所）、(2)日本証券業協会、(3)投資信託協会 があります。 392. Sell Limit（せるりみっと）注文方法 売りの 指値注文 のこと。 393. Sell Stop（せるすとっぷ）注文方法 売り逆指値注文のこと。 394. SNB機関 スイス国立銀行。 395. SPAC: Special Purpose Acquisition Company（すぱっく）会社 特別買収目的会社。IPO より手軽な上場方法として 2020 年にアメリカで人気となり、800 億ドルを超える資金が集まりました。SPAC となる会社は先に上場しておいて資金を集め、未上場企業を買収後に自らは消滅するという逆さ合併方式を採用しています。2021 年初頭の研究では、SPAC への投資はあまりパフォーマンスがよくないという結果が出ています。 396. SPAN（すぱん）先物デリバティブ Standard Portfolio Analysis of Risk の略称。 先物取引やオプション取引の際に必要な証拠金の算出方法です。 CME（シカゴ・マーカンタイル取引所）が開発した算出方法で、日本では 2000 年 11 月から採用されました。 ポートフォリオから生じるリスクに応じて計算されます。 397. SQ: Special Quotation特別清算指数指標 特別清算指数 先物、オプションの強制決済価格の基準となるもの。 「SQ 日」の前日が取引の最終日であり、この日までに決済されなかったものは、SQ の価格で強制決済されます。 毎月第 2 金曜日の日経平均構成銘柄の始値から算出されます。 3、6、9、12月のものを「メジャー SQ」、それ以外の月のものを「マイナー SQ」と呼びます。 オプション取引の決済日は毎月ありますが、先物取引の決済日は 3、6、9、12 月と、3 ヶ月おきです。 メジャー SQ では両方（オプション取引と先物取引）の決済が重なり、売買高が大きくなるため注目されます。 398. Taper Tantrum（てーぱー・たんとらむ）アメリカ歴史 2013 年 5 月 22 日に発生したバーナンキ・ショックは Taper Tantrum 「市場の癇癪（かんしゃく）」とも呼ばれています。金融緩和という飴を取り上げられた市場が、癇癪を起した（売りで反応した）という感じの意味です。 399. target2 (Trans-Europe an Automated Real-Time Gross Settlement Express Transfer System 2)（たーげっとつー） 欧州中央銀行 ECB が運営しているユーロ圏の決済システム。ユーロ導入後に、ECB とユーロ圏内の各中央銀行が作成しました。欧州債務危機の際は、ギリシャの中央銀行が市中の銀行に資金を送り込むためにこのシステムを利用しました。 400. TCMB機関 トルコ中央銀行。 401. TDnet: Timely Disclosure network仕組み 東証が 1998 年 7 月 1 日から取り入れているコンピューターシステムで、上場会社が発表したディスクロージャー情報を迅速かつより広く報道機関や投資家に伝えるためのものです。 402. TIBOR: Tokyo Interbank Offered Rate（たいぼー）東京銀行間取引金利金利 東京銀行間取引金利 TIBOR は Tokyo Interbank Offered Rate の略。 国内の金融機関の間で、資金の貸し借りを行うときの基準金利として使用されているものです。日本の代表的な銀行の貸出金利を平均して求められています。 一方で、大企業向け融資の基準となる金利は「プライムレート」と呼ばれます。 似たようなものに、ロンドンの金融機関が決めている基準金利である LIBOR があります。 📗関連用語: LIBOR（ロンドン銀行間取引金利） 403. TOB: Take Over BidM&amp;A 株式公開買い付け 公開市場において株式の買い付けを行い、その企業の経営権を獲得する企業買収方法です。 その企業（取締役会）の合意がない場合は、敵対的 TOB と呼びます。 📗関連用語: 敵対的買収 404. TSX: Tront Stock Exchange市場 トロント証券取引所。カナダのトロントに 1861 年に設立された取引所。代表的な株価指数は S&amp;P/TSX Composite Index（S&amp;P トロント総合指数）。Web サイトは tsx.com 405. TTM: Telegraphic Transfer Middle Rate仲値 仲値 銀行が顧客と取引する際に基準価格として用いる為替レート。東京市場では、9 時 55 分頃のレートをもとに決定されます。各銀行が独自に決めるため、銀行ごとにレートは異なります。 406. VaR: Value at Risk指標 市場リスクによる最大損失額を統計的手法で予測した指標。 407. VIX 指数（ゔぃっくすしすう）指標 Volatility Index 指数。米国株式（S&amp;P500 指数）を対象として算出される恐怖指数。投資家の不安が高まると上昇する傾向があります。 408. 10-K レポート（てんけーれぽーと） アメリカの公開会社が SEC（米国証券取引委員会） に提出することが義務付けられている財務諸表など資料のこと。"},{url:"/p/qanid5r/",title:"テクニカル指標: ローソク足パターン",date:"2018-03-04T00:00:00Z",body:"テクニカル指標: ローソク足パターン はらみ足 (Inside bar)、抱き線 (Engulfing) はらみ足 (Inside bar) 前の足の実体の範囲（始値〜終値）に、次の足の実体（始値〜終値）がすっぽりと収まるパターンです。 相場の転換時に現れることが多いと言われていますが、頻繁に現れるパターンであり、これだけで相場転換を判断するのは危険です。 2本のローソク足の組み合わせによって、次のように細かく呼び分けることもあります。 1) 陰の陽はらみ、2) 陽の陰はらみ、3) 陽の陽はらみ、4) 陰の陰はらみ。 5分足などの短いインターバルのチャートでは、陽の陽はらみや、陰の陰はらみはほとんど出現しません（前の足の終値と、次の足の始値が飛ぶ形になるため）。 抱き線、つつみ線 (Bullish engulfing) はらみ足の逆のパターンで、後ろの足の実体部分が、前の足の実体部分をすっぽり囲い込む形です。 陰線をすっぽりと囲む陽線が出た場合は、Bullish engulfing（強気の包み込み）といい、上昇相場への転換サインとなります。 Outside bar パターン 抱き線の発展形で、最後の足の実体部分が、前の2つの足の実体を両方ともすっぽりと囲む形です。 図のような形になると、上昇への転換を表します。 5分足などの短いインターバルのチャートでは、このように複数の足の関係を見た方が、だましを排除しやすくなるでしょう。 三川 三川はローソク足3本の組み合わせのパターンです。 三川明けの明星 (Morning star) 底入れを示すサインです。 三川宵の明星 (Evening star) 天井を示すサインです。 三兵 三兵はローソク足3本の組み合わせのパターンです。 赤三兵 (Three white soldiers) 安値と高値を切り上げながら3連続する陽線が出現するパターンです。 底値圏で出れば上昇転換のサインとなります。 黒三兵 (Three black crows) 高値と安値を切り下げながら3連続する陰線が出現するパターンです。 天井圏で出れば下降転換のサインになります。 カラカサ／トンカチ カラカサ (Hammer, Hanging man) 上昇トレンドや下降トレンドが継続した後に、下に長いヒゲを持つ短い実体が登場するパターンです。 一般的に、下降トレンドの後に出現するものをハンマー (Hammer) と呼び、上昇転換を示唆します。 逆に、上昇トレンドの後に出現するものをハングマン (Hanging man)（首吊り）と呼び、上昇相場の終わりを示唆します。 トンカチ、流れ星 (Shooting Star) 上昇相場のピークあたりに現れると下落の兆しを示し、下降相場の底値あたりで現れると上昇の兆しを示します。日本語でトンカチというと、下に実体のあるこの形ですが、英語で Hammer というと、上に実体のある形（＝カラカサ）を示すことに注意してください。 2デイ・リバーサル 2デイ・リバーサル (上昇転換) 前日が大きな下落、当日が大きな上昇となり、前日始値と当日終値が一致するパターンです。底値圏で現れると上昇転換のサインとなり、二つのローソクを合わせると同時線になります。同時線が相場の反転を示すと言われる理由です。 2デイ・リバーサル (下降転換) 前日が大きな上昇、当日が大きな下落となり、前日始値と当日終値が一致するパターンです。天井圏で現れると下降転換のサインとなり、二つのローソクを合わせると同時線になります。同時線が相場の反転を示すと言われる理由です。"},{url:"/p/tgvo4fk/",title:"経済付加価値 (EVA: Economic Value Added)",date:"2018-02-22T00:00:00Z",body:"経済付加価値 (EVA: Economic Value Added) 概要 EVA は、企業が投資した資本に対して、どれだけのリターン（付加価値）を生んだかを示す経営指標です。 EVA の値がプラスであれば、投資額以上に企業価値が向上したことを示しており、付加価値を生み出していると言えます。 そのため、経済付加価値という名前が付けられています（この名前は分かりにくいです・・・）。 EVA は次のような計算式で求められます。 EVA ＝ 利益 － 資本コスト 具体的には、 利益: 税引後営業利益 (NOPAT: Net Operating Profit after Tax) 資本コスト: 投下資本に対して発生したコスト（≒投下資本ｘ資本コスト率） で、資本コストには、借りたお金に対する負債コスト（債権者への支払利息）だけでなく、自己資本コスト（株主への還元コスト）も含まれています。 ひとことで言えば、EVA がプラスであるということは、企業が投資に対する見返りとして支払っているお金（借金の利息や株主への配当）よりも、稼ぎ出しているお金の方が多いということです。 つまり、EVA がプラスである限り、その企業の価値は大きくなり続けているということであり、投資家にとってもウハウハな成長をし続けているといえます。 EVA の特徴 EVA の計算で使われる資本コストには、すべての投下資本に対してかかるコストが含まれています。 投下資本とは、すなわち、投資家から集めたお金で、大きく分けて、有利子負債 (Debt) と株主資本 (Equity) の２つに分類できます。 投資家から集めたお金ということは、企業はそれに対する見返りを支払い続ける必要があります。 それが資本コストです。 有利子負債 (Debt): 債権者への支払利息を払う必要がある 株主資本 (Equity): 株主への還元を行う必要がある（配当金など） EVA は、こういった投下資本すべてにかかるコストを明確にして計算するところに意味があります（逆にそれ以上の意味はない）。 損益計算書でも企業の利益構造を確認することはできるのですが、投下資本に対してどの程度の稼ぎを出しているのかを把握することは困難です。 なぜなら、損益計算書には、投下資本にかかるコストとして債権者への支払い利息しか出てこないからです。 一方で、EVA では株主還元分まで含めた投下資本コストを考慮しているので、企業が投資に見合った成長をしているかを客観的に判断することができます。 EVA の課題としては、短期的な業績の評価にしか用いることができないという点が挙げられたりしますが、実際の経営判断は単一の指標をもとに行うことはありませんし、課題というよりは特徴のひとつと捉えるべきでしょう。 EVA の値はマイナスになりやすいということが分かっており、ディスクロージャーの中で提示する値としては使いにくい側面があります（目標低いなぁ～って思われちゃう）。 そのため、企業が公に提示する目標値として見かける機会は多くないかもしれませんが、企業内での経営判断のために、非公開に利用されている可能性はあります。 EVA の用途 EVA は、投資コストに対する企業の成長度合いを示しており、株価との関連性が高いとされています。 そのため、EVA は投資家やアナリストが企業の成長性を見るときの指標になります。 また、多くの事業をかかえている企業にとって、EVA は企業内の各事業がうまくいっているかの経営判断のための指標となります。 EVA が長年に渡りマイナスになっている事業は、資本コストに見合った成果を上げられていないため、早めに撤退し、別の事業に資本をシフトすべきだと判断することができます。 EVA の起源と現状 EVA は米国のＧ・ベネット・スチュアート３世が開発した収益性指標で、もともとは、コカ・コーラ系列のボトラーを評価するために使用していました。 現在は Stern Value Management 社（旧スターン・スチュワート社、Stern Stewart &amp; Co）の登録商法となっています。 1980 年代から米国の企業で EVA の導入が始まりました。 日本でも 1990 年代から大手企業が導入を始めましたが、多くの企業が導入をしたのは 2000 年近くになってからです。 例えば、花王は 1999 年から EVA 経営を開始し、現在も EVA を経営指標として用いています。 投下資本コストの計算が困難だという理由で採用を見送る企業もあるようですが、計算式を簡易化することで負担を軽減する方法も考案されてきています。 関連指標 ROIC（投下資本利益率）"},{url:"/p/9moebti/",title:"円安／円高の要因",date:"2017-12-03T00:00:00Z",body:"円安／円高の要因 一般的に「円安」というと、米ドルとの比較で語られることが多いので、ここでも米ドルと円の関係に着目することにします。 円安になる要因 貿易収支が赤字になる 貿易収支が赤字になるということは、日本の輸入が増えるということです。 輸入が増えると、決済通貨であるドルも大量に必要になるため、円を売ってドルを買わなければなりません。 外貨準備として米ドルの保有量を増やそうとすると、ドルの価値が上がり、円安ドル高となります。 日本が貿易赤字 → 円安（輸入のためのドル買いが進むため） 日本が貿易黒字 → 円高（輸出で得たドルの売りが進むため） ただし、長期的な視点（10年以上のスパン）で見ると、購買力平価によって通貨の強さが修正されていくため、各国のインフレ率の方が重要になってきます。 例えば、日本のインフレ率に比べて、アメリカのインフレ率の方が高いと、相対的に米ドルの価値がどんどん下がっていくということになるので、円高ドル安になります。 アメリカの金利が高い 日本の政策金利よりもアメリカの政策金利の方が高い場合、キャリートレードでドルを買う人が増えます。 FX をやっているとよく分かりますが、USD/JPY の買いスワップポイントがプラスになっているときにドルの買いポジションを持っていると、日々スワップポイント分のお金を受け取ることができます。 このような状況では、円を売ってドルを買う人が増えるため、円安ドル高が進みます。 アメリカの政策で米株が上がりそうな局面 アメリカの政策によって、アメリカ株だけが買われそうな局面では、円をドルに変えてアメリカ株を買う人が増えます。 相対的にドルの価値が上がるため、円安ドル高となります。 円とドルが共に強くなる要因 世界的に株価が下落局面 戦争やテロ、金融危機などが発生しそうなニュースが増えてくると、リスク・オフ資産である（とみなされている）日本円や米ドルが買われます。 日本円と米ドルは共に買われることになるのですが、2017 年現在では、日本円の方がリスク・オフ資産としての傾向が強いため、円高ドル安が進むようです。 ちなみに、リスク・オフの局面では、買われる（強い）通貨を順番に並べると下記のような感じになります。 日本円 米ドル ユーロ スイスフラン 英ポンド カナダドル ニュージーランドドル 豪ドル ニュースなどでミサイルが発射される可能性が伝えられると、豪ドルやニュージーランドドルが売られ、日本円や米ドルが買われます。 円とドルが共に弱くなる要因 リスク・オン時 世界中が強気相場のときは、世界中の企業が投資家が対外的な投資を積極的に進めるようになります。 日本円や米ドルは資産として蓄えられている量が多いため、全通貨で相対的に見ると、日本円や米ドルを使って対外投資を行うことが多くなります。 結果的に、日本円と米ドルが売られ、共に通貨安が進みます。 リスク・オン時には、どちらかというと日本円の方がより多く売られるため、円安ドル高になる傾向があります。 為替の方程式 マーケットアナライズで紹介されていた、実践で使える為替の方程式です。 経常収支仮説、ポートフォリオリバランス理論は役に立たないとのこと。 結局は、「金利」と「インフレ率」に集約されると。 理論政策・環境変化為替の動き 金利平価説 金融引き締め通貨高 ↑ 金融緩和通貨安 ↓ マンデル・フレミング理論 財政拡張通貨高 ↑ 財政縮小通貨安 ↓ 購買力平価 インフレ率上昇通貨安 ↓ インフレ率低下通貨高 ↑"},{url:"/p/u34dsho/",title:"立会外分売を利用する",date:"2017-12-03T00:00:00Z",body:"立会外分売を利用する 立会外分売とは 大株主が所有する上場株式を売り出すための仕組みとして 立会外分売（たちあいがいぶんばい） があります。 立会外分売は、証券取引所の取引時間外（立会外）で購入者を募り、取引を成立させます。 売り出し価格（分売価格）はあらかじめ提示され、購入者はその値段を見て購入の申し込みを行います。 多くの場合は、売り出し株数よりも購入希望株数の方が多いため、抽選で購入権を得ることになります。 分売価格は ディスカウント価格（分売決定日の終値の3〜5％オフ程度） で売り出され、株式の購入手数料は無料です。 立会外分売の目的を見極める 立会外分売の主な目的は、投資家数の拡大による流動性の確保です。 流動性の確保は、東証一部への上場、鞍替えを示唆することがあります。 東証一部への上場は、新興市場よりも流動性が高いことが条件として求められているからです。 次のような条件を満たした銘柄であれば、将来の成長を見越した買いを入れていくのもよいでしょう。 東証一部に上場していない 業績が数年伸び続けている 株価も比較的安定した伸びをしている 一方で、単純に大株主が換金する目的で売り出しを行うこともあります。 ザラ場で大量の売りを出すと、株価が急激に下がってしまうため、立会外分売を利用して売りに出します。 立会外分売の発表日から、実施予定日までの期間が短い場合、単なる換金目的の売り出しの可能性があります。 立会外分売の流れ 例えば、SBI 証券の場合、立会外分売の分売日と分売価格が決定すると、その前日の夕方に次のような感じでメールが届きます。 【11/21（火）8：20まで！】株式会社キャリアインデックス（6538) 立会外分売の申込受付中！ ・銘柄　：キャリアインデックス(6538) ・分売実施日　：11/21（火） ・分売価格　：1,611円　(分売実施前営業日11/20(月）終値　1,655円) ・ディスカウント率　：2.66％ ・買付申込数量の限度：買付顧客1人につき300株（売買単位：100株） ・受付期間　：2017/11/20（月）18:00　～　2017/11/21（火）8:20 申し込みの期限は、通常次の日の朝まで（金曜日の場合は、翌週の月曜日の朝まで）なので、あまり迷っている時間はありません。 その日の終値からディスカウントされた価格で売り出されるので、日にちを空けて売り出すわけにはいかないからです（分売価格を決めたらすぐに分売を実施しないと、翌日に分売価格まで下がってしまうので、ディスカウントの意味がなくなってしまう）。 立会外分売の予定がある場合は、数週間前からその予定日の候補（12/14〜21 など）が示されますので、予定日が公表され次第、購入するかの検討を始めるとよいでしょう。 予定日の週に入ったら、夜にメールをチェックすることを忘れないでください。 立会外分売は長期投資目的で使用する 立会外分売にはディスカウント率が設定されているため、このディスカウント率を利用した短期的な儲けを狙って購入してくる個人投資家がたくさんいます。 そのため、分売日の寄り付きでは、ディスカウント率分だけ下げて寄り付くことがよくあります。 逆に、分売日の前日終値よりも高く寄り付くことはまずないと考えてよいでしょう。 ディスカウント幅を利用したマネーゲームをしてもよいのですが、立会外分売では大した枚数を購入することはできないので、あまり旨味はないと思います。 それよりは、長期的な業績の伸びが期待できるかどうかを見極め、長期保有する価値があると思った場合に利用することをおすすめします。 仮に、購入を決めたのに抽選に外れてしまった場合は、寄り付きで分売価格近くまで下落したときに購入していけばよいでしょう（その価格で保有する価値があると判断したのですから、ザラ場で購入しても本質的な違いはないはずです）。"},{url:"/p/b8py32z/",title:"商品に高い価格を付けることの利点",date:"2017-11-18T00:00:00Z",body:"商品に高い価格を付けることの利点 自社の商品を売り出すとき、価格の競争力をつけようとしてむやみに安売りしようとすると価格競争に巻き込まれてしまいます。 価格競争に巻き込まれると、大量生産や大量仕入れによる値下げを行える大企業には太刀打ちできなくなってしまいます。 ビジネスを始めるときは、逆に高い価格設定で勝負できないか考えてみましょう。 高い価格帯で商品を売っていくことで、次のような効果を得られます。 高い価格帯で勝負すれば、価格競争に巻き込まれにくい。低価格を求める客はどこまでも低価格を求めるため、そのような人たちだけを相手にして価格を下げていくと、儲けが出なくなる。 高いマージンを設定できるため、多くのステークホルダが大きな利益を得ることができる（その分は顧客が払うことになりますが）。 高い価格でも買ってくれる顧客（おそらく金銭的に余裕のある人）は、常識のある顧客が多い。変なクレームをつけられることが少ないため、顧客対応で無駄な時間を取られることがない。 他社の類似商品と価格帯がずれていれば、それだけで目立つため、一種の広告効果がある。高級感をアピールすることにもつながる。 一番よくないのは、中途半端に中間の価格帯の設定をしてしまうことです。 それでは顧客に特別なものだということをアピールすることはできず、単純にちょっと高いという印象を持たれてしまいます。 何かアピールする点があるのであれば、それを全面に出し、思い切って高い値段を付けるという選択肢を持ちましょう。"},{url:"/p/aa2avtq/",title:"日々公表銘柄に指定とは",date:"2017-11-06T00:00:00Z",body:"日々公表銘柄に指定とは 日々公表銘柄とは 日本取引所グループ (JPX) により、ある銘柄が日々公表銘柄に指定されると、信用取引の残高情報が毎日公表されるようになります。 下記は、日本取引所グループ (JPX) の日々公表銘柄の定義です。 「日々公表銘柄」は、信用取引残高の公表を日々行うことにより投資者に信用取引の利用に関して注意を促すためのものであり、信用取引に関する規制措置を実施している銘柄ではありません。 決算発表で業績の見通しが大きく変化した場合や、重大な IR の公表により、信用取引が活発になると、いわゆる「祭」状態になります。 このような状況では株価の変動が激しくなり、売買のリスクが高くなるため、日本取引所グループ (JPX) は信用取引の状況を監視し、過熱状態に入りそうだと判断したときにその銘柄を「日々公表銘柄」に指定します。 「祭」状態になっている銘柄は価格の変動を見れば普通はわかるのですが、JPX が正式に、「おい、おまいら、ちょっと落ち着いて売買しなよ」 と言ってくれているわけですね。 信用取引がさらに過熱状態になり、価格変動が激しくなると、JPX は**規制措置（委託保証金率の引上げ措置）**の実施を行います。規制措置としては、制度信用取引における委託保証金が通常30％のところを、50％に引き上げる（うち現金20％）といったことが行われます。 日々公表銘柄の情報 日々公表銘柄に指定された銘柄の一覧は、日本取引所グループ (JPX) の下記のページで調べることができます。 信用取引に関する日々公表等 | 日本取引所グループ 規制措置を行われている銘柄とその内容の一覧は、下記のページで参照することができます。 信用取引に関する規制等 | 日本取引所グループ 個々の銘柄の信用取引残高は、下記のページで参照することができます。 信用取引残高等 | 日本取引所グループ 日々公表銘柄の指定のガイドライン どのような場合にその銘柄が日々公表銘柄に指定されるかのガイドラインは、下記に説明されています。 口座設定約諾書等 | 日本取引所グループ 「日々公表銘柄」の指定等に関するガイドライン 信用取引に係る委託保証金の率の引上げ措置等に関するガイドライン 下記は 平成29年2月1日 時点での「日々公表銘柄」の指定に関するガイドラインの抜粋です。 日々公表銘柄指定の基準（下記 1～4 のいずれかに該当する場合） 残高基準 次のいずれかに該当する場合 イ．売残高の対上場株式数比率が１０％以上で、かつ、売残高の対買残高比率が ６０％以上である場合 ロ．買残高の対上場株式数比率が２０％以上である場合 信用取引売買比率基準 ３営業日連続して各営業日の株価と各営業日時点における２５日移動平均株価との 乖離が３０％以上であり、かつ、次のいずれかに該当する場合（各営業日の売買高が １，０００売買単位以上である場合に限る。） イ．３営業日連続して信用取引の新規売付比率が２０％以上である場合（各営業日 の株価が各営業日時点における２５日移動平均株価未満である場合に限る。） ロ．３営業日連続して信用取引の新規買付比率が４０％以上である場合（各営業日 の株価が各営業日時点における２５日移動平均株価を超過している場合に限る。） 売買回転率基準 １営業日の株価と当該営業日時点における２５日移動平均株価との乖離が４０％以 上であり、かつ、次のいずれかに該当する場合 イ．当該営業日の売買高が上場株式数以上であり、かつ、当該営業日の信用取引の 新規売付比率が３０％以上である場合（当該営業日の株価が当該営業日時点にお ける２５日移動平均株価未満である場合に限る。） ロ．当該営業日の売買高が上場株式数以上であり、かつ、当該営業日の信用取引の 新規買付比率が６０％以上である場合（当該営業日の株価が当該営業日時点にお ける２５日移動平均株価を超過している場合に限る。） 特例基準 １～３の基準のいずれにも該当しない場合において、当取引所が信用取引の利 用状況や銘柄の特性を考慮し必要と判断した場合 簡単に言うと、発行株式数に対して信用取引があまりにも多く、極端に買いまたは売りに傾いている場合が対象になるということでしょう。 日々公表銘柄解除の基準（下記 1～4 のすべてに該当する場合） 解除の条件は、下記のすべてに該当する場合ということに注意してください（指定の条件はいずれかに該当です）。 残高基準 次のイ及びロのすべてに該当した場合 イ．５営業日連続して売残高の対上場株式数比率が８％未満である場合 ロ．５営業日連続して買残高の対上場株式数比率が１６％未満である場合 株価基準 ５営業日連続して各営業日の株価と各営業日時点における２５日移動平均株価との 乖離が１５％未満である場合 特例基準 １及び２の基準のすべてに該当している場合であっても、当取引所が信用取引 の利用状況や銘柄の特性を考慮し必要と判断した期間は、指定を解除しないことができ る。 指定の基準や、指定解除の基準に「特例基準」がありますので、結局のところ具体的にどのようなケースで日々公表銘柄に指定されるかは、JPX の判断次第ということですね。 さらに信用取引が過熱状態になり、ボラティリティが上昇した場合に実施される規制措置（委託保証金の率の引上げ措置）のガイドラインは、抜粋するには長すぎるので本家のドキュメントを参照してみてください。 規制措置は、その加熱度合いにより、第一次措置、第二次措置、第三次措置、第四次措置、というように実施されていきます。 基本的な判断手法は「日々公表銘柄の指定」と同じで、違いは、基準とする閾値が大きな値になっているというところです。 日々公表銘柄の投資戦略 日々公表銘柄に指定されると、信用取引残高を毎日確認できるようになるため、短期的な信用取引の手じまいを狙った取引きが行われるようになります。 日々の売り残高が増えているのにもかかわらず、株価が下がらないようなケースでは、その後、仕手筋による踏み上げによる急激な上昇を見込める可能性があります。 逆に、日々公表銘柄に指定されていない場合、直近の売り残高を確認することはできないため、このような買戻しによる踏み上げを狙うのは困難です。 規制措置が行われると、信用取引による購入金額が減少するため、株価は落ち着く傾向があります。 その後、株価の変動が落ち着いてくると、規制措置が解除されるため、再び株価の上昇を見込める可能性があります。 日々公表銘柄や規制措置の解除条件は前述の通りですが、価格の移動平均の乖離率の条件はどちらの解除でも同様です。 25日移動平均からの乖離率が 15% 以下の日が数日続いたときは、解除が近いと予測できます（解除のためには、信用取引量が減少する必要もあります）。 通常は規制措置がいきなり実施されることはなく、日々公表銘柄に指定された後、さらに取引が過剰になったときに規制措置が実施されます。 流れとしては以下のような感じです。 信用取引が増加 → 日々公表銘柄に指定 価格変動が激しくなる → 規制措置を実施 価格変動が緩やかになる → 規制措置を解除 信用取引が減少 → 日々公表銘柄を解除 信用取引に慣れた投資家は、この流れを意識した先回り売買を行うようになります。簡単に言うと、日々公表銘柄に指定された時点で、規制措置が行われる可能性を考慮し、ポジションをクローズします。そのため、日々公表銘柄に指定された銘柄の株価は上昇の勢いがなくなる傾向があります。"},{url:"/p/vzvpkxy/",title:"仕事の所有からビジネスの所有へ",date:"2017-11-05T00:00:00Z",body:"仕事の所有からビジネスの所有へ 金持ち父さんは、ビジネスの所有状態を大きく２つに分類しています。 １つ目は、「仕事を所有」している状態で、自分がいないと成り立たないものです。 ２つ目は、「ビジネスを所有」している状態で、自分がいなくても成り立つ（経営に大きな問題が出ない）ものです。 ローバート・キヨサキは、両者に属する人のことを下記のように分類しています。 「仕事を所有」している人 ＝ S クワドラント Self-employed（自営業者）、Small business owner（スモールビジネスオーナー）、Specialist:（専門家）など。 「ビジネスを所有」している人 ＝ B クワドラント Big business owner（ビッグビジネスオーナー） 起業した直後は、多くの場合は自分で多くのことをこなさなければならないため、「仕事を所有」する状態になるでしょう。 ただし、自分だけが頑張るビジネスはいずれ限界が来ます。 ビジネスを拡大して儲けを増やそうとすると、同時に自分の負担が上がり、時間と体力が尽きて倒れてしまいます。 なので、行く行くはビジネスを大きく育てていきたいと思っているのであれば、「ビジネスを所有」している状態に持っていくことを考えなければいけません。 信頼できるパートーナーを見つけ、自分がいなくてもビジネスを成長させてくれる仕組みを作り上げる力を身につけていく必要があります。"},{url:"/p/o33o75w/",title:"１日100円の複利で積み立てたら何年で１億円になるか？",date:"2017-11-04T00:00:00Z",body:"１日100円の複利で積み立てたら何年で１億円になるか？ 次の表は、特定の金利で100円積み立てを続けた時に、何年で１億円貯まるかを示しています。 利率 所要年数 3% 147年 5% 100年 10% 56年 15% 40年 20% 32年 利率の高い投資商品を見つける力と、長期で積み立てていく意志の強さが必要ですね。"},{url:"/p/2myvd7r/",title:"Facebook を使った集客のワザ",date:"2017-11-04T00:00:00Z",body:"Facebook を使った集客のワザ Facebook ページをうまく利用すると、例えば、下記のようなことができるようになります。 サービスごとに Facebook ページを用意することで、多角的に顧客的にアクセスできるようになる。友達に「シェア」したときに割引を受けられるような仕組みを用意できる。 新しい商品やサービスを Facebook に写真付きで投稿することで、ファン全員にアピールすることができる。逆に、Facebook ページには商品の投稿を行わずに、ファンのためのコミュニケーションの場としてだけ使う考え方もあり。 商品ごとに「いいね！」の数を表示することで、人気商品が簡単にわかるようになる。「いいね！」した友達の一覧も表示できるので共感して購入してくれる人が増える。 Facebook で「いいね！」をした人にだけ割引ページに案内することができる（ラスベガスの MGM グランドが使っている方法）。 Facebook のターゲッティング広告を使用すると、特定の職業や年齢、関心事を持つ人達に絞り込んで広告配信することができる。 Facebook ページは、通常の Web サイトと同様に重要な自社メディアとして位置付け、毎日ある程度時間をかけてメンテナンスしましょう。 Facebook を活用してファンを増やすポイントは、双方向のコミュニケーションです。 商品のいいところだけを一方的に紹介するのは失敗パターンです。"},{url:"/p/8dn3wxk/",title:"金利",date:"2017-11-04T00:00:00Z",body:"金利"},{url:"/p/rsehfzj/",title:"会社法上の 4 種類の会社（株式会社、合名会社、合資会社、合同会社）",date:"2017-09-27T00:00:00Z",body:"会社法上の 4 種類の会社（株式会社、合名会社、合資会社、合同会社） 類型種類責任範囲 株式会社有限責任 持分会社合名会社無限責任 合資会社無限責任が最低1人、有限責任1人以上 合同会社（日本版 LCC）有限責任 会社法では、社員の責任の負い方や特徴によって、会社を２つの類型、４つの種類に分類しています。 大きく、株式会社と持分会社の２つの類型があり、持分会社はさらに合名会社、合資会社、合同会社の３種類があります。 会社法上、株式会社は類型であるとともに、種類でもあると定められています（会社法２条１項）。 有限会社は、現在は株式会社の一種とみなされます。 株式会社 株式会社 は、出資者によって集められたお金を使って設立されます。 出資者は株主（会社の所有者）となり、経営者を選んだり、配当金を受け取る権利を持つことになります。 経営者は株主である必要はなく、これを 「所有と経営の分離」 といいます。 株式会社の社員（出資者）は、会社債務（会社の借金）について責任を負いません。 これを 有限責任（株主有限責任の原則） といい、出資額以上の支払い義務がないことを表します（会社が借金で倒産しても、株式がパーになるだけで、それ以上に借金を肩代わりしたりする必要がない）。 ちなみに、法律上、社員とは株主や取締役などの出資者のこと を表します。 株式の譲渡は原則自由に行えますが、中小企業では譲渡に制限を設けている会社が多くなっています。 このような会社を 株式譲渡制限会社 といいます。 仲間内で運営している場合など、見ず知らずの人に勝手に株式を売られてしまうと困るので、このような形態を取ることがあります。 株主は 1 人だけであっても株式会社は設立できます。 持分会社（もちぶんがいしゃ） 大規模な会社を設立する場合は、不特定多数の出資者を集めることができる株式会社が適してしますが、仲間内で小規模な会社を設立するようなケースでは、持分会社 とするのが適しています。 設立の手続きも、株式会社より容易です。 出資者の権利のことを 持分（もちぶん） といい、持分を持っている人（出資者）のことを 社員 と呼びます。 株式会社の場合と同じく、法律上の「社員」は、働いている人のことではなく、あくまで出資者のことを指していることに注意してください。 持分会社では、社員（出資者）が経営にあたることと定められています。 これを 「所有と経営の一致」 といいます。 他の社員全員が承諾しなければ、持分を他の人に譲渡することはできません。 持分会社の社員は、出資額に対する有限責任だけを負う 「有限責任社員」 と、会社の負債まで責任を負う 「無限責任社員」 があります。 これらの社員の組み合わせにより、持分会社は次の 3 種類に分類されます。 合名会社（ごうめいがいしゃ） 無限責任社員のみ で構成される持分会社を 合同会社 といいます。 無限責任社員１人だけでも設立することができます。 合同会社の社員は、会社の債務について 無限責任 を負います。 無限責任とは、自分の出資金以上の債務の支払い義務があることを表します（会社の借金の面倒を見なければいけない）。 出資者が経営を行い、債務を含むすべての責任を持ちます。 合資会社（ごうしがいしゃ） 無限責任社員と有限責任社員の両方 で構成される持分会社を 合資会社 といいます。 つまり、少なくとも 2 人以上の社員で構成されることになります。 経営を行う出資者と、行わない出資者がいます。 合同会社（ごうどうがいしゃ） 有限責任社員のみ で構成される持分会社を 合同会社 といいます。 有限責任社員 1 人だけでも設立することができます。 合同会社は、2006 年 5 月の会社法で新しく生まれた会社形態です。 出資者が経営を行いますが、その責任範囲は有限です。 株式会社と同様に、無限責任を負う（会社の債務を負う）社員がいないので、合名会社や合資会社と比べ、規制が多く なっています。 合同会社は、アメリカの LCC（Limited Liability Company: 有限責任会社）をモデルとしているため、日本版 LCC とも呼ばれます。 アメリカの LCC の特徴は、パススルー課税というもので、会社の利益が社員個人の利益と見なされて個人の所得税として課税されるというものです（法人税がかからない）。 ただし、日本の合同会社は、法人税も個人の所得税も課税されるため、本家 LCC のような税負担を軽くするような仕組みがありません。 その他 相互会社 保険会社などにみられる相互会社は、会社法上の会社には含まれていません。 有限会社 会社の債務について、社員の責任が出資額までに限られている会社のことを有限会社といいます。 有限会社は、会社法成立時に廃止され、株式会社として一本化されました。 現在、有限会社は設立することができません。"},{url:"/p/sjsjtaj/",title:"投資家・経済学者データベース／格言など",date:"2017-09-27T00:00:00Z",body:"投資家・経済学者データベース／格言など ウォーレン・バフェット 毎日書物（レポートや商業出版物）を 500 ページ読みなさい。知識は複利のように積み重なってくる。皆それをやろうとしない。 自分の感情をコントロールできなければ、自分のお金をコントロールすることはできない。 自分で選択すること。 株主から預かった資本を自分の財産と同様に考え、大切に使用する経営者を見つけるべきである。 バフェットは、ベンジャミン・グラハムを師としている。「企業価値に投資する」という考え方。 ケインズ ケインズの有名な言葉 株式投資は美人投票のようなものだ 割安な株を長期で保有する のが最も有効な投資手法である ジョージ・ソロス 投資家であり、慈善化。 金融市場を理解するカギとして、「再帰性 (reflexivity)」という言葉を強調しています。 1992年: 英ポンド売りで中央銀行を打ち負かしました。 引退後は慈善活動に注力し、日本円にして 1 兆円以上の寄付をしています。 ジャン・ポール・ゲティ（Jean Paul Getty、1892-12-15〜1976-06-06） リスクを取ることについて 私は大きなリスクをとることによって、おもしろいことが起こる可能性を自分に与えたのだ。 勝てば、それは非常にすばらしいことだ。 もし負けたとしても、それほど傷つきはしない。 正しい行動であることは明らかだ。 経験に基く私の個人的なルールは、一度に４つ以上の投機を行わないことである。 何らかのトラブルにあったときもパニックにならない。 少しくらいの損を受け入れろ、それが大多数の貧民クラスから抜け出す現実的な道であり、楽しみを与えてくれるものだ。 ジュリアン・ロバートソン ヘッジファンド「タイガーマネジメント」を創業。 「ヘッジファンドの父」と称されています。 1980〜90年代: ロング・ショート戦略 で大きな利益を上げる 1999年: IT バブル期にハイテク銘柄の空売りに失敗し、巨額の損失を被る 2000年3月: 引退を決意 2022年8月: 90歳で逝去 フリードマン（経済学者） 投機こそ価格の自動調整作用（見えざる手）の働きを高めるものだから、重要な経済活動だ。 不況対策にはヘリから紙幣をバラまけばよい（ヘリコプターマネー）。 ピーターリンチ ちょっとしたヒントがものを言う。5倍、10倍になる株価上昇を得るには、身の回りを見渡しても、また妻と話をしていても機会は転がっている。 その他 高PERで利益の伸びが大きい銘柄を狙え &mdash; 『成長株投資法（マーク・ミネルヴィニ）』 既に高ROEになっている銘柄は上がりにくい。低ROEかつ低PBRの銘柄を狙え &mdash; 『勝てるROE投資術（広木 隆）』 「正しかったときどのくらいの利益になるか」ではなく「間違った時にどのくらいの損失になるか」を考えて取引する &mdash; NationalFutures.com 創設者 John Person すべての投資は投機である。唯一の違いは、ある人はそれを認め、ある人はそれを認めないことだ &mdash; 『マネーの公理（マックス・ギュンター）』 「仮想通貨の本源的価値はゼロである」by BIS 報告書 (2015) 仮想通貨の価値がゼロであるという理由は、将来受け取るキャッシュフローの割引現在価値の合計がゼロであるから。つまり、ビットコインを 1 兆円分買ったとしても、いつか価値がゼロになるリスクはいつまでも消えないということ。"},{url:"/p/ivdaznn/",title:"読書メモ『株の五輪書』河合達憲",date:"2017-07-23T00:00:00Z",body:"読書メモ『株の五輪書』河合達憲 株の五輪書 河合達憲 マガジンハウス 紹介文 準備もせずに株式投資をすることは、「ミスター・マーケット」と丸腰で戦うことになります。 投資の世界はそんなに甘くはありません。 どんな銘柄を買えば儲かるのかは二の次で、心構えとルール、鍛錬が必要なのです。 著者: 河合達憲（かわいたつのり） カブドットコム証券チーフストラテジスト。 近畿大学大学院・博士前期課程を終了。証券専攻「修士号」取得。 日本で数少ない証券専攻マスターの称号を有する。 中堅証券調査部を経て、調査情報畑一筋に 25 年、投資戦略や投資手法のストラテジー構築に従事。 ファンダメンタルズとテクニカルを統合した投資分析「テクノファンダメンタル分析」を実践しており、推奨した銘柄は抜群の的中率・パフォーマンスを誇る。 マクロ分析から個別銘柄までトップダウンアプローチでの分析力にも定評。 毎週火曜日、20 時より、カブドットコム証券のサイトにて、ネットセミナー「河合達憲・当面のストラテジー」を開催。 放映回数は 200 回を超える。 2013 年春より、大阪国際大学、大阪国際大学短期大学部の両校にて大学講師として登壇。 著書に『硬派の戦略投資』（日本証券新聞社編、共著）、『日本のトップ企業が消える日』（角川 SSC 新書）、『9割の人が株で勝てない本当の理由～なぜ個人投資家は「買い」から入るのか』 （扶桑社）がある。 ノート 河合さんは、株式投資のマスト・ルールとして下記のようにまとめています。 ロスカットできないなら株式投資をするな！ 長期投資×、ダメ！ゼッタイ 「買い」と「売り」両手の拳を使え！ 株も選択と集中！分散より集中投資をせよ すべての投資家へ。ETF 投資をしよう バブルはチャンス！世界中のバブルを探せ 投資ツールを使いこなしスタイルを確立せよ このような初中級者への助言を与えるだけでなく、世界のマネーの動きを捉えるために、米国 10 年債の動きを定点観測すべきだという、ストラテジストならではの解説もあります。 例えば、**米 10 年債の金利が下がっているのであれば、「米国債にマネーが流入しており、他のマーケットにお金はない」**と判断することができます。 逆に、米国債の金利が上がっているのであれば、他のマーケットのどこにマネーが流出しているのかを把握しなければいけません。 正直なところ、ロスカット前提の投資や、ETF 投資をするかどうかは、投資家のスタイルによって変わってくるのでそのまま受け入れるわけにはいかないのですが、このようにグローバルな視点で世界中のマネーの動きを捉えるという考え方はとても参考になります。"},{url:"/p/rhuyrj6/",title:"読書メモ『リバモアの株式投資術 (ウィザードブックシリーズ)』",date:"2017-07-22T00:00:00Z",body:"読書メモ『リバモアの株式投資術 (ウィザードブックシリーズ)』 リバモアの株式投資術 (ウィザードブックシリーズ) ジェシー・リバモア パンローリング株式会社 概要 最高の投機家が唯一書き残した相場の聖典！ 20 世紀初頭、トレードの世界で大勝利と破産を繰り返した相場師ジェシー・リバモア。 リバモアは、厳しく徹底したルールを自らに課し、外からの情報には一切流されず、自身の分析のみで相場に挑む孤高の相場師であった。 何年もかかって独力で作り上げた投機のルールとそれを守る規律だけでなく、破産に至った要因、その分析と復活を成し遂げた軌跡は、その後の多くの投資家・トレーダーたちに大きな影響を与えた。 リバモアを取り上げた書籍は多くあるものの、リバモア自身が執筆し、その手法を解説したものは本書以外にない。リバモアを知りたければ、まずは本書を手に取るべきだろう。 没後 80 年近くになり、相場環境が大きく変化した現在でも、その投資手法や哲学はマーケットに生きる人々に多大な影響を与え続けてきた。そして、逆にヘッジファンドなどの高頻度トレーディングが幅をきかす現在のマーケットだからこそ、その間隙を縫うことのできる個人トレーダーはリバモア的手法から恩恵を受けることができる！ 本書は、彼が亡くなった 1940 年に彼自身の手で書かれた唯一の相場書である。ほかのリバモア関連書式のように、著者の創作などが一切入っていないものである。 なお、本書の後半に特別収録としてマンガ「伝説の相場師リバモア」を掲載し、波乱に富んだリバモアの一生を視覚化した！ 著者: ジェシーリバモア ジェシー・ローリストン・リバモア（Jesse Lauriston Livermore、1877年7月26日 〜 1940年11月28日）はアメリカの著名な投機家、相場師である。 14 歳で株式の世界に入り、20 歳でニューヨーク証券取引所での取引をスタート。「投機王」としてウォール街に確固たる地位を築き、株価暴落の原因とまで噂された相場師。 しかし、その人生は波乱万丈そのもので、巨額の利益を得る大成功と破産を繰り返すが、そのたびに自身の相場眼で見事に復活を果たしている。 的確な売りによって「グレートベア」と称された。 感想 リバモアは、相場の動きをピタリとあてる鋭い勘をもっていました。 それでも、市場での売買（約定）が遅れることによって一文無しになったりしています。 値動きが分かっているのに他の参加者のスピードに勝てない。 これって、現代の HFT（超高速取引）の世界でも起きていることです。 リバモアは 100 年も前の投資家ですが、彼の投資手法が現代の最新の取引システムに対する有効な手法として見直されているのはとても興味深いです。"},{url:"/p/594gzj6/",title:"トレード戦略: ブレイクアウトからの段階的な買い増し戦略",date:"2017-05-13T00:00:00Z",body:"トレード戦略: ブレイクアウトからの段階的な買い増し戦略 ブレイクアウトから上昇を開始する銘柄をうまく買っていくための戦略の例です。 タートルズの方法 買い増しを前提としたルールを用いる場合、どのポイントで買い増しするのか、そのサイズはどう決めるのかが重要になってきます。 昔タートルズが使っていた手法は、ブレイクアウト（20日高値 or 55日高値）したらエントリーし、価格が 0.5N 上昇するたびに、1 ユニットずつ買い増ししていく方法でした。 ここで、N は ATR(20) で求められた値です。 ATR は過去数日の変化量が大きいときに大きくなる値で、タートルズは、この値に基づいて損切りと利確のポイントを決めることで、銘柄ごとに異なるボラティリティを正規化して扱っていました。 また、「ユニット」というのも、タートルズが定義した購入枚数を表す値で、同じ銘柄は最大 4N まで買い増しする、などのルールのもと売買していました。 ユニットも N に基づいて計算される値で、N が大きい時は 1 ユニットあたりの枚数は少なくなります。 ボラティリティが大きい時は、購入枚数を減らす、というごく単純なルールです。 損切りラインを -1N あたりに引いたときに、損切時の口座（アカウント）のマイナスを 1% に抑えるように購入枚数を決定します。 参考: 『伝説のトレーダー集団 タートル流投資の魔術』 成長株投資の神の方法 成長株投資の神 に載っている、持ち越しする場合のシンプルな買い増しルールです。 ブレイクアウトしていると判断したら打診買いし、同時にストップロスを入れる。 高値圏（その日の値幅の上半分）で大引を迎えそうであれば買い増しする。"},{url:"/p/2rpxvp2/",title:"会社員タイプと起業家タイプの人の考え方の違い",date:"2017-04-03T00:00:00Z",body:"会社員タイプと起業家タイプの人の考え方の違い 会社員タイプ 起業家タイプ 組織の階段を登りたいと思う。昇進した人が勝ち組だと思っている。 組織そのものを所有しようと考えている。 階層化された組織で働くことに疑問を抱いていない。 横の繋がりを重視し、人／時間／お金を最大限に活かすべきだと考えている。 安定した給料に価値を見出す。目先のお金を重視するため、給料が減ると、働く気力までなくなってしまう。 常に自分の価値観に従って行動している。目先のお金より、自分が目指しているところに一歩でも近づくことを重視するため、何があっても情熱はなくならない。 命令したら従ってくれる部下が欲しい。誰よりも上に立ち、誰よりも大きな成果を上げたいと思う。 それぞれの人に適切な役割がある。全員が協力することで大きなビジネスを成功させたい。 ひとつの分野で専門家にならないと食べていけないと思う。だから、完璧な知識を身につけたいと思っている。 多くの分野について広く浅く知るべきだと考えている。もちろん、すべてを知ることはできないため、他の分野の専門家とうまくやっていくことがとても重要だと理解している。 もし、あなたが既に「起業家タイプ」の考え方をしているのであれば、新しいビジネスをスタートさせる準備は既に整っていると考えてよいでしょう。 逆に、まだ起業する予定はないという人でも、起業家の考え方を知ることで、よりよい働き方を見つけるヒントになるでしょう。 新しくビジネスを始めるときには、将来的に誰かに運営してもらうことを想定して計画を練らなければいけません。 他の人にまかせられるということが、ビジネスを拡大させるための必須条件です。 大規模に展開しているお店が採用している「フランチャイズ」というビジネスモデルは、本部のリソース消費を抑えつつ事業規模を拡大していく仕組みです。 まずは、このように成功しているビジネスモデルについて学んでみるのがよいでしょう。"},{url:"/p/zq464m7/",title:"SQ 前後の動きから分かること",date:"2017-03-20T00:00:00Z",body:"SQ 前後の動きから分かること SQ 当日は商いが膨らみ、投資家の心理を映し出すと言われています。 SQ 当日の終値が、SQ 値を上回るのであれば、強気の相場だと判断ができるかもしれません。"},{url:"/p/jtoetyh/",title:"ドルインデックスを確認する",date:"2017-03-20T00:00:00Z",body:"ドルインデックスを確認する FX ではドル／円など、二通貨間での取引を行いますが、米ドル自体の強さを調べるには、ドルインデックスのチャートを確認します。 上記のチャートは、TradingView のサイトで、銘柄に USDOLLAR と入力して表示したものです。 世界中で取引されている通過の大部分は米ドルなので、ドルインデックスの動きに似た動きをしている通貨ペアを選択すれば、トレンドに乗った取引がしやすくなります。"},{url:"/p/kj6zpon/",title:"年間を通した投資家の動きの傾向",date:"2017-03-20T00:00:00Z",body:"年間を通した投資家の動きの傾向 4月 Sell in May を懸念してポジションをクローズする傾向。 10月 アメリカの投資信託が損益通算のためにポジションをクローズする傾向。 11月 年金基金がポジションをクローズする傾向。 12月 個人投資家がポジションをクローズする傾向。"},{url:"/p/r4di2zo/",title:"持ち家のリスク",date:"2017-02-10T00:00:00Z",body:"持ち家のリスク 居住用の不動産を購入するときの価格は、単純に賃貸の家賃と比べるのではなく、持ち家にすることで発生する様々なリスク分の価値を割り引いた「割引現在価値」で考える必要があります。 持ち家のリスクとしては下記のようなものがあげられます。 災害リスク 日本は大地震が定期的に起こる可能性の高い国です。大きな災害が発生すると、家屋の破損と地価の下落により、不動産価値は大きく減少してしまいます。 転勤リスク 会社側の都合で転勤になった場合に、家族と離れて暮らさないと行けなくなる可能性があります。 家族構成の変化 結婚して２人暮らし → 子供が生まれて３人暮らし → 子供がもう一人生まれて４人暮らし → 子供が独立して２人暮らし。と、家族構成は変化していきます。持ち家暮らしを選択すると、家族構成に合わせた間取りは望めないかもしれません。 不動産価値の下落 人口減少による空き家の増加や、不動産に関わる税制の変更により、長期的に見て不動産価値は大きく下落する可能性があります。 近隣環境の変化 まわりの病院や学校、幼稚園などはなくなる可能性があります。"},{url:"/p/roksjsr/",title:"ファイナンシャルプランナーの選び方",date:"2017-01-18T00:00:00Z",body:"ファイナンシャルプランナーの選び方 相談窓口が有料であること 相談が無料であるということは、何か別の方法で収入を得ているということです。金融商品や不動産などを仲介している人でないか確認しましょう。相談費用は１時間１万円くらいが相場です。 生命保険をむやみに推奨していないこと 保険料の約３割、がん保険の約５割は経費です。この経費を考慮に入れずに生命保険を推奨する FP は信用できません。保険を利用した積立も通常は不利であり、別の金融商品を候補に入れるべきです。"},{url:"/p/gtf6w4o/",title:"FX 会社で特定口座（源泉徴収）が選べないわけ",date:"2017-01-06T00:00:00Z",body:"FX 会社で特定口座（源泉徴収）が選べないわけ 所得税法において、源泉徴収の対象となる所得は下記のものに限られています。 利子所得 配当所得 給与所得 退職所得 公的年金等に係る雑所得（国税庁） 源泉徴収が必要な報酬・料金等（国税庁） 先物取引に係る雑所得等（FX 含む）は、源泉徴収の対象となる所得には含まれていないため、FX 会社には特定口座（源泉徴収あり）という区分が設けられていません。"},{url:"/p/qe75j4r/",title:"債券 (Bond)",date:"2016-08-29T00:00:00Z",body:"債券 (Bond)"},{url:"/p/55wxjc7/",title:"配当性向よりも自己資本配当率 (DOE) に注目すべし",date:"2016-08-28T00:00:00Z",body:"配当性向よりも自己資本配当率 (DOE) に注目すべし 企業が株主に対して配当指針を示すために、配当性向や、自己資本配当率（純資産配当率）（DOE: Dividend on Equity) などが使用されます。 日本ではまだ配当性向の方がよく使用されているようですが、欧米では DOE が一般的な投資指標として使用されています。 企業の配当指針として、「配当性向50％以上、DOE３％以上を方針とする」というように、合わせて提示されることもあります。 配当性向（＝ 配当総額／当期利益） 当期利益から配当としてどれだけ株主に還元するかの割合を示します。 当期利益をベースとしているため、「配当性向を30％以上とする」という方針を出していたとしても、当期利益が少なければ配当金は少なくなります。 配当性向が高いからといって、配当金がたくさんもらえるとは限らないということです。 DOE（＝ 配当総額／自己資本） DOE は自己資本に対する配当の割合を示しています。 DOE を２％にすると公約した場合は、自己資本の２％に当たる金額を配当として株主に還元しますよ、と言っていることになります。 DOE は、配当性向とは異なり、当期利益をベースとして計算する値ではないため、当期利益の増減によって大きく左右されないという特徴があります。 分母の自己資本の額は、一般的に期初と期末の自己資本を平均したものが使われます。 配当性向と DOE の関係 DOE ＝ 配当総額／自己資本 ＝ （配当総額／当期利益）ｘ（当期利益／自己資本） ＝ 配当性向 ｘ ROE と変換できます。 つまり、DOE を高い値に維持するためには、配当性向や ROE を高い水準で維持する必要があるということになります。 配当性向はインカムゲインを目指す投資家にとって注目され、企業の収益性を示す ROE はキャピタルゲインを目指す投資家にとって注目されています。 どちらの要素も含んでいる DOE は、投資家として注目すべき指標のひとつと言えます。"},{url:"/p/ykf3exd/",title:"株価の割安度を計る指標 (PER/PBR)",date:"2016-08-27T00:00:00Z",body:"株価の割安度を計る指標 (PER/PBR) 市場で取引されている株式の価格が、実際の企業価値に対して割安かどうかを計る代表的な指標として、PER と PBR があります。似たような指標として、財務分析のための ROA、ROE などがありますが、これらは資産規模に対する収益性を判断するための指標であり、株価の要素は含まれていません。実際の市場での価格の妥当性を判断するためには、ここで説明する PER、PBR などが用いられます。 株価の判断 ・・・ PER、PBR、配当利回りなど（株価が考慮されている） 収益性の判断 ・・・ ROA、ROE、利益率など PER（株価収益率）＝ 株価／一株当たり当期純利益 PER は Price Earnings Ratio の略で、時価総額を純利益で割って求められます（あるいは株価を一株あたりの純利益 (EPS) で割ります）。 $$ PER（株価収益率） = \\frac{時価総額}{純利益} = \\frac{株価}{一株利益（EPS）} $$ 例えば、株価が 1200 円のときに、一株利益 (EPS) が 100 円だとすると、PER は 12 倍ということになります。 $$ \\frac{株価（1200円）}{一株利益（100円）} \\rightarrow PER（12倍） $$ 単純に考えると 12 年間の利益で、現在の時価総額と同じだけ稼ぐ力があると判断できます。 PER が上がるということは、利益が変わらないのに株価だけが上がっていることを示しており、株価は割高になっているということです。 PER の平均値は業種によって大きく異なりますが、日本の上場企業全体の平均値としては 14 倍程度とされています。 成長性の期待されている企業は株価が先行して大きく上昇するため、PER が 100 倍を超えることもあります。 一般的に PER は、今期の予想利益を用いて計算されます。 例えば、次の決算が17年３月の場合は、その決算が発表される前の17年１月の段階では、会社やアナリストが予想した純利益が PER 計算時の分母として使われます。 下記は、RIZAP GROUP (2928) の PER（2016年８月26日現在）を示していますが、そこで「予想PER」と表示されているのはそのためです。 この時点で、時価総額が 1,176 億円、17年３月の純利益予想は 60 億円なので、1,176億円 / 60億円 = 19.6 倍 (PER) という計算になります。 最終赤字になると、予想 PER は算出できなくなります。 PBR（株価純資産倍率）＝ 株価／一株あたり純資産 PBR は Price Book-value Ratio の略で、時価総額を純資産で割って求められます。 PBR が１倍であるということは、会社の解散価値と時価総額が等しいことを示しています。 １倍を下回っている場合は、株価が純資産に比べて安いため、割安と判断されます。 PBR は、前回の決算における貸借対照表で示された純資産価値を用いて計算されます。 この点において、次回決算の予想利益を用いて計算する PER とは大きく異なっていると言えます。 下記は、RIZAP GROUP (2928) の PBR（2016年８月26日現在）を示していますが、PBR が「実績」と表示されているのは、前回の決算の実績を用いて計算されていることを示しています。 この時点で、時価総額が 1,176 億円、自己資本が 116億円 なので、1,176億円 / 116億円 ＝ 10.13倍 (PBR) という計算になります。 PBR の 10.13 倍という値だけを見ると、資産価値に対して、株価がものすごく高くなっているように見えます。 しかし、規模が急拡大しているような企業では、一般的に純資産も年々増えていくため、PBR は決算の度に大きく減少していきます。 投資家はそれを見越して株を購入するため、PBR は一時的に大きくなる傾向があります。 実際に、上記の RIZAP GROUP (2928) は PBR は 10 倍を超えているのですが、理論株価は 2000 円程度に設定している機関が多く、割高どころか割安と考えられています。"},{url:"/p/xadupbh/",title:"読書メモ『これからパンローリングの投資本を読む人へ』塩見勉",date:"2016-08-21T00:00:00Z",body:"読書メモ『これからパンローリングの投資本を読む人へ』塩見勉 これからパンローリングの投資本を読む人へ 塩見勉 パンローリング株式会社 投資家として成長するために、どのような姿勢で学んでいけばいいかを簡潔に説明してくれる本です。 投資で長期的に勝っていくには、 心理 手法 資金管理 がすべて大切で、ひとつでも欠けたら負けてしまいます。 多くの投資家が「手法」にだけ走ってしまい、失敗しています。 特に、初心者は「資金管理」について学び始める前に大きなリスクを取り、相場からの退場に追い込まれます。 重要なのは「長期継続」できる仕組みです。 NG &hellip; 負けたらすぐに退場を迫られる方法 Good &hellip; 好調期に少しでも資産を増やすことができ、逆境期には生き残ることができる方法 学び方に関するメモ 修行期間のひとつの目安「投資経験５年」「投資本50冊」「売買経験500回」。 ファンダメンタル分析にしろ、テクニカル分析にしろ、他人が真似できるくらい具体的に書いておく。 ひとつひとつの指標をどのような条件に使えるのかとことん研究する。 売買の回数を増やすことで、大数の法則を短期間で実現できると考えている。 日経 225 で取引しているのは、多数の参加者がいた方がより自然な動きをすると考えられるから。 初心者はまさか 900 円まで下がらないだろうと思い込み、ストップ注文を入れない。最初に決めたラインでにすぱっと損切りすることが大切。 「勉強と研究」「経験」「反省」を繰り返す。実際の売買では迷いも感情もなく、自然に体が反応するようになるのが理想。 感情のおもむくままに行動をすると、投資では損をする仕組みになっている。 易しい相場で大金を稼いで、難しい相場でそれ以上に失ってしまうというパターンが危険。 中級に進むには、自分なりの負け方を身につけて、「負け上手」になる必要がある。 分割売買は経験を重ねるほどに重要になってくる。 ２人の自分を使い分けることで、感情の入る余地を減らす。 技術者（9割） &hellip; データ収集と精査、売買結果の検証、売買ルールの作成、システム構築を行う。 執行者（1割） &hellip; 作成済みのルールに基き、投資を淡々と実行する。売買結果を相場ノートに付けていく。 毎日コツコツと積み立てて、一定の額になったところで投資を始めるというのはよくない。少しずつでもいいので、20代から投資経験を積んでいくことが大切。そうすることで、同じ年齢になったときの経験値がまったく異なってくる。 「生活費」「住宅ローン／家賃」「教育費」などを投資資金にまわしてはいけない。家族で余裕資金を把握して、その中で投資先を決めていく。余裕資金の90％は安全資産とし、10％は株式やFXなどの積極投資に回す、というように決める。 投資を初めて３年くらいは自分の脳ポートフォリオが築けない試行錯誤の期間だと考える。この期間はできるだけ少額で売買回数をこなし、経験を積むことに注力する。 まとまった資金を投入する前に、少ない資金でレバレッジのきいた取引を数多くこなしてルールの重要性を認識すべき。 流行している投信は、すでに流行の終盤であることが多い。営業の人はすでに流行している投信の方が売りやすいので、底値の投信はあまり紹介しない。 セミナーでは営業的に都合の悪い情報はふせられる。どこから収益を得ているのかを知っておく必要がある。 老後資金を積立投資するのであれば、「個人年金保険料控除」を利用するのもよい。利回り５％以上の元本保証商品とみなせる。 参考リンク 投資家としての学び方・考え方"},{url:"/p/x6v9mjz/",title:"利食いと損切りのヒント",date:"2016-08-21T00:00:00Z",body:"利食いと損切りのヒント ポジションを取るとき 成長株投資においては、余裕を持ったナンピン（下がったときの買い増し）を続けることで、損切りを行わないという手法も考えられます。 一方で、価格変動の不確定要素が強い FX では、常に損切りを意識した資金投入が必要になってきます。 ポジションを取るときには、必ずポジションをとった「根拠」「利食いのライン」「損切りのライン」をノートに残しておきましょう。 人間の記憶は曖昧なもので、ポジションをとった日には明確にその理由を覚えていても、数ヶ月後にはなぜ買ったのかすら忘れてしまうことが多々あります。 初心者のうちは、市場で生き残るために、ポジションを取ると同時に指値（利食い）、逆指値（損切り）の注文を入れておくようにしましょう。 定期的にチャートを確認して、利食いラインを修正するのは OKです。 ただし、損切りラインは上方修正のみに限定してください。 損切りラインを下げているようであれば、投資の重要要素である資金管理はできていないことになります。 利食いのヒント チャートパターンから決める ペイオフレシオで決める（レシオ 1.5 なら損切りの 1.5 倍の利確幅とする） ボラティリティに合わせて利確幅を決める トレーリング・ストップを入れておく 損切りのヒント 損切りを逆指値で入れておく（10回中9回は後悔するが、残りの1回で救われる） 最初は 100 回くらい小さめの損切りを繰り返して損切りに慣れるとよい 損切りによるマイナスが投資資産の2％以上にならないようにポジションを取る 損切りは必要だと思っていても、慣れるまでは苦痛を伴うものです。 理論的に正しいと思っている値段でちゃんと損切りできるようになるコツは、習慣化してしまうことです。 そのためには、2、3回決めた値段で実際に損切りしてみること。 これを続けていれば、いつの間にか作業のように損切りできるようになります。 ロスカットラインの引きやすいところでポジションをとる これは典型的な上昇トレンドの例ですが、A の場所で押し目買いで入ることができれば、直近の安値のあたりにロスカットラインを設定することができます。 このように損切りのダメージが小さくなるようにラインを引けるのであれば、比較的余裕を持って損切りを行うことができます。"},{url:"/p/ohwwbo4/",title:"財務分析のためのいろいろな指標",date:"2016-08-14T00:00:00Z",body:"財務分析のためのいろいろな指標 企業によって提示された財務諸表を見ることで、財務の観点から、その企業の成長性や安全性を調べることができます。 企業の収益性を見るための指標（どれくらい稼ぐ力を持っているか） 利益率（売上高営業利益率）＝ 営業利益／売上高 売上が増えたときに、本質的にどの程度稼げる事業を行っているのか？ 売上高営業利益率は、収益性を計る際に使用される最もポピュラーな指標です。 単純に利益率と言うと、大体この売上高営業利益率のことを示しています。 利益率は、原価や販管費などのコストを下げ、商品を高く売れば上がります。つまり、商品・サービスをどれだけ低コストで提供できているかを示しており、本業として営んでいる事業自体が本質的にどれほど稼げる商売なのかを表しています。利益率が高ければ、事業規模を拡大したときに増加する営業利益の絶対値も大きくなるだろうと予想できます。 ただし、分母は売上高であることに注意が必要です。あくまで、売上げに対する利益の割合を示しているだけなので、利益の絶対値が企業規模に対して適切かどうかはわかりません。企業規模に対してそれ相応の稼ぎを出せているかどうかをチェックするためには、分母に資産をとる ROA や ROE などの指標を一緒に見ておく必要があります。 ROA: Return On Assets（総資産利益率）＝ 最終利益／総資産 会社全体の資産をうまく使って効率良く稼いでいるか？ ROA は、企業が持っている資産を活用して、どれくらい効率的に利益を上げているかを示しています。 単純に儲けを増やすことでも高められますし、事業の取捨選択によって無駄な設備を売却し、総資産を圧縮することでも高められます。 ROA が低いと、環境が悪化した場合に経営が傾く可能性が高くなります。総資産が大きいということは、一般的に年度ごとにかかる経費も大きいということを示しています。負債に対する利子や、固定資産の経年劣化（減価償却費）、多数の従業員への給与などは、経費として毎年支払わなければいけません。経費が大きいのに利益が出なくなってしまうと、それだけ倒産するリスクは高くなります。 ROE: Return On Equity（株主資本利益率）＝ 最終利益／株主資本 株主還元（配当）の力はどの程度あるか？ 「資本効率がよい」というと、この ROE が高いことを示します。ROE が高いということは、株主の出資した資本金に対する利益の割合が大きいことを示すからです。ROE が高ければ、配当金を出す潜在能力が高いと想定されるため、株主が注目する指標となっています（実際に剰余金を配当に回すかどうかは分かりません）。 ROA と異なり、単純に高ければよいわけではないことに注意が必要です。ROE は分母が株主資本だけであり、負債を含んでいません。たくさん借金をしてでも利益を増やせば、ROE は上がることになります（ROA の方は借金をすると同時に分母も増えるので、相応の利益を出さなければ上げられません）。ROE を見るときは、自己資本比率も一緒に見て、過剰な負債を抱えていないか確認するようにしましょう。 自己資本比率が高くなると総資産と株主資本の値は近くなるため、ROE と ROA の値も似たような値となります。例えば、有利子負債 0 で、自己資本比率が89.5%もある任天堂の 2016年3月期の連結決算は、ROA1.272%、ROE1.421％となっています (1.272 / 1.421 = 0.895)。 ROIC: Return On Invested Capital（投下資本利益率）＝ 税引後営業利益／投下資本 投下した資本でちゃんと利益を出せているか？ ROIC はちょっと上級者向けの指標です。事業領域で投下した資本に対して、どれくらいの利益を出せているかを測る指標です。 事業に近い領域における投下資本を使って計算するため、ROA や ROE に比べ、より現実的に事業の収益性を測ることができると言われています。 日産がこの ROIC を事業目標に掲げて注目を浴びました。 投下資本は、「売上債権＋棚卸資産ー買入債務＋固定資産」で計算されます。 企業の成長性を見るための指標（投資家が注目するポイント） 売上高増減率 ＝ （当期売上高 ー 前期売上高）／前期売上高 事業規模が拡大し、顧客は増えているか？ 売上高増減率は、前年度からの売上の伸び率を示しています。売上が伸びる背景としては、その業種（セクター）全体が伸びていることもあるし、その企業だけがその業界での地位を確立しつつあることもあります。売上高が増えるということは、事業規模が大きくなっているということですが、売上高＝営業利益ではないため、営業利益の伸びも同時に見る必要があります。 営業利益増減率 ＝ （当期営業利益 ー 前期営業利益）／前期営業利益 稼ぐ力は伸びているか？ 営業利益増減率は、前年度からの営業利益の伸び率を示しています。営業利益増減率がプラスで維持されているということは、本業で稼ぐ力が伸びているということであり、その企業は確実に成長を続けているということです。営業利益は販管費などのコスト削減によっても伸ばすことができるため、営業利益が伸びたからといって事業規模が大きくなっているとは限りませんが、営業利益が伸びることは単純によいことです。営業利益が毎年増えているような企業は、将来性が見込まれるため、株価も高くなる傾向があります。 企業の安全性を見るための指標（倒産のリスクは少ないか？） 自己資本比率 ＝ 自己資本（株主資本）／総資本 返済しなくてもよいお金がどれくらいあるか？ 総資本のうち、返済義務のない部分の割合を示しています。自己資本比率が低いと、いつか返済しなければならない負債が多いことを示しており、何らかの原因によって返済が滞った場合に倒産するリスクが高くなります。ただし、成長途上にある企業は借り入れをしてでも事業規模の拡大を急ぐことがあり、一時的に自己資本比率が低くなることがあります。一般的に自己資本比率が30〜40％あると安全性は高いと言われています。自己資本比率が低すぎると、何らかの減損が発生した場合などに自己資本がなくなり、債務超過に陥る可能性が高くなります。 負債比率 (debt equity ratio) ＝ 有利子負債／自己資本 過剰な負債を抱えていないか？ 有利子負債は、利子をつけて返済しなければならない短期借入金と長期借入金（社債含む）の合計です。負債比率が高いということは、企業の本来の価値（解散価値）に対して過剰に借り入れを行っているということであり、借金返済の負担が大きいということを示しています。もちろん、安定して高い収益を得られているのであれば、ある程度の借金をしてでも事業規模を拡大させていくという方針もありですが、事業規模が拡大しないのであれば、借金を返済して負債比率を下げておく方が財務上健全と言えます。 メーカーなどが新規開発を始めるときに、大規模な社債発行を行ったりすると負債比率は高まります。また、商社などは商品を先に仕入れる必要があるため、一般的に負債比率が高くなる傾向があります。現在の負債比率やその変化を分析する時は、それが望ましい負債なのかを見極めることが重要です。 有利子負債キャッシュフロー倍率 ＝ 有利子負債／営業キャッシュフロー 借金をどれだけ早く返済できそうか？ 有利子負債が多くても、営業キャッシュフローが十分にあるのであれば、返済は比較的早期に終えることができます。有利子負債キャッシュフロー倍率が 10 倍であるということは、10 年で借金返済することができるということを示しています。営業キャッシュフローが安定しており、かつ有利子負債キャッシュフロー倍率が低いのであれば、その企業が抱えている負債に関してはそれほど心配する必要はないでしょう。安全性の目安としては 10 倍程度だと言われていますが、初期投資の大きい不動産業などは 20 〜 30 倍になることもあります。 売上高営業キャッシュフロー比率 ＝ 営業キャッシュフロー／売上高 売上に応じた資金回収がどれだけ迅速か？ 売上高営業キャッシュフロー比率は、当期の売上に対して、どれくらいの現金収入があるかを示します。売上高営業利益率とは異なり、こちらは実際の現金の流れを追っているため、より現実的な資金繰りを反映した指標と言えます。 一般的に、商品やサービスの売上によって得られた儲けは、売掛金（受取手形やローン）という形で資産計上されるため、実際の現金収入となるまでには時間がかかります。 営業キャッシュフローが安定しないと、売上が安定しているのにもかかわらず一時的な現金不足となり、黒字倒産に陥ってしまうことがあります。黒字倒産は、ギリギリの資金繰りで事業展開している中小企業に多く見られます。 逆に、売上高営業キャッシュフロー比率が長期に渡って高く安定しているということは、売上によって得られた利益を多くの現金として早期回収できていることを示しており、予期せず黒字倒産に陥るようなリスクは低いと考えてよいでしょう。 その他の指標 売上高販管費率 ＝ 販管費／売上高 人件費などをかけすぎていないか？ 売り上げに対して、人件費などの費用をかけすぎていないかを測る指標です。 低い方が望ましく、高すぎる場合は社員の給与体系に問題がある可能性があります。"},{url:"/p/dvbw2ib/",title:"税金/Tax",date:"2016-08-07T00:00:00Z",body:"税金/Tax 効率的な投資を続けていくには、税金について詳しい知識を身につけておかなければいけません。 正しい税金の知識を持っていないと、金融商品を大きな儲けの出せるタイミングで売却できなかったり、財産の贈与や相続の際に多額の税金を取られることになります。 日本には多くの種類の税金がありますが、まずは、下記の税金について学んでいくのがよいでしょう。 所得税 &ndash; 個人の得る収入に対してかかる税金 法人税 &ndash; 法人の得る収入に対してかかる税金 贈与税 &ndash; 人から人へ贈与される資産に対してかかる税金 相続税 &ndash; 人が亡くなった時、相続される資産に対してかかる税金 これらはすべて、国が課税しており、課税される人が直接納税する必要のある税金です。 ひとことでいうと、 「国税」かつ「直接税」 です。 ちなみに、ここには出ていませんが、固定資産税や住民税は、地方公共団体に納める 「地方税」 です。"},{url:"/p/8yhwcr7/",title:"税金メモ: 相続税を節税するワザ（孫を養子にする）",date:"2016-08-07T00:00:00Z",body:"税金メモ: 相続税を節税するワザ（孫を養子にする） 通常、祖父から子、孫へと資産を引き継いでいくと、その度に相続税が発生します。 孫を養子にすることで、 法定相続人（子） として扱われることになるので、非課税枠が 600万円 分増えます。 また、将来的に子から孫への相続が発生すると感がると、直接孫に相続しておくことで、一回分の相続を減らすことができます。"},{url:"/p/js58y9u/",title:"トレードノートに何を記録しておくべきか",date:"2016-07-01T00:00:00Z",body:"トレードノートに何を記録しておくべきか FX や金融商品の取引において、下記のような取引記録を残しておくと、後からいろいろな分析に利用することができます。 取引日 (Trade date) 商品名 (Market traded) ポジション (Position taken) 仕掛け時間と約定値 (Entry time and price) 手仕舞い時間と約定値 (Exit time and price) 取引理由 (Trade reason) 取引手法 (Trade method) 手数料 (Trade commission) 損益 (Profit and loss) 取引記録を残さずに、取引ごとに一喜一憂していると、長期的なパフォーマンスやトレード手法の向上のために役立てることができません。 このような記録が残っていれば、例えば、下記のような分析に利用できます。 トレード手法の癖と損益の関係 どの時間帯の成績がよいか 平均利益と平均損失の pips 数 最適なポジションサイズ 最大損益と最大損失 損失が出たときにも、それを記録として残しておけば、今後の利益に結びつけることができます。 最初は面倒に感じるかもしれませんが、Excel などを使って記録をつけることを習慣化しましょう。"},{url:"/p/8cateju/",title:"大量保有報告書と5％ルール",date:"2016-06-20T00:00:00Z",body:"大量保有報告書と5％ルール 大量保有報告書 ある上場会社の株券等を 5% を超えて保有する者のことを、大量保有者と言います。 大量保有者となった 5 日以内に、「大量保有報告書」 を内閣総理大臣（金融庁長官）に提出する必要があります。これを 5% ルールといいます。 大量保有報告書の提出に関する留意事項について：金融庁 大量保有報告書の提出は EDINET（電子開示システム）を使って行います。 さらに、株券等の発行者に対して、大量保有報告書の写しを送付する必要があります。 大量保有報告書は 5 年間公開されます。 保有割合 5% の計算では、共同保有者の分も加えて計算されます。 共同保有者とは、議決権の行使等に合意している者のことで、例えば、妻や夫は共同保有者とみなされます。 議決権のない株式に関しては、5% ルールの対象外です。 変更報告書 株券等の大量保有者は、その保有割合が 1% 以上増減した場合、5 日以内に 「変更報告書」 を提出する必要があります。 バックリンク 用語集: 大量保有者"},{url:"/p/nnncw8k/",title:"金商法（金融商品取引法）",date:"2016-06-20T00:00:00Z",body:"金商法（金融商品取引法）"},{url:"/p/phj2op2/",title:"消費者物価指数とは",date:"2016-06-19T00:00:00Z",body:"消費者物価指数とは CPI とは 消費者物価指数 (CPI: Consumer Price Index) は、家計が消費する商品の物価を指数化したもので、総務省統計局が毎月公表しています。CPI は、実際の物価よりもインフレ気味になることが知られています。なぜなら、CPI が決まった種類の商品から計算されるのに比べ、実際の消費者は相対的に安い商品を選んで購入することができるという違いがあるからです。 土地や住宅などの不動産価格、保険料、直接税などは対象としていません。 消費税がかかる商品を対象にしていると考えればよいでしょう。 コアCPI／コアコアCPI コア CPI CPI の総合指数から「生鮮食品」を除いたものです。 生鮮食品は天候や気候によって価格が大きく変化するため、この影響を小さくするために求められています。 日銀が金融政策の判断に用いているのは、このコア CPI です。 コアコア CPI 総合指数から「食料（酒類を除く）及びエネルギー」を除いたものです。 総合から除かれるエネルギーとしては、「電気代」「都市ガス代」「プロパンガス代」「灯油代」があります。 米連邦準備理事会 (FRB) の消費者物価指数はこれを指しています。"},{url:"/p/mzsjmm6/",title:"長期金利の利回りについて",date:"2016-06-03T00:00:00Z",body:"長期金利の利回りについて 長期金利の利回りが大きいとは 代表的な長期金利の指標として、「新発10年国債の利回り」があります。 国債の利回りが大きい（国債の価格が安い）ということは、国債に人気がなく（通常は株などのリスク資産の人気が高く）、景気がよいということを示しています。 長期金利は現在の景気状況において、安定的に得られるリターンの指標となります。 長期金利 景気 株価 ↑ ↑ ↑ 長期金利は、通常は期待インフレ率よりは高く設定された状態になりますが、逆に期待インフレ率を下回ると、より利回りの大きい株式へ資金が流れていきます。 長期金利は市場が決めている 長期金利は中央銀行によって直接的に決められているものではありません。 長期金利は、現在の景気動向や短期金利の動きなどを見て、マーケットによって決められていくものです。 一方で、コール市場（銀行同士が短期の貸し借りを行う市場）における短期金利は、日銀がその目標値を決めており、この政策金利の操作が間接的に長期金利に効いてきます。"},{url:"/p/ijrny9b/",title:"実質金利と名目金利とは何か？",date:"2016-04-04T00:00:00Z",body:"実質金利と名目金利とは何か？ 債権などの金利が提示されたときに、「これはお得ですか？」と聞かれても、それだけの情報では判断することはできません。 なぜなら、お金の価値は相対的なものであり、物価の上昇を考慮して考えないといけないからです。 例えば、債権の金利（名目金利）が２％だったとしても、物価の上昇率（期待インフレ率）が１％ある場合は、差し引き１％分の実質金利しかないと考えます。 名目金利よりも期待インフレ率が高いという状況になると、債権から得られる金利でお金を増やしたとしても、物価の上昇の方が大きく相対的には損をするということになるので、実質金利はマイナスになります。 実質金利がマイナスになると、お金を預けておくよりも、借金をしてでも株式などに投資した方がよいということになり、株価は上昇していきます。"},{url:"/p/w4yro56/",title:"FX ストラテジヒント集",date:"2016-03-30T00:00:00Z",body:"FX ストラテジヒント集 トレンドライン + MACD を用いたストラテジ エントリー トレンドラインの押し目買い／戻り売りでエントリー ただし、MACD が逆行しているときはエントリーしない イグジット 損切り: 直近の高値／安値で損切り 利食い: MACD のゴールデンクロス／デッドクロスで利食い その他 欧米の金融機関やファンドの新会計年度を利用 6 月が上半期決算によるポジションクローズ 12 月が通期決算による トレンドを知る ADX テクニカル指標 ドル／円は実はシストレに向いてない。安全資産という謎のファンダメンタルによって不規則に動く可能性が高い。 ユーロ／ドルの売買の判断に、「英ポンド／米ドル」「米ドル／カナダドル」「米ドル／NZドル」のゴールデンクロス (GC)、デッドクロス (DC) を使うという考え方。"},{url:"/p/trghokn/",title:"テクニカル指標: RSI（相対力指数）",date:"2016-03-27T00:00:00Z",body:"テクニカル指標: RSI（相対力指数） RSI の概要 基本情報 英語名RSI: Relative Strength Index 日本語名相対力指数 考案者J・ウェルズ・ワイルダー・ジュニア (J. Welles Wilder) 考案年1970年代 モメンタム型オシレータ RCI やストキャスティクスと同じ 逆張り指標 の代表格で、「買われ過ぎ」や「売られ過ぎ」 を知るための指数 ある期間内（通常 14 日間）の価格の変化をベースに判断を行う RSI の値の範囲は、0%（めちゃ売られ過ぎ）～ 100%（めちゃ買われ過ぎ）になる RSI はトレンド発生中は機能しにくい RSI の利用例 RSI が 70% 以上で「買われ過ぎ」と判断して逆張りする RSI が 30% 以下で「売られ過ぎ」と判断して逆張りする RSI 50% を下から上に突き抜けたら「買いの勢いが強い」と判断して順張りする RSI 50% を上から下に突き抜けたら「売りの勢いが強い」と判断して順張りする RSI の計算式 RSI は「平均上昇幅」と「平均下降幅」をもとに、下記の計算式で求められます。 ここでは、計算区間を一般的な 14 日とします。 $$ RSI = \\frac{AvgGain}{AvgGain + AvgLoss} \\times 100 $$ \\( AvgGain \\) &hellip; 14 日間の平均上昇幅 \\( AvgLoss \\) &hellip; 14 日間の平均下降幅 「上昇幅」というのは、前日の終値から、当日の終値がいくら上昇したかを示します。 逆に価格が下がっている場合は「下降幅」として扱いますが、いずれも絶対値（0 以上の値）で扱います。 つまり RSI は、一定期間内の日々の価格変化のうち、上昇の割合が何％であったか を計算しています。 14 日前からの終値の情報があれば計算できるので、とってもシンプルです。 上記の計算では平均値を使っていますが、次のように、上昇幅と下降幅の 合計 を使っても同じ結果になります（ただし、後述する「畳み込み」を使った計算を行う場合は、平均値の方を使う必要があります）。 $$ RSI = \\frac{SumGain}{SumGain + SumLoss} \\times 100 $$ \\( SumGain \\) &hellip; 14 日間の上昇幅の合計 \\( SumLoss \\) &hellip; 14 日間の下降幅の合計 価格が 14 日間ずっと上昇している場合は、分母と分子が等しくなるので RSI は 100 になります。 逆に、14 日間ずっと下降している場合は、分子が 0 になるので RSI も 0 になります。 14 日間の平均上昇幅と平均下降幅が等しい場合は、RSI は中間値の 50 になります。 滅多にありませんが、価格がずっと変化しなかった場合は、上昇幅と下降幅の合計値が 0 になって 0 除算が発生してしまうので、そのような場合 (\\( SumGain + SumLoss = 0 \\)) は、RSI を無条件で 50 とする必要があります。 資料によっては次のような計算式が掲載されていたりしますが、この式は上記の計算式を変換したもので意味は同じです。 なぜこんな複雑な形で示しているのかは分かりませんが、上記のシンプルな計算式の方を使えばよいと思います。 $$ RSI = 100 - \\frac{100}{1 + \\frac{SumGain}{SumLoss}} $$ 畳み込みによる平滑化 一般的に、平均上昇幅 (AvgGain) と平均下降幅 (AvgLoss) を求めるときは、次のように計算していくことで平滑化を行います（いわゆる EMA の計算です）。 初回は単純に 14 日間の平均上昇幅と平均下降幅を計算する（15 日目から求められる） AvgGain = 14日間の上昇幅の合計 / 14 AvgLoss = 14日間の下降幅の合計 / 14 残りは前回の計算結果を使って計算していく AvgGain = (前日までの AvgGain x 13 + その日の上昇幅) / 14 AvgLoss = (前日までの AvgLoss x 13 + その日の下降幅) / 14 後続の計算方法では、もっとも古い上昇幅や下降幅を削除するという作業を省いて、単純に前日における平均上昇幅が過去 13 日間にわたって続いていたとみなして計算しています。 この計算方法には平滑化の効果があり、計算期間が長いほどその影響度は上がります。 計算期間のデフォルト設定 日足 週足 月足 楽天（マーケットスピード） 9日 9週 9月 SBI（HYPER 株） 14日 14週 14月 RSI の提唱者であるワイルダー氏は、RSI の計算区間として 14日 を使うことを勧めています。 経験上、相場のサイクルは 7 日の倍数で、28 日であることが多い。 RSI は半周期で見るのが適しているので、固定の 14 日とした。 なぜ「半周期」で見るのが適しているのかはよく分かりません。。。 『高勝率システムの考え方と作り方と検証』 では、短期のETFトレードでは計算区間は短くした方が有効 と述べられています。 参考リンク MetaQuotes 社の RSI 実装の解説"},{url:"/p/xyo3cu3/",title:"証拠金について理解する",date:"2016-03-25T00:00:00Z",body:"証拠金について理解する 先物取引や FX などでは、口座に入金したお金にレバレッジをかけ、何倍もの金額の取引を行うことができます。 金融業者にとってみれば、このお金は担保として預かったお金であり、これを証拠金と呼びます。 証拠金は、さらに細かく下記のように呼び分けられます。 証拠金残高（受入証拠金） (Balance) FX 会社などに預け入れた証拠金の額です。 ポジションを持ったり、評価損益が出ている場合でも、証拠金残高は変化しません。 ポジションを決済し、損益が確定した時点で証拠金残高が変化することになります。 必要証拠金（取引証拠金） (Margin) 現在のオープンポジションに対して必要な証拠金の額です。 FX では取引している通貨のレートが変動すると必要証拠金も変動します。 日本の FX 会社では、レバレッジは 25 倍以下（個人口座）と決められいるので、取引額の 4% 以上を必要証拠金として FX 会社の口座に預託しておかなければいけません。 例えば、レバレッジ 25 倍の場合に、100 万円分の取引を行う際に必要な、必要証拠金は下記のように求められます。 100万円 / 25 = 4万円 もちろん、リスクを抑えて取引したいという人がレバレッジを最大 10 倍までと設定しているのであれば、同じ取引額でも必要証拠金は増えることになります（それほど多くの取引ができないということ）。 注文中証拠金 まだ約定していないエントリー注文に対してかかる証拠金です。 指値・逆指値によるエントリー注文をしている場合は、その注文に対しても証拠金が必要となります。 いつ約定するか分からないため、そのときに備えるための証拠金です。 有効証拠金 あといくらの証拠金分まで取引を行うことができるかを表します。 FX 会社に預けた証拠金額に、現在のポジションの評価損益を加え、すでに利用している証拠金を差し引いた金額です。 証拠金残高 ＋ 評価損益 ー 必要証拠金 ー 注文中証拠金 ＝ 有効証拠金 すべてのポジションや注文を閉じると、 「証拠金残高 ＋ 評価損益」 の部分が口座に残るため、この部分を 純資産 (Equity) と呼んだりします。 証拠金維持率 (Margin Level) 純資産が現在のポジションの必要証拠金に対してどれくらい余裕があるかを示します。 証拠金維持率は下記のように計算されます。 純資産 ／ 必要証拠金 ＝ 証拠金維持率 通常、証拠金維持率が 50% を割ると マージンコール （電話やメールによる催促）がかかり、口座への入金 「追証（おいしょう）」 や、ポジションの決済を求められます。 ある程度の含み損をかかえても、強制ロスカットされないようにするには、余裕を持った証拠金維持率を保つことが必要です。 証拠金維持率は、FX 会社によって呼び方が異なることがあります。 証拠金維持率（SBI FX トレード、楽天 FX） 証拠金率（Meta Trader) 口座維持率 (外為オンライン）"},{url:"/p/p7gpx7f/",title:"MetaTrader/MQL: チャートのタイムフレーム（H1 や M15）を取得する (Period, PeriodSeconds)",date:"2016-03-21T00:00:00Z",body:"MetaTrader/MQL: チャートのタイムフレーム（H1 や M15）を取得する (Period, PeriodSeconds) 現在のタイムフレーム設定を取得する (Period) カレントチャートのタイムフレーム（ローソク足 1 本あたりの時間）を調べるには、組み込みの _Period 変数 か Period 関数 を使用します。 ENUM_TIMEFRAMES timeframe = _Period; // Period() でも同じ 結果として、下記のような ENUM_TIMEFRAMES 型の値を得ることができます。 値意味値意味 PERIOD_M11 分PERIOD_H11 時間 PERIOD_M22 分PERIOD_H22 時間 PERIOD_M33 分PERIOD_H33 時間 PERIOD_M44 分PERIOD_H44 時間 PERIOD_M55 分PERIOD_H66 時間 PERIOD_M66 分PERIOD_H88 時間 PERIOD_M1010 分PERIOD_H1212 時間 PERIOD_M1212 分PERIOD_D11 日 PERIOD_M1515 分PERIOD_W11 週間 PERIOD_M2020 分PERIOD_MN11 カ月 PERIOD_M3030 分 現在のタイムフレームの秒数を取得する (PeriodSeconds) ローソク足 1 本あたりが、何秒であるかを取得するには、PeriodSeconds 関数 を使用します。 引数を省略するか、PERIOD_CURRENT を指定すると、現在のチャートの足 1 本あたりの秒数を返します。 特定のタイムフレームの足 1 本あたりの秒数を調べたいときは、ENUM_TIMEFRAMES 型のいずれかの値を指定します。 int seconds1 = PeriodSeconds(); // カレントチャートのタイムフレームの秒数 int seconds2 = PeriodSeconds(PERIOD_M1); // 60 int seconds3 = PeriodSeconds(PERIOD_H1); // 3600 現在のタイムフレームのテキスト表現を取得する _Period で取得した ENUM_TIMEFRAMES 値を EnumToString 関数に渡すと、その enum 値の文字列表現を取得することができます。 Scripts/Hello.mq5 void OnStart() { Print(EnumToString(_Period)); //=&gt; &#34;PERIOD_M30&#34; など } PERIOD_M30 といった文字列ではなく、後ろの M30 といった部分だけを取得したい場合は、次のように StringSubstr 関数を使って部分文字列を取得すればよいでしょう。 Scripts/Hello.mq5 /** * ENUM_TIMEFRAMES 値に対応する &#34;M30&#34; や &#34;H1&#34; などの文字列を取得します。 */ string TimeframeToStr(ENUM_TIMEFRAMES timeframe) { string s = EnumToString(timeframe); // &#34;PERIOD_XXX&#34; のような文字列 return StringSubstr(s, 7); // &#34;PERIOD_&#34; 以降の部分文字列を取得する } void OnStart() { Print(TimeframeToStr(_Period)); // =&gt; &#34;M30&#34; など }"},{url:"/p/av9kv7g/",title:"MetaTrader/MQL: 組み込み関数の実行に失敗したときにエラー情報を表示する (GetLastError, ErrorDescription)",date:"2016-03-20T00:00:00Z",body:"MetaTrader/MQL: 組み込み関数の実行に失敗したときにエラー情報を表示する (GetLastError, ErrorDescription) MQL の組み込み関数の実行に失敗した時には、GetLastError 関数によってそのエラーコードを取得できます。 このエラーコードは int 型の数値のため、その内容をテキストで取得したい場合は次のように変換する必要があります。 MT4 の場合 GetLastError 関数で取得したエラーコードを ErrorDescription に渡すことで、テキスト形式でエラー内容を取得することができます。 これらの関数を使用するには、stdlib.mqh をインクルードしておく必要があります。 下記は、ObjectCreate の実行に失敗した時のエラー表示の例です。 MQL4 // #include &lt;stdlib.mqh&gt; if (!ObjectCreate(0 , name, OBJ_LABEL, subWindow, 0, 0)) { Alert(&#34;Failed to create a label: &#34;, ErrorDescription(GetLastError())); return; } 表示例 Failed to create a label: object already exists MT5 の場合 MT5 の場合は、なんと ErrorDescription 関数が提供されてません（なんでやねん）。 正確には、MT4 で用意されていた stdlib.mqh が提供されていません。 代わりに、下記のサイトで、MetaQuotes 社からライブラリとして ErrorDescription.mqh ファイルが提供されています。 自分でダウンロードして使えということですね（なんでやねん）。 ErrorDescription - library for MetaTrader 5 これをダウンロードして MQL5/Inlude ディレクトリにコピーすれば、 MQL5 #include &lt;ErrorDescription.mqh&gt; とインクルードして、MT4 と同様に ErrorDescription 関数が使えるようになります。 自力で int → string 変換する関数を定義しているだけなのであたり前ですけど。 こういうユーティリティ系の関数は、自分用のユーティリティ関数をまとめたファイル（例えば Util.mqh など）で定義しておくと、細かいファイルをたくさんインクルードしなくて済むのでスッキリします。 下記の例では、ユーティリティ系のクラスを Util ネームスペース内にまとめて定義しています。 参考: MQL5/Include/maku77/Util.mqh 使用例 // #include &lt;maku77/Util.mqh&gt; if (!ObjectCreate(0 , name, OBJ_LABEL, subWindow, 0, 0)) { Alert(Util::ErrorDescWithCode()); return; }"},{url:"/p/dqretu4/",title:"企業年金",date:"2016-01-22T00:00:00Z",body:"企業年金 企業年金とは 企業年金とは、企業がそこでの労働者のために積立を行い、退職後の年金や、退職時の一時金として支給するためのものです。 勤務先の企業が制度として準備している場合だけ加入することになります。 参考: 企業年金や国民年金基金の制度のあらまし｜厚生労働省 企業年金の掛金は、企業が全額負担するのが基本ですが、制度によっては従業員が掛金の一部を負担することができるものもあります。 企業年金は大きく分けて、下記の 2 種類に分けられます。 確定拠出型 (DC: Defined Contribution) 確定給付型 (DB: Defined Benefit) 確定拠出型の企業年金 確定拠出型の企業年金は、毎月一定額の掛金を積立て、その掛金を個人ごとに運用して将来の支払いに備える年金制度です。 毎月拠出する額だけは確定していますが、将来支払われる年金額は、運用実績により増減します。 運用中の年金は個人ごとに管理されるため、転職した際も年金資産を移転することができます（ポータビリティ）。 加入条件 60 歳未満の人が加入対象 公務員や国民年金の第 3 被保険者（専業主婦）は加入できない 掛金 掛金は企業が拠出するもの（企業型）と、個人で拠出するもの（個人型）の二種類があり、それぞれの拠出限度額が異なっています。 企業型: 企業が拠出し、企業が実施 他の企業年金を提供している企業: 27,500 円まで 他の企業年金を提供していない企業: 55,000 円まで 個人型: 個人で拠出し、国民年季基金連合会が実施 第 1 号被保険者（自営業者など）: 68,000円まで（国民年金基金との合算額） 企業年金などを提供していない企業の従業員: 23,000円まで 受給（老齢給付金） 確定拠出型の企業年金（老齢給付金）を受給するには、10 年以上の加入期間が必要です。 加入期間が 10 年以上あれば、60 歳から受け取りを開始することができます。 また、少なくとも 70 歳までには受け取りを開始しなければいけません。 70 歳までに受け取りを開始しなければいけない、という制約と、10 年以上の加入期間が必要というところから、加入の条件が 60 歳未満という計算になるわけですね。 税金 確定拠出型の企業年金において、個人が拠出した掛金がある場合、全額が**小規模企業共済等掛金控除の対象**となります。 老齢給付金を一時金として受け取った場合は、退職所得としての所得税の課税対象となります。 年金として受け取った場合は、雑所得として所得税の課税対象となります。 確定拠出型の企業年金の運用中に発生する収益（利息、分配金、譲渡益など）は、すべて非課税です。 確定給付型の企業年金 確定給付型の企業年金は、将来年金として支払われる給付額があらかじめ決まっている企業年金です。 財政状況が悪くなった場合でも、企業としては一定額を支払わなければいけなくなってしまうため、最近は確定拠出型の企業年金を採用するところが増えてきています。 厚生年金基金 厚生年金基金は、国が行っている老齢厚生年金の一部を代行し、企業から上乗せして年金を支給する制度です。 運用環境の悪化に伴う問題などが発生したため、現在では新しい基金の設立は認められていません（後述の確定給付企業年金に移行している）。 掛金は、事業主の負担部分を 5 割以上に設定しなければいけません。 従業員が掛金を支払った場合は、個人負担分の全額が 社会保険料控除の対象となります（老齢厚生年金の一部を代行するため、社会保険の側面を持つと考えればよいでしょう）。 厚生年金基金による支給開始は、特別支給の老齢厚生年金の報酬比例部分が支給開始となったときからです。 確定給付企業年金 厚生年金基金の新たな設立ができなくなったため、その受け皿として確定給付企業年金という制度が作られました。確定給付企業年金は、その運用形態によって下記の二種類に分けられます。いずれの場合も、老齢厚生年金の代行などは行いません。 規約型: 労使が合意した規約に基づき、外部の金融機関が年金資産を運用します。 基金型: 企業とは別法人の基金を設立して、年金資産を運用します。 確定給付企業年金において 、従業員が負担した掛金がある場合は、全額が**生命保険料控除の対象**となります。 中退共: 中小企業退職金共済制度 従業員数や資本金の額が一定以下の中小企業は、従業員のための退職金制度として、中小企業退職金共済制度（中退共）に加入することができます。 掛金 中退共の掛金は、従業員が負担することはできず、全額が企業負担になります。 ただし、新しく中退共に加入する企業や、掛金を増額する場合は、国からの補助を受けることができます。 中退共に新たに加入する事業主は、加入後 4 ヶ月目から 1 年間にわたり、国から掛金月額の 2 分の 1 の助成を受けることができる。 法人が支払った掛金は、全額が損金として算入されます（この点からも、事業主や役員の加入が制限されていることがわかります）。 中退共制度に加入している企業を退職して 2 年以内に、転職先の企業で再度、被共済者となった場合は、通算の申し出を行うことで、前後の退職金共済契約に係る掛金納付月数を通算することができます。 加入できる人・企業 中退共制度に加入している企業では、従業員は全員が加入することになります（中退共の掛金は全額が事業主負担なので文句は出ないですね）。一方で、事業主や役員などは加入することができません。 事業主や役員のためには、小規模企業共済という退職金制度が用意されています。 事業主と生計を一にする同居の**親族については、**事業主と使用従属関係の確認のための書類の提出があれば、中退共に加入することができます。 企業の規模が大きくなった場合、中小企業（従業員が 20 人以下など）の条件を満たさなくなった時点で、中退共からは脱退する必要があります。 退職金の受け取り方 中退共の退職金の受け取り方法には下記の方法があります（小規模企業共済と同様です）。 一括受取り 分割受取り 一括受取り・分割受取りの併用"},{url:"/p/tkt7bha/",title:"保険について学ぶ",date:"2016-01-22T00:00:00Z",body:"保険について学ぶ 社会保険と私的保険 保険は大きく分けて 2 種類、国が制度として定めている公的な保険（社会保険）と、民間の保険会社などが提供している私的保険があります。 日本は国民皆保険であり、全員が何らかの社会保険に加入していることになるため、社会保険でカバーできない部分を、私的な保険でカバーすることになります。 逆に言えば、社会保険でカバーできていることを、余計なお金を払って民間の保険でカバーする必要はないということです。 その判断をするためは、 自分がどのような社会保険に加入しているのか？ それぞれの社会保険が、どのような条件で、どのような給付を行ってくれるのか？ といったことをちゃんと把握しておく必要があります。 まずは、社会保険制度について詳しく学んでいきましょう。 社会保険（公的保険） 国民の最低限の生活を保障するために国が定めている制度として、社会保険制度があります。 病院での自己負担が 3 割で済んだり、年金がもらえたり、労災時に給付があるのは、この社会保険制度に加入しているおかげです。 社会保険は大きく分けて、下記の 5 つに分類することができます。 狭義の社会保険 公的医療保険（健康保険／国民健康保険／後期高齢者医療制度） 病気や怪我をしたときのため 公的介護保険 要介護状態になったときのため 公的年金保険 老後の生活のため 労働保険（労働者を 1 人でも雇っている事業主は加入義務あり） 雇用保険 働けなくなったときのため 労災保険（労働者災害補償保険） 病気や怪我をしたときのため（労働が原因のもの） 任意保険（民間保険） 民間の保険会社が販売している保険は、万が一のときに備えて任意で加入するものです。 社会保険でカバーできない部分の備えです。 第一分野の私的保険（生命保険）: 人の生死を対象に一定額の支払い受けるための保険 第二分野の私的保険（損害保険）: 偶然の事故による損失を補填（実損払い）するための保険 第三分野の私的保険（医療保険） 年金 年金は老後の生活資金を準備するためのものです。 日本国民全員が加入する公的年金に加え、企業が労働者のために提供している企業年金、民間の保険会社などが提供している個人年金などがあります。 公的年金保険: 国が定めている社会保険のうちの一つで、全員が加入 企業年金: 企業がそこで働く人のために用意している年金制度 確定拠出型の企業年金／厚生年金基金／確定給付企業年金／中退共（中小企業退職金共済制度） 個人年金保険 : 個人が民間の保険会社などと契約して老後に備える 定額個人年金保険／変額個人年金保険 自営業者のための年金: 事業主や国民年金の第 1 号被保険者が加入できる年金制度 国民年金基金／付加年金／小規模企業共済"},{url:"/p/7t7m3wb/",title:"個人年金保険",date:"2016-01-22T00:00:00Z",body:"個人年金保険 個人年金保険とは 個人年金保険は老後のために、公的年金や企業年金に上乗せする形で貯蓄しておくタイプの私的年金です。 契約時に決めた年齢になったときに、年金の形で保険金が払われます。 個人年金保険は、老後に年金形式で保険金を受給する特徴を持ちますが、それ以外は他の生命保険と似ており、生命保険のひとつに分類されています。 例えば、他の生命保険商品と同様に、死亡時・高度障害時の保険金などの機能を備えています。 個人年金保険には、保証金の額や、解約返戻金の額が変化する変額個人年金と、変化しない定額個人年金があります。 定額個人年金保険 定額個人年金保険では、保険料の支払い期間中に被保険者が死亡してしまった場合は、それまでに支払った保険料と同額の死亡給付金が支払われます。 個人年金保険は、年金の支払い条件によって、下記のように分類されています。 確定年金: 支払期間中は死んでも年金が支払われる 被保険者が死亡した場合、保険金は遺族に渡されます。 被保険者が死亡した場合、残りの保証期間に対応する年金または一時金が支払われます。 10 年確定年金などがあります。 有期年金: 支払期間中で、かつ生存中のみ年金が支払われる 受け取り条件が厳しいため、保険料は安くなっています。 保証期間付有期年金もあり、保証期間中は死後も年金が支払われます。その場合は、残りの保証期間に対応する年金または一時金が支払われます。 終身年金: 生きている限りずっと年金が支払われる 女性の方が一般的に長生きするため、保険料は高く設定されています。 保証期間付終身年金もあり、保証期間中は死後も年金が支払われます。その場合は、残りの保証期間に対応する年金または一時金が支払われます。 夫婦年金（夫婦連生年金）: 夫婦のどちらかが生きている限り年金が支払われる 変額個人年金保険 変額保険を年金受け取り型にしたものです。 保険料を株式や債権などで運用し、その運用実績によって年金額や解約返戻金などが増減します。 生命保険のひとつである変額保険と同様、将来的に受け取れる年金額が増減するため、リスクの高い商品と言えます。 解約返戻金に最低保証がない一方で、死亡時や高度障害時には最低保証があるところなどは、変額保険と同様です。 税金について 個人年金を 5 年以内に解約して解約返戻金を受け取った場合に、解約差益がある場合、金融類似商品として 20% の源泉分離課税の課税対象となります。 養老保険の場合も同様です。"},{url:"/p/pnxddva/",title:"所得税",date:"2016-01-22T00:00:00Z",body:"所得税 所得とは 所得税は、所得に対して税率を掛けて算出するため、まずは所得とは何なのかを知っておく必要があります。 所得とは、収入からその収入を得るための必要経費を引いた残り、つまりは儲けのことを表しています。 図にすると、以下のような感じです。 収入（売上げや給料など） 経費 所得（課税される部分） 企業で言えば「利益」の部分にあたるものが個人の「所得」に当たります。 所得税の計算過程 所得税の計算は、下記のようなステップで行われます。 10種類の所得を計算する （所得の種類ごとに「収入－経費－特別控除」という計算で所得を求める） 課税標準を計算する （10種類の所得を合算する） 課税所得金額を計算する（所得控除） 所得税額を計算する （課税所得金額に所得税の税率をかける） 差引所得税額（申告納税額）を計算する （所得税額から税額控除を行う）"},{url:"/p/p7seyje/",title:"損害保険（第二分野の私的保険）",date:"2016-01-22T00:00:00Z",body:"損害保険（第二分野の私的保険） 損害保険とは 損害保険は、偶然の事故によって被った損害を塡補するための保険です。 生命保険とは異なり、実損払いとなります（一定額の保険金が支払われるのではなく、損害によりかかった実際の費用だけを補填する）。 保険価額と保険金額 保険金額とは、その契約で補償している額のことで、支払いの限度額です。 保険価額とは、保険によって守られるものの時価のことです。 保険金額が、保険価額より高くなることは通常ありません。 保険金額と保険価額の大小により、下記のように呼び分けられています。 全部保険: 保険金額 ＝ 保険価額 一部保険: 保険金額 ＜ 保険価額（例えば、1000 万円のものに 500 万円分の保険をかける） 超過保険: 保険金額 ＞ 保険価額（加入者の儲けが出る） 損害保険の種類 主な損害保険には下記のようなものがあります。 火災保険（火災による住宅、家財の損害を補償） 地震保険（火災保険の特約で、地震／噴火／津波による損害を補償） 自動車保険（自動車事故による損害を補償） 傷害保険（自分自身のケガによる入院、通院をしたり、亡くなったとき） 賠償責任保険（相手方に損害を与えて、損害賠償責任を負ったとき） 火災保険 住宅火災保険 火災保険は、火災による建物や家財の損害を補填する損害保険です。 消火費用、臨時費用、片付け費用などの費用保険金も出ます。 火災保険は、火災による損害だけでなく、下記の災害に対しても補償します。 補償される: 落雷、爆発、風災、雪災、ひょう災 補償されない: 地震、噴火、津波 建物と家財は別々の契約となるため、どちらか一方にだけ保険をかけることができます。 建物の保険価額は時価で考慮するのが一般的です。 保険金額（支払い上限額）が、保険価額の 80% 以上あれば、実際の損害が全額補償されます（実損塡補）。 保険金額が保険価額の 80% に満たない場合は、その割合だけの損害が補償されます（比例塡補）。 例えば、保険金額が保険価額の 40% しかない場合は、損害額の半分（40% / 80%) だけが補填されるということです。 30 万円を超える骨董品などは、明記物件として契約時に申し出をしておかないと補償の対象外となります。 家財を火災保険の対象として契約した場合でも、住宅敷地内に置いてある自動車は保障の対象とならないことに注意してください。 住宅総合保険 住宅火災保険での補償に加え、水災や盗難による損害も補償されます。 建物更生共済 JA 共済が取り扱う火災保険で、地震や噴火、津波などによる損害も補償されます。 ただし、補償額は通常の**火災保険の場合の 50%**になります。 地震保険 地震保険では、住宅火災保険では補償対象とならなかった、地震、噴火、津波を原因とする火災、損壊、埋没、流失などの損害を補償します。 地震保険は単独で加入することはできず、火災保険の特約として契約することが必要です。 保険期間は原則で 1 年間ですが、最長で 5 年間の契約が可能です。 地震保険の保険料は、所在地（都道府県）や、建物の構造（2 区分）によって異なります。 ただし、保険料は地震保険基準料率によって決められているため、保険会社が異なっていても、保険料が変わることがありません。 趣味の骨董品など、火災保険で明記物件として扱われるものに関しては、地震保険では補償の対象外です。 地震保険の保険料の割引としては下記の 4 種類がありますが、重複して適用を受けることはできません。 建築年割引 耐震等級割引 免震建築物割引 耐震診断割引 保険金の上限 地震保険による保険金は、建物 5000 万円、家財 1000 万円を上限に支払われますが、主契約の保険金額の 30〜50% までという制約があります。 また、支払額は実損ではなく、損害の程度によって保険金額の何割が支払われるかが決まっています。 全損: 100% 半損: 50% 一部損: 5% ただし、半損と一部損の差が大きく、不公平だという声が多く上がったため、今後は下記の 4 段階に認定することが決められています。 全損: 100% 大半損: 60% 小半損: 30% 一分損: 5% 自動車保険 自賠責保険（自動車損害賠償責任保険） すべての自動車と原動機付自転車に加入の義務があります。 補償が対人賠償に限定されているため、その他の部分については、任意の自動車保険に加入してカバーしておく必要があります。 自賠責保険の支払い限度額 死亡事故死亡者 1 人につき 3,000 万円の保険金 後遺障害障害の程度によって 75 〜 4,000 万円の保険金 障害事故上記とは別枠で最大 120 万円の保険金 任意の自動車保険（下記 7 つで構成） 対人賠償保険: 自賠責保険でカバーできない対人責任を保障 無免許運転でも酒気帯び運転の場合でも保険金は払われる 対物賠償保険: 自動車事故で他人の物に損害を与えた場合 身内に対する事故では保険金は出ない 無免許運転でも酒気帯び運転の場合でも保険金は払われる 自損事故保険: 単独事故の場合の保険 定額払い 搭乗者傷害保険: 自動車に乗っている人が死傷した場合 自分や身内に対する事故でも保険金が出る 定額払い 無保険車傷害保険: 自分が被害者になった場合 保険に入っていない相手からの賠償金という扱い（非課税） 車両保険: 自分の車の損害や盗難にあった場合、 地震、津波、噴火による損害は対象外 人身傷害補償保険: 自分の過失割合にかかわらず、自分の体の損害に対して一定額が払われる 傷害保険 傷害保険は、自分自身のケガによる通院や入院、死亡などを補償するための保険です。 補償の対象となるものは、急激かつ偶然な外来事故とされており、病気や自殺、ケンカなどは補償の対象外です。 また、地震・噴火・津波が原因となるケガも対象外です。 障害保険の保険料は年齢や性別にかかわらず一律（偶然のケガのため）ですが、職業によって異なる場合があります。 支払われる保険金額は、定額払いになります（損害保険は基本的には実損払いですが、傷害保険は人に対する補償のため定額払いされています）。 普通傷害保険 国内外を問わず日常生活でのケガを補償。細菌性の食中毒は対象外。 家族全員を対象とする家族傷害保険があり、配偶者、生計を一にする同居の親族、生計を一にする別居の未婚の子が補償対象。 交通傷害保険 国内外を問わず日常生活および、交通事故や、建物や乗り物の火災、駅構内などでのケガを補償。 歩行中に看板が落下してきてケガをした場合なども対象となる。 家族全員を対象とするファミリー交通事故傷害保険がある。 国内旅行傷害保険 国内旅行時、家を出て帰宅するまでのケガを補償。 普通傷害保険とは異なり、細菌性の食中毒も対象になる。 ただし、虫垂炎（病気）は対象外。 海外旅行傷害保険 海外旅行時、家を出て帰宅するまでのケガを補償。 普通傷害保険とは異なり、細菌性の食中毒も対象になる。 ただし、虫垂炎（病気）は対象外。 所得補償保険 ケガまたは病気で働けなくなっときの所得を補償するためのものです。 傷害保険などでは、病気を原因とするものは補償の対象外でしたが、所得補償保険では就労不能状態であることが条件のため、病気で働けなくなった場合も補償の対象となります。 就労不能状態と認定されていれば、入院の有無を問わず保険金が支払われます。 賠償責任保険 賠償責任保険は、事故などによって相手に損害を与え、損害賠償責任を負った場合の保険です。 個人賠償責任保険 日常生活における偶然の事故で相手方に損害を与えた場合が対象です。 典型的なのは、自転車による事故や、飼っているペットが噛みついたりして、相手にケガを負わせてしまうケースです。 業務中の事故、同居親族に対する事故、預かり品の損壊、自動車による事故は対象外だということに注意してください。 個人賠償責任保険は、ひとつの契約だけで家族全員が補償の対象になります（家族の範囲は家族傷害保険と同じ） PL 保険（生産物賠償責任保険） 法人向けの賠償責任保険です。 製造した商品による事故で他人に損害を与え、損害賠償責任を負った場合のための保険です。 施設所有者（管理者）賠償責任保険 法人向けの賠償責任保険です。 施設の不備による事故で他人に損害を与え、損害賠償責任を負った場合のための保険です。"},{url:"/p/p82xvup/",title:"生命保険（第一分野の私的保険）",date:"2016-01-22T00:00:00Z",body:"生命保険（第一分野の私的保険） 保険料と配当金 保険料（= 純保険料 + 付加保険料）は 3 つの予定基礎率により決まる 純保険料: 予定死亡率と予定利率により決まる 付加保険料: 予定事業費率により決まる 剰余金（= 死差益 + 利差益 + 費差益）は配当金として還元（有配当保険のみ） 責任開始日は「申し込み」「告知（審査）」「第一回保険料の払込」のすべてが完了した日 生命保険の払込方法は「月払い」「半年払い」「年払い」「一時払い」 例えば、一時払いの終身保険は保険期間全体の保険料を一度に支払う方法で、解約返戻金の増加は高利回りとなる傾向があります。ただし、早期に解約すると解約返戻金が元本割れすることがあります。 保険料払込猶予期間: 翌月の初日から月末まで 失効した保険契約を復活したとき、保険料率は失効前と同じ 払込みが困難なときの手段 自動振替貸付: 解約返戻金から立て替え。貸付けなので利息あり 払済保険への変更: 保険期間はそのままで受け取る保障額を減らす 延長保険（定期保険）への変更: 保障額は減らさず保険期間を短くする（定期保険にする） 払済保険や延長保険に変更すると特約は消滅 契約転換（下取りして別の保険に買い換え）時は保険料を再計算 生命保険の種類 生命保険は、人の生死に関わる保険商品の総称です。 死亡時や、高度障害になった場合に保険金が支払われるものですが、貯蓄性の有無などによっていくつかの種類に分けられます。 生命保険の種類 満期保険金 解約返戻金 定期保険 なし なし 終身保険 なし あり 定期保険特約付きの終身保険 なし あり 養老保険 あり あり アカウント型保険 あり（積立部分） あり（積立部分） こども保険 あり あり（元本割れ） 変額保険 あり（最低保証なし） あり（最低保証なし） 貯蓄性があるというのは、満期を迎えたときに満期保険金をもらえたり、解約時に解約返戻金がもらえたりすることを表しています。 死亡時の保障だけでなく、長生きした場合に備えて貯蓄を行えるものがあるということです。 また、こども保険のように、定期的に祝金がもらえたり、アカウント型保険のように、入出金機能を備えた口座のように扱える保険もあります。 逆に、保障性を重視した生命保険には、満期保険金や解約返戻金がなかったりしますが、当然その分だけ保険料が安く設定されています。 定期保険 満期保険金も解約返戻金もない 定期保険は、保障期間内（定期）に死亡、あるいは高度障害状態になった場合に保険金が支払われる保険です。 満期を迎えた場合の満期保険金の支払いがなく、解約時の解約返戻金ももらえないため、掛け捨ての生命保険と呼ばれています。 他の保険に比べて保険料は安くなっていますが、年齢が高いほど保険料は高くなるのが一般的です。 更新型の定期保険の場合、更新時にはその時の年齢によって保険料が再計算されるため、だんだん保険料が上がっていきます。 保険金の変化 支払われる保険金が一定の標準定期保険と、増えていく逓増（ていぞう）定期保険、減っていく逓減（ていげん）定期保険があります。 定期保険の種類 保険金（もらえる額） 保険料（支払う額） 平準定期保険 一定 普通 逓増定期保険 上がっていく 高い（契約期間中の増減はない） 逓減定期保険 下がっていく 安い（契約期間中の増減はない） 逓減定期保険は、もらえる保険金がだんだん減っていってしまうのですが、保険料としては一番安くなります。 子供が大きくなる前に、万が一自分が死んでしまった場合の備えとしては、ひとつの候補として考えられます。 終身保険 終身保険は、定期保険と同様に、死亡時や高度障害状態になったときに保険金が支払われるものですが、定期保険と異なり、保障期間は死ぬまでずっと続きます。 満期保険金はないが、解約返戻金がある 終身保険においては、保険会社はいつか必ず支払わなければならない保険金として、責任準備金を積み立てています。 契約者が契約を解約したときには、この責任準備金をもとにした解約返戻金を受け取ることができます。 そのため、定期保険と比べ、終身保険には若干の貯蓄性があると言えます。 終身保険には、いくつかのバリエーションがあります。 低解約返戻金型の終身保険 一定期間だけ解約返戻金が下がる代わりに、保険料が割安 定期保険特約付の終身保険 主契約の終身保険に対して、特約として定期保険を付ける生命保険です。 一定期間だけ保障を手厚くしたい場合などに、定期保険を特約として付けることで、保険金を上乗せするという考え方です。 特約部分の契約期間は、終身保険の払込期間に照らし合わせて、全期型と更新型に分けられます。 全期型: 終身保険の払込満了までが特約の保険期間 更新型: 一定期間ごとに特約を更新（更新ごとに保険料増加） アカウント型保険（予定利率変動型積立終身保険） アカウント型保険とは、保障部分と積立部分に自由に配分することのできる保険です。 積立金はいつでも残高を把握することができるようになっており、一定の範囲内で自由に引き出すことができます。 払込満了後に積立金をもとに終身保険や年金を購入します。 積立部分にかかる利率は、変動金利となっていますが、最低保障利率が設定されており、その利率以下に下がることはありません。 養老保険 満期保険金も解約返戻金もある 養老保険は、死亡時や高度障害になったときに保険金が支払われる保険ですが、生存して満期を迎えた時に満期保険金をもらうことができます。 そのため、貯蓄性を重視した生命保険と言えます。 満期保険金の額は、死亡時や高度傷害になったときの保険金（死亡・高度障害保険金）と同額となります。 保険料は比較的高いのですが、年齢による保険料の差はあまりありません。 解約した場合は、解約返戻金を受け取ることができますが、早期に解約した場合は元本割れすることになるので注意してください。 こども保険、学資保険 こども保険は、教育資金を準備するための保険で、契約者が死亡した時のための保障を備えています。 詳細は教育資金のページを参照してください 教育資金の準備: こども保険、学資保険 変額保険 変額保険は、運用によって受け取ることのできる保険金や解約返戻金が増減する生命保険です。 思っていたより多くの保険金を受け取れることもあれば、受け取れないこともあるため、リスクの大きい生命保険といえます。 変額保険は特別勘定で運用されており、運用先が複数ある場合は、契約者が運用比率を選択することができます（確定拠出型の個人年金に似ています）。 満期保険金や解約返戻金には最低保証はない ただし、死亡時や高度障害時には最低保証がある 満期のある有期型（養老保険タイプ）と満期のない終身型（終身保険タイプ）がある 個人年金保険 個人年金保険は老後に年金を受け取るために積み立てていくものですが、保険料の払込中に死亡時してしまった場合は、死亡給付金が受け取れるなど、保障機能も兼ね備えています。 個人年金保険について"},{url:"/p/iqefert/",title:"自営業者のための年金",date:"2016-01-22T00:00:00Z",body:"自営業者のための年金 国民年金の第 1 号被保険者のための年金上乗せ制度（いずれかを選択） 国民年金基金 付加年金 個人事業主や中小企業の役員のための退職金制度 小規模企業共済 国民年金基金 国民年金基金は、国民年金の第 1 号被保険者（自営業者）のための、年金を上乗せするための制度です。 保険料の免除や、滞納をしていないことが加入の条件です。 掛金の支払いは口数制となっており、1 口当たりの金額は、年齢や性別によって異なります。 国民年金基金のために支払った掛金は、全額が**社会保険料控除の対象**となります。 付加年金とは重複して加入することはできません。 付加年金 付加年金は、国民年金基金と同様、国民年金の第 1 号被保険者（自営業者）のための、年金を上乗せするための制度です。 保険料の免除や、滞納をしていないことが加入の条件です。 国民年金保険料に、毎月 400 円を上乗せして支払うことで、年金の受給時に、支払った月数 x 200 円を上乗せで受け取ることができるようになります。 国民年金基金とは重複して加入することはできません。 小規模企業共済 小規模企業共済は、事業主や中小企業の役員のための退職金制度です。 中小企業のための制度なので、従業員が 20 人以下などの条件があります。 退職時だけではなく、事業を撤廃したときなどにも支払いがありますが、支払われる額は異なってきます。 掛金は 1,000 円から 70,000 円の間で共済契約者が自由に設定することができ、全額が**小規模企業共済等掛金控除の対象となります（ちなみに、確定拠出型の企業年金 (DC) もこの控除の対象です）。 掛金は加入後に増額することも、減額することも可能**です。 小規模企業共済の共済金の受け取り方法には下記の方法があります。 一括受取り 分割受取り 一括受取り・分割受取りの併用 役員や事業主ではない、従業員のための退職金制度としては、中小企業退職金共済制度（中退共）が用意されています。"},{url:"/p/bii9qib/",title:"人生の３大資金",date:"2016-01-19T00:00:00Z",body:"人生の３大資金 教育・住宅・老後 人生の中で多くの資金が必要となる、教育費用、住宅費用、老後の生活費などは、人生の 3 大資金と呼ばれています。 多くの資金が必要となりますが、貯蓄やローンの仕組みを詳しく知っておくことで、計画的に資金を準備していくことができるようになります。 また、万が一の事故や、病気になったときに備えて、保障機能を持った保険へ加入することも必要になってくるでしょう。 長期の資金計画が必要なので、早めに準備を初めて不安を取り除いていくようにしましょう。 出費の種類 必要な資金 教育資金 1 人につき 1000 万～ 2500 万 住宅資金 数千万～数億 老後資金 3000 万～ 5000 万"},{url:"/p/kbrr8v8/",title:"住宅資金／住宅ローン",date:"2016-01-19T00:00:00Z",body:"住宅資金／住宅ローン 住宅資金の準備 住宅の購入には多額の資金が必要となるため、住宅ローンを利用するのが一般的です。 ただし、金融機関などからの借り入れの限度額は、不動産価格の 8 割程度なので、残りは自己資金として準備する必要があります。 自己資金を貯めるときは、財形住宅貯蓄の制度や、贈与の特例などを利用すると非課税枠によって有利に資金を用意することができます。 住宅ローンを使用した場合も、**住宅ローン控除（住宅借入金等特別控除）**を受けることができ、日本では住宅の購入に関して、税金面で優遇されています。 自分で貯める: 財形住宅貯蓄 住宅ローン: 財形住宅融資、フラット 35、民間住宅ローン 親からの援助: 住宅資金に関する贈与の特例 財形住宅貯蓄（勤労者財産形成住宅貯蓄） 財形住宅貯蓄は、3 種類ある財形貯蓄の中のひとつで、勤務先が金融機関と提携してこの制度を提供している場合に利用することができます。 貯蓄は給与天引で行われるため、計画的に資金を準備することができます。 3 種類の財形貯蓄の中で、財形住宅貯蓄に関しては、用途が住宅資金に限定される代わりに、550 万円までの元利合計分まで非課税になるといった、税金面での優遇措置があります。 550 万円を超えると、この非課税枠が使えなくなり、利子所得による 20% の源泉徴収が課せられるので注意してください。 参考: 財形貯蓄制度｜厚生労働省 財形住宅貯蓄の特徴 用途の制限: 住宅の購入、増改築 年齢の制限: 申し込み時に 55 歳未満 積立期間: 5 年以上の積立が必要（ただし、住宅購入のためであれば 5 年未満での引き出しも可能） 税の優遇: 元金と利子の合計 550 万円までが非課税（財形年金との合計額） また、財形貯蓄の残高が 50 万円以上あれば、後述の財形住宅融資を受けられるというメリットもあります。 住宅ローン 住宅ローンには、独立行政法人である住宅金融支援機構などが行う公的ローンと、民間の銀行などが行う民間ローンがあります。 住宅ローンの種類 窓口 財形住宅融資 住宅金融支援機構 フラット 35 民間金融機関（住宅金融支援機構が住宅ローン債権を買取） 民間ローン 民間金融機関 住宅ローンの返済額は、給与収入の 25% 程度が目安だと言われていますが、余裕がある場合は繰上げ返済を行うことで、総返済額を減らすことができます。 繰上げ返済 期間短縮型: 返済期間を短縮（残りの毎月返済額は変わらない）。効果大 返済額軽減型: 毎月の返済額を減らす（返済期間は変わらない）。効果小 住宅ローンの返済方法には大きく 2 種類あります。 返済方法 元利均等返済: 毎回一定額を返済する（元金＋利息の合計額が一定ということ）。最初は元金の返済割合が低いため、総返済額は多くなってしまう。 元金均等返済: 毎回一定の元金を返済する（元金＋利息の合計額は一定ではない）。当初は返済額が多くなるため、多くの資金が必要となるが、総返済額は少なくなる。 金利は大きく分けて 3 種類のパターンがあります。 金利 固定金利: 申し込み時、あるいは融資時の金利が、完済するまで固定。 変動金利: 適用金利が半年ごとに変化する。ただし、毎月の返済額は 5 年ごとにしか見直されない（金利自体は半年ごとに変化するので、元金と利息の支払い比率は変化している）。5 年経過時に返済額が急上昇した場合でも、直近の返済額の 1.25 倍までしか上がらないという上限が設定されている。 固定金利選択型: 一定期間は固定金利で、その後は固定金利か変動金利かを選択する。固定金利の期間を長くすると、金利は高くなる。 財形住宅融資 勤務先を通して、一定の財形貯蓄を行っていると、住宅金融支援機構による公的ローンである財形住宅融資を受けることができます。 公的な融資のため、保証人や保証料は必要ありませんが、特約火災保険などへの加入が条件になっています。 財形住宅融資の特徴 融資の条件: 3 種類の財形貯蓄のいずれかの残高が 50 万円以上で、1 年以上継続した積立があること 融資限度額: 最高 4000 万円／物件価格の 90% 以内／財形貯蓄残高の 10 倍以内 金利: 固定金利（5 年ごとに金利見直し） 返済期間: 35 年以内（80 歳以下で完済すること） 財形住宅融資は、フラット 35 と併用することが可能です。 フラット 35 フラット 35 は、民間金融機関が窓口となって提供しているローンですが、背後では住宅金融支援機構が住宅ローン債権を買い取り、証券化などによって運用を行っています。 そういった意味で、公的な側面を持った民間ローンといえます。 財形住宅融資と同様、保証人や保証料は必要ありません。特約火災保険などへの加入が必要になるのも同様です。 フラット 35 の特徴 融資の条件: 申し込み時点で 70 歳未満／本人の居住用／物件価格が 1 億円以内 融資限度額: 最高 8000 万円／物件価格の 100% 以内（ただし融資割合が 90% を超えると金利が上がる） 金利: 固定金利（フラットという名称のもと）あるいは段階金利。具体的な金利は窓口となる民間金融機関が決め、融資実施日の金利が適用される 返済期間: 15 年〜 35 年（80 歳以下で完済すること） 繰上げ返済の手数料は無料で、窓口では 100 万円単位、インターネットでは 10 万円単位で可能です。 フラット 35 は、財形住宅融資と併用することができます。 フラット 35 は、借り換えにも利用できるようになっています。 現状使用している住宅ローンについて、金利面で不満がある場合は、フラット 35 への借り換えを検討してみるのもよいでしょう。 民間ローン 民間の金融機関が提供している民間ローンは、公的ローンに比べて物件に対する制約は少ないのですが、申込者の収入などがより細かくチェックされます。 また、万が一の場合に備えて、団体信用生命保険への加入が必須となっています（公的ローンの場合は任意加入）。 団体信用生命保険の保険料は、金利に含まれているのが一般的です。 親からの援助 贈与時の非課税措置 贈与を受ける人の所得が 2000 万円以下であれば、父母や祖父母から受ける贈与の一定額が非課税となります（H31.6.30まで）。 非課税限度額は年によって異なり、贈与税の 110 万円の基礎控除とは別枠で非課税となります。 相続時の非課税措置 父母や祖父母が 60 歳以上で亡くなった場合、相続人となる子や孫が 20 歳以上であれば、累計 2,500 万円までの贈与が非課税となります。 平成 31 年 6 月 30 日までは、住宅資金としての贈与であれば、親の年齢制限がありません。"},{url:"/p/gzyc47j/",title:"教育資金／教育ローン",date:"2016-01-19T00:00:00Z",body:"教育資金／教育ローン 子供の教育費は、1 人につき 1000 万円～ 2500 万円程度かかると言われており、人生の 3 大資金のひとつとされています。 子供の成長を止めることはできないので、決まった時期に必ずある程度の資金が必要になってきます。 教育費が必要になる時期までに、十分な資金を貯蓄できていればよいのですが、資金的に余裕がない場合は、借り入れによって教育費を賄うことになります。 国や民間企業によって、教育資金を貯蓄するための保険や、借り入れのため仕組みが用意されていますので、ここではその全体像をとらえておきましょう。 教育費のための貯蓄: こども保険、学資保険、一般財形貯蓄 教育費のための借入: 奨学金、教育ローン 貯蓄による教育資金の準備 こども保険、学資保険 教育資金を準備するときには、生命保険会社や損害保険会社などが販売している、こども保険や学資保険を利用することができます。 これらの商品は、貯蓄機能と保障機能を兼ね備えた商品といえます。 貯蓄機能 一般的に、入学時に祝金をもらえたり、満期時に保険金がもらえるようになっています。この仕組みのおかげで、子供の成長に合わせて、計画的に貯蓄していくことができます。 保障機能 親が死亡したり、高度障害になった場合は、以後の保険料を支払わなくても、全額支払った場合と同様のサービスを受けられます。例えば、入学祝金や、満期保険金などを受け取ることができます。また、子供に対する医療保障を持つものもあります。親が死亡した場合に、育英年金として保険期間終了まで年金が支払われるものもあります。 保険商品によって、貯蓄機能と保障機能のどちらに重みをおいているかは異なってきます。 例えば、保障機能を重視しているようなものは、貯蓄性が低くなり、満期保険金の額は少なるものもあります。 家庭の事情などを考慮して、どのような点を重視するかを考えて選択しましょう。 一般財形貯蓄 財形貯蓄とは、勤務先の企業が金融機関などと提携して、給与天引（ボーナス含む）で貯蓄を行ってくれる仕組みです。 役員などは財形貯蓄制度を使用することはできず、勤務先の企業が財形貯蓄制度を提供していない場合も使用できません。 財形貯蓄には、用途の決まった財形住宅貯蓄、財形年金貯蓄と、用途の自由な一般財形貯蓄があります。 教育費の貯蓄のために使用できるのは、使用用途の制限されていない一般財形貯蓄の方で、こちらは税金上の優遇措置などはありません（財形住宅貯蓄と財形年金貯蓄は、それぞれの元金と利息を合わせて、550 万円までが非課税になります）。 大きな利点のなさそうな貯蓄制度ですが、それぞれの財形貯蓄の合計額が 50 万円以上あると、住宅費用のための財形住宅融資を受けられるようなる、といった細かい利点があります（財形住宅融資の融資額は、貯蓄額の 10 倍まで）。 将来のために必要な資金を計画的に、しかも手をつけにくい状態で確保していけるという点で、安心感を得ることができます。 一般財形貯蓄についてのまとめ 年齢制限: なし 用途制限: なし 引き出し可能になるまでの最低期間: 3 年間 税の優遇措置: なし 1 人で複数の契約が可能 参考: 財形貯蓄制度｜厚生労働省 借り入れによる教育資金の確保 奨学金制度 奨学金制度は、在学期間中にお金を借りて、卒業後に返済していくものです。 奨学金制度には、自治体や学校などが運用しているものもありますが、代表的なのは、独立行政法人日本学生支援機構による奨学金制度です。 奨学金は経済的に就学が困難な学生を救うための制度であるため、利用のためには親の所得金額（年収）による制限があります。 成績の良し悪しや親の年収により第一種奨学金、第二種種奨学金に分けられます。 第一種奨学金には、より厳しい選考基準が設定されていますが、無利息で借りることができます。第二種奨学金には利息がかかりますが、在学期間中は無利息です。 奨学金の種類 利息の有無 要件 第一種奨学金 無利息 成績と年収に関して厳しい基準 第二種奨学金 利息あり（在学期間は無利息） 第一種よりは基準は緩い 教育ローン 教育ローンは、教育費用として使うことを目的としたローンで、国（日本政策金融公庫）や一般の金融機関が提供しています。 住宅ローンと同様、使用用途が制限されているものの、比較的低い金利で借り入れを行うことができることが特徴的です。 教育一般貸付 （日本政策金融公庫） 教育一般貸付は、日本政策金融公庫が提供している公的な教育ローンです。 成績に関する要件はなく、低い固定金利で借り入れることができますが、一定の所得制限があります。 成績要件: なし 年収制限: あり（子供の数によって異なる） 金利: 固定金利 限度額: 子供 1 人につき 350 万円まで (H26.4〜)。海外留学する場合は 450 万円まで。 返済: 15 年以内 日本政策金融公庫の教育一般貸付と、奨学金は重複して利用することが可能です。"},{url:"/p/8h58jaw/",title:"老後資金／リタイアメントプラン",date:"2016-01-19T00:00:00Z",body:"老後資金／リタイアメントプラン 老後の資金 多くの人は、退職後の 20 年以上にわたる老後生活を、それまでに蓄えてきた資金を使って過ごすことになります。 老後に快適な生活を送るためには、計画的な資金計画が必要です。 老後生活における資金としては、貯蓄、退職金、年金、その他の不労所得（資産運用における株式配当や家賃収入、債権の利息など）があります。 リバースモーゲージ リバースモーゲージとは現在住んでいる不動産を担保に入れて、金融機関から生活資金を借り入れる仕組みです。 死亡後にはその不動産を売却することによって、借入金やその利息を返済します。 日本でもリバースモーゲージの制度が広まりつつありますが、子供に資産を残せないなどの課題があるため、利用する際には遺族のことを考えた計画が必要です。 家を現金化、リバースモーゲージが急増 - 日本経済新聞"},{url:"/p/ik2isem/",title:"公的介護保険",date:"2016-01-18T00:00:00Z",body:"公的介護保険 介護保険とは 介護保険は、被保険者自身が加齢（40 歳以上）によって要介護状態（寝たきり）や要支援状態（虚弱）になった場合に、医療サービスなどに対する保険給付を得られるものです。 介護保険の保険者（保険の提供側）は市区町村です。 介護保険の被保険者 介護保険には 40 歳以上のすべての人が加入することになりますが、年齢により、第 1 号被保険者と第 2 号被保険者に分けられます。 第 1 号被保険者: 65 歳以上 第 2 号被保険者: 40 歳以上 65 歳未満（条件あり） 第 1 号被保険者は、その原因によらず、介護を要する状態になった場合に介護保険の保険給付を受けることができます。 第 2 号被保険者で受給資格を得られるのは、老化に起因する疾病（初老期認知症、脳血管疾患など）や、末期ガンになった場合のみです。 年齢的に若いため、受給のための条件が厳しくなっているということです。 介護保険の保険料 介護保険の保険料は、市区町村が所得に応じて決定します。 第 2 号被保険者で企業に勤めている人で、協会けんぽの健康保険に加入している人は、介護保険料率は 1.58% と決められています。 第 1 号被保険者は、公的年金を受け取る年齢（65 歳）となるため、介護保険の保険料は原則として年金から天引きされます（年金受給額が年額 18 万円を超える場合）。 介護保険による給付 介護保険による給付は、介護関連のサービス費用が自己負担 1 割で受けられるというものです（ただし、平成 27 年 8 月からは、所得 160 万円以上の人の自己負担は 2 割に引き上げられています）。 介護度に応じた給付額の上限 介護保険による給付には、要介護状態になった場合に受ける介護給付と、要支援状態になった場合に受ける予防給付に分類されています。 どの給付を受ける場合も、市区町村の認定が必要で、自立と判断された場合は給付資格を得られません。 介護状態は下記の 7 段階（および自立）の介護度のいずれかに認定されます。 要介護 1〜5 要支援 1〜2 自立（支援も介護も必要なし） 介護サービスの費用に対する自己負担額はいずれの介護度の場合でも 1 割ですが、いくらまでを 1 割負担で受けられるかが変わってきます。 例えば、最大の介護度である要介護 5 と判定された場合は、月 38 万円までのサービスを 1 割負担で受けることができるようになります。 介護保険施設を利用した場合の食費や、居住等にかかる費用は介護保険の給付の対象外で、全額利用者の負担となります。 高額介護サービス費 給付の上限を超えたサービス費用は全額が自己負担となりますが、同一月内の自己負担額が一定額を超えると、高額介護サービス費の給付を受けられます。 居宅介護住宅改修費 介護のための住宅改修である介護住宅改修（手すりやスロープの設置）を行った場合の費用は、後から請求することで 20 万円まで戻ってきます。こちらも 1 割は自己負担で、改修費用の 9 割が支給されます。 特定福祉用具の購入費 特定福祉用具の購入にかかった費用も同様に、10 万円まで支給されます。 ケアプランの作成 要介護被保険者のケアプラン（居宅介護サービス計画）は、一般的にケアマネージャ（介護支援専門員）依頼します。この際のケアプラン作成費に関しては、自己負担は発生しません。ケアプランは、被保険者本人が作成することもできます。"},{url:"/p/pwy3m6x/",title:"公的医療保険（健康保険／国民健康保険／後期高齢者医療制度）",date:"2016-01-18T00:00:00Z",body:"公的医療保険（健康保険／国民健康保険／後期高齢者医療制度） 公的医療保険の種類 医療に関する社会保険には健康保険（会社員）と国民健康保険（自営業者）があり、日本ではその人の雇用形態によりどちらかに入るかが決まっています。 また、75 歳以上になると、後期高齢者医療制度（長寿医療制度）の対象になります。 公的医療保険の種類 加入する人 健康保険 会社員（被用者） 国民健康保険 自営業者（地域住民、無職の人） 後期高齢者医療制度 75 歳以上の人 病院での支払いが軽減されるのは、これらの保険に加入しているおかげです。 健康保険（会社員） 会社の役員や従業員は、被保険者として健康保険に加入します。 また、健康保険には被扶養者という仕組みがあり、被保険者の収入に依存している家族は被扶養者とみなされ、保険料の負担がなくなります。 健康保険のポイントは、業務外の理由による疾病や負傷、死亡、出産などに関しての保険であるというところです。 業務中や通勤中の疾病や負傷に関してはは、労災保険による保険給付の対象となるため、健康保険の対象外です。 健康保険の保険料 保険料は毎月の給料やボーナスに一定の保険料率をかけて求めるのですが、保険料率は保険者（保険を提供する側）によってその率が異なっています。保険者は勤めている企業によって異なります。 健康保険の種類 保険者 メモ 協会けんぽ 全国健康保険協会 主に中小企業が加入している。 組合健保 健康保険組合 主に大企業が加入している。組合は会社や業種ごとに設立されている。 自分が加入している健康保険の保険者は、保険証の保険者名称の欄で確認することができます。 「組合」とあれば、組合管掌の健康保険だということです。 全国健康保険協会が保険者となる協会けんぽにおける保険料率は、都道府県ごとに異なる値が設定されています。事業主と従業員が **1/2 ずつ（折半）**で保険料を支払います。以前は全国一律で 8.2% に設定されていましたが、現在は都道府県ごとに設定されており、平成 27 年度の全国平均は 10% 程度です。 健康保険組合が保険者となる組合健保（組合管掌健康保険）の場合は、組合ごとの規約で負担割合が定められています。こちらの場合は、事業主側の負担を半分以上にすることができます（半分未満に設定することはできません）。 具体的な保険料は、毎年の4月〜6月の 3 ヶ月間の月収平均額を元に求められる標準報酬月額、標準賞与額を基準にして計算されます。 産休期間中（産前 6 週間、産後 8 週間）の保険料は、被保険者、事業主ともに免除されます。免除のためには、事業者の届出が必要です。 被扶養者 健康保険には被扶養者の仕組みがあり、被保険者（働いている人）によって生活を支えられている人は、保険料の負担がなくなります。 被扶養者となるには、下記の条件をすべて満たす必要があります。 3 親等内 の親族で 75 歳未満（75 歳以上は後期高齢者医療制度の対象になるため健康保険の対象からは外れる） 年収が被保険者の年収の 1/2 未満かつ、130 万円未満（60 歳以上の場合は 180 万円未満） ちなみに、自営業者が加入対象となる国民健康保険には、被扶養者という仕組みは存在しません。 被扶養者の仕組みがあるのは、被用者が加入対象となる健康保険だけです。 健康保険による給付 療養の給付 病院の窓口での医療費の自己負担額が 3 割に軽減される仕組みです。多くの人がこの恩恵を受けているはずです。基本的には 3 割負担ですが、小学校就学前と 70 歳以上の人はさらに軽減されて 2 割負担となります。あと、こちらは健康保険の仕組みではないのですが、75 歳以上の人は後述の後期高齢者医療制度の対象となるため、1 割の自己負担となります。ただし、70 歳以上であっても、75 歳以上であっても、一定以上の所得がある人は基本通り 3 割負担です。 高額療養費 1 ヶ月間に同一の医療機関で支払った医療費の自己負担額が一定額（自己負担限度額）を超えた場合に、超えた分が支給されます。自己負担限度額は被保険者の標準報酬額によって決められており、70 歳以上は優遇されています。 一定の条件を満たせば、被保険者と被扶養者の自己負担額は合算することができます。 入院時の食事代や、差額ベッド代は高額療養費の対象外となることに注意してください。 贅沢代は払いませんよってことですね。 また、人間ドックによる検査も一定の条件を満たさない限り、健康保険の対象外です（病気になったのではなく、検査のための費用だから）。 疾病手当金 業務外での負傷や病気によって働くことができなくなった場合に、所得補償として支給されます。仕事を休み始めて 4 日目から 1 年 6 ヶ月間、標準報酬の 2/3 相当額が支給されます。 疾病手当金はあくまで仕事による所得を補償するためのものであり、被扶養者に対しては支払われないことに注意してください。 また、業務内のケガも対象外です。業務が原因となった負傷や病気の場合は、労災保険の休業給付の対象となります。 もちろん、有休を使って休んでいる場合は所得があるわけですから、疾病手当金の支給対象からは外れます。 出産育児一時金 被保険者あるいは被扶養者の出産 1 児ごとに 42 万円が支給されます。妊娠期間が 4 ヶ月（85 日）以上であることが条件ですが、流産や死産であっても支給対象となります。産業医療補償制度の対象出産でない場合は、支給額が 404,000 円に減ります。 出産手当金 被保険者が出産のために仕事を休んでいる間、所得補償として支給されます。 産休期間中（出産予定日前 6 週間（42 日間）、および、出産日の翌日から 8 週間（56 日間））に、標準報酬の 2/3 相当額が支給されます（疾病手当金と同額）。 埋葬料（家族埋葬料）・埋葬費 被保険者あるいは被扶養者が業務外の理由で死亡した場合に、遺族に対して埋葬料として 5 万円 が支給されます。親族以外が埋葬した場合でも、実際に埋葬を行った人に対して、埋葬費として 5 万円までが支給されます。ただし、こちらの場合は、一律 5 万円が支給されるわけではなく、実際にかかった費用だけが支給されます。埋葬料は一律 5 万円、埋葬費は 5 万円以内の実費ということです。 手当金に分類される、疾病手当金と出産手当金は、いずれも仕事を休んでいる場合の所得補償をするためのものです。 そのため、対象者は働いている被保険者だけであり、有休を使って休んだ場合は基本的には支給対象になりません。 ただし、給与の額が手当金の額より少ない場合は、その差額が支給されます。 任意継続被保険者制度 会社を辞めると、健康保険の被保険者の条件から外れるため、基本的には国民健康保険に加入することになります。 ただし、2 ヵ月以上健康保険に加入していた人は、退職後 20 日以内に申請すれば、最長で 2 年間健康保険を継続することができます。 保険料は国民健康保険と同様に全額自己負担になりますが、保険者ごとに負担額の上限が定められています。 退職後に、この任意継続被保険者制度を利用しない場合は、自動的に国民健康保険に加入することになるのですが、国民健康保険の保険料は前年の所得をもとに計算されるため、退職の翌年は保険料が高くなる傾向にあります。保険料の見積もりをした上で、国民健康保険を選択するか、任意継続被保険者制度を利用するかを検討すると良いでしょう。 企業側から見た健康保険 すべての法人事業所、あるいは、従業員が 5 名以上いる個人事業所は、健康保険の強制適用事業所となります。 国民健康保険（自営業者、地域住民） 健康保険加入の対象とならない人、つまりは自営業者や無職の人は、代わりに国民健康保険に加入することになります。 企業を対象とした健康保険とは異なり、国民健康保険には被扶養者の仕組みがありません。扶養されている配偶者なども、自分で被保険者として国民健康保険に加入することになります。 国民健康保険の保険料 国民健康保険の保険料は全額自己負担で、市区町村ごとに異なります。 保険者（保険の提供側）はそれぞれの国民健康保険組合となり、保険料に大きな差があることがあります。 国民健康保険による給付 国民健康保険による各種の給付条件には、業務内、業務外という区別はありません。 自営業において、業務内という定義が難しいこともありますね。 ただし、業務内の負傷については、労災保険の給付がないときのみ給付されます（単純に、労災保険からの給付があるときに、重複して貰えるようなお得なことはありませんよということ）。 また、国民健康保険においては、働けない間に支給される所得補償の仕組み（疾病手当金、出産手当金）は基本的にはありません。ただし、これらの手当金に関しては任意給付とされているため、保険者によっては給付してもらえることがあります。 そもそも働いていない人に給与の所得補償はできませんし、自営業者の給与に対して所得補償するのはなかなか難しいということでしょう。 国民健康保険における給付をまとめると下記のようになります。 給付があるもの 療養の給付（3 割自己負担） 高額療養費（自己負担限度額） 出産育児一時金（一児出産につき 42 万円） 埋葬料・埋葬費（一律 5 万円、及び最大 5 万円） 給付がないもの（健康保険にはあったが、国民健康保険では任意給付） 疾病手当金 出産手当金 後期高齢者医療制度（75 歳以上） 75 歳以上のすべての国民は、後期高齢者医療制度に加入します。ただし、障害認定を受けた寝たきりの人などは 65 歳から加入します。 国民健康保険と同様に、被扶養者の仕組みはなく、全員が被保険者です。 後期高齢者医療制度の保険料 保険者（保険の提供側）は都道府県ごとに設立された高齢者医療広域連合です。 つまり、保険料は都道府県ごとに異なるということです（このあたりは健康保険と同様です）。 年金の受給額が年額 18 万円以上の人は、原則として公的年金から天引きで保険料が徴収されます。 低所得者には、保険料の軽減措置があります。 後期高齢者医療制度による給付 給付の内容は他の保険と同様ですが、医療費の自己負担は 1 割まで軽減されます。 健康保険及び、国民健康保険では、70 歳以降の医療費が 2 割負担となっていましたが、そこから 5 年経って 75 歳（後期高齢者）になると、さらに自己負担が減るということです。 ただし、現役並みの所得者は 3 割負担しなければいけません。 保険者は都道府県ごとに設立されていますが、給付の窓口は市町村ごとに設置されています。"},{url:"/p/j9a8o6p/",title:"公的年金保険",date:"2016-01-18T00:00:00Z",body:"公的年金保険 年金は退職後の生活を支えるために支給されるものです。 日本は、国民皆年金制度を採用しているため、一定の年齢になると全員が公的年金に加入します（任意で加入する私的年金はここでは対象外）。 公的年金には、全員が加入する国民年金に加え、労働者が上乗せで加入する厚生年金があります。 公的年金保険の種類 被保険者 国民年金（基礎年金） 20 歳以上 60 歳未満のすべての人 厚生年金 適用事業所で働く 70 歳未満の人（下限はない） 厚生年金の被保険者は、国民年金の被保険者にもなるため、両方の保険料を支払う必要がありますが、給付の際に受け取ることのできる年金額がその分増えます。 国民年金（基礎年金） 国民年金の被保険者 日本に住んでいる 20 歳以上 60 歳未満の国民は、全員が国民年金に加入します。 国民年金の被保険者は、第 1 号から第 3 号被保険者に分類されます。 被保険者の分類 説明 第 1 号被保険者 20 歳以上 60 歳未満の、自営業者や無職の人（学生含む）。 第 2 号被保険者 厚生年金に加入している人（会社員や公務員）。国民年金として年齢の要件は無いが、厚生年金の被保険者は 70 歳未満なので、実質 70 歳未満。 第 3 号被保険者 20 歳以上 60 歳未満の、被扶養配偶者（第 2 号被保険者に扶養されている配偶者）。年収 130 万円未満が条件。 国民年金には、任意加入制度があり、被保険者要件に当てはまらない人が、年金額を増やすために任意で加入することができます。 日本国籍を持っていれば、下記の条件で任意加入できます。 日本国籍を持つ人の任意加入制度 国内に住む 60 歳以上 65 歳未満の人（日本に住んでいたら 60 歳未満の人は自動的に国民年金の被保険者になるため、任意加入は必要ない） 国外に住む 20 歳以上 65 歳未満の人 国民年金の保険料 国民年金の保険料は一律で 15,590 円です（平成 27 年現在）が、毎年引き上げられ、平成 29 年度以降は 16,900円に固定されることになっています。 国民年金の保険料を自分で納付する必要があるのは、第 1 号被保険者だけです。 第 2 号被保険者は、厚生年金の保険料が源泉徴収されるときにまとめて給与天引きされています。 第 3 号被保険者の自己負担はありません（第 2 号被保険者の厚生年金によって保険料が拠出されています）。 国民年金の保険料免除／猶予／追納 第 1 号被保険者は自分で国民年金の保険料を納付する必要がありますが、一定の条件を満たすと、保険料の納付を免除、あるいは猶予してもらうことができます。 保険料を免除してもらうと、支払いの必要はなくなりますが、その分だけ年金の給付額が下がります。 法定免除 障害基礎年金、または、障害等級 1 級、2 級の障害厚生年金を受給している人や、生活保護法による扶助を受けている人は、全額免除。 申請免除 世帯主 or 配偶者の所得水準によって、全額、3/4、半額、1/4 を免除。 学生の納付特例 学生の所得が一定以下の場合、納付を猶予（後で支払う）。世帯主や親の所得要件などは無い。 若年者納付猶予制度 30 歳未満で所得が一定以下の場合、納付を猶予（後で支払う）。世帯主や親の所得要件は無いが、本人と配偶者の所得は考慮される。 いずれの場合も、適用のためには申請が必要です。また、10 年以内であれば追納することができます。 納付を免除した場合は、年金の給付額が減額されますが、全額免除した場合でも 1/2 の年金は国庫負担（税金）によって賄われているため、1/2 の年金を受給することができます。 全額免除した場合の受取り額: 国庫負担分(1/2) + 自己負担分(1/2 x 0 ) = 1/2 3/4 免除した場合の受取り額: 国庫負担分(1/2) + 自己負担分(1/2 x 1/4) = 5/8 半額免除した場合の受取り額: 国庫負担分(1/2) + 自己負担分(1/2 x 1/2) = 3/4 1/4 免除した場合の受取り額: 国庫負担分(1/2) + 自己負担分(1/2 x 3/4) = 7/8 厚生年金 適用事業所で働く 70 歳未満の人（第 2 号被保険者）は、厚生年金の被保険者となり、国民年金に上乗せする形で保険料を納付する必要があります（いずれも給与天引）。 適用事業所となるのは、すべての法人の事業所と、常時 5 人以上の従業員を使用している個人事業所です（個人事業主でも条件を満たせば強制加入ということ）。 厚生年金の保険料 厚生年金の保険料は、4〜6 月の月収の平均額をもとに計算されます。ボーナスも含めて計算する総報酬制です。総報酬月額は 30 等級に分類されます。 保険料率は一律で 17.474%（平成 27 年現在）ですが、毎年 9 月に 0.354% ずつ引き上げられ、平成 29 年度以降は 18.30% に固定されることになっています。 保険料の負担は、事業主と労働者で折半（労使折半）です。 厚生年金の保険料免除 3 歳未満の子の育児のために育児休業を取得している最中は、届け出をすることにより、事業主、労働者ともに保険料の負担が全額免除されます。 この場合も、将来受け取る年金受給額は減額されません。 ちなみに、厚生年金の保険料は給与からの天引で支払いが完了するため、保険料納付の猶予というものは存在しません。 公的年金（国民年金、厚生年金）による給付 公的年金の給付は下記の 3 つに分類され、基本的にいずれか 1 種類だけを受給することになります。 老齢給付: 被保険者が一定の年齢なったときに給付が開始される（通常 65 歳） 障害給付: 被保険者が所定の障害状態と認定された場合に給付が開始される 遺族給付: 被保険者が死亡した場合に、遺族に対して給付が開始される 年金の支払い日は偶数月です。 老齢給付（老齢基礎年金／老齢厚生年金） 老齢基礎年金の給付 受給要件: 65歳 に達していること 受給要件: 受給資格期間（納付済期間＋免除期間＋合算対象期間）が 25 年以上あること 合算対象期間の分は、年金額の計算には反映されない 付加年金: 第 1 号被保険者が毎月＋400 円払うと、毎月 200 円ｘ払った月数が追加でもらえる 繰上げ支給: 65 歳からではなく、60 歳まで早めることが可能 繰下げ支給: 65 歳からではなく、70 歳まで遅らせることが可能。繰り下げ支給の申し出は、66 歳に到達日以降に行います。 老齢基礎年金と老齢厚生年金の繰下げは別々に申出できるが、繰上げは同時に申出が必用 老齢厚生年金の給付 老齢厚生年金は 60 歳から受給 60 〜 64 歳: 特別支給の老齢厚生年金 被保険者期間が 1 年以上必用 報酬比例部分＋定額部分＋加給金額 65 歳からは報酬比例部分は老齢厚生年金に切替わる。定額部分は基礎老齢年金に切替わる 65 歳〜: 通常の老齢厚生年金 被保険者期間は 1 ヵ月以上あればよい 経過的加算: 特別支給の老齢年金の定額部分が、65 歳になって基礎老齢年金に切替わった時に減額してしまう場合の補助。 加給年金: 被保険者期間が 20 年以上ある場合、65 歳未満の配偶者、18 歳以下の子がいると加給年金が加算される。金額は一定だが受給者の生年月日により加算がある。妻が 65 歳になると、配偶者の加給年金は打ち切られるが、老齢基礎年金の方に振替加算が加算される（老齢基礎年金の受給者の生年月日に応じて金額が決まる）。老齢基礎年金の方には配偶者加給年金はない。 在職老齢年金: 60 歳以降も在職中だと老齢年金が減額（月額 47 万円を超えると在職支給停止） 障害給付（障害基礎年金／障害厚生年金） 障害基礎年金の受給要件 受給要件: 初診日に国民年金の被保険者 受給要件: 障害認定日（障害固定日 or 初診日から 1 年 6 ヵ月）に障害等級 1 級か 2 級 受給要件: 保険料 2/3 以上払っている 年金額（1 級）: 780,100 円ｘ1.25 + 子の加算 年金額（2 級）: 780,100 円 + 子の加算 障害厚生年金の給付 受給要件: 初診日に厚生年金保険の被保険者 受給要件: 障害認定日に障害等級 1 級か 2 級か 3 級（障害基礎年金では 3 級は認められない） 年金額（1 級）: 報酬比例の年金額ｘ1.25 + 配偶者加算 年金額（2 級）: 報酬比例の年金額 + 配偶者加算 年金額（3 級）: 報酬比例の年金額（最低保障あり） 厚生年金保険の被保険者期間は最低 300 ヵ月として計算 障害等級 3 級より軽度の障害が残った場合は障害手当金 遺族給付（遺族基礎年金／遺族厚生年金） 遺族基礎年金の給付 受給要件: 国民年金の被保険者 or 老齢基礎年金の受給者 受給できる遺族: 子を持つ配偶者 or 子（子は 18 歳以下 or 2 級までの障害状態） 年金額: 780,100 円＋子の加算（1 人 224,500 円、3 人目以降 74,800 円） 寡婦年金／死亡一時金: 第 1 号被保険者の夫が死亡した場合、10 年以上の婚姻期間があり、夫が基礎老齢年金も障害基礎年金も受給していないときに、妻は 60 歳から 65 歳到達まで寡婦年金を受け取るか、死亡一時金を選択して受給 遺族厚生年金の給付 受給可能遺族: 配偶者・子・孫・父母・祖父母（子のいない 30 歳未満の妻は 5 年間だけ給付。子・孫は 18 歳以下の間。父母・祖父母は死亡時に 55 歳以上で支給開始は 60 歳） 年金額: 報酬比例の年金額の 3/4（厚生年金保険の被保険者期間は最低 300 ヵ月で計算） 中高齢寡婦加算: 夫死亡時に 40 歳以上で子供のいない寡婦に対して、40 歳から 65 歳に到達するまで遺族厚生年金に加算 出産育児一時金は 1 児につき 42 万円。"},{url:"/p/4ikasw4/",title:"労災保険（労働者災害補償保険）",date:"2016-01-18T00:00:00Z",body:"労災保険（労働者災害補償保険） 労災保険とは 労災保険（労働者災害補償保険）は、仕事中や通勤途中の事故によって発生したケガや疾病、障害、死亡などに対して保険給付が行われるものです。 雇用保険と同様で、労働者を 1 人でも雇っている事業主は、労災保険に加入する義務があります。 被保険者となるのは、パートやアルバイトを含む労働者全員で、こちらも雇用保険と同様です。日雇いの労働者や、外国人労働者なども対象です。 社会保険の種類 加入する人 労災保険 パート、アルバイトを含む労働者（役員を除く） 労災保険の特別加入制度 一定の中小企業の役員、自営業者 労災保険の保険者は政府で、窓口は労働基準監督署です。 労災保険の特別加入制度 役員などの経営者、事業主は労災保険の対象外ですが、常時使用する労働者数が一定数以下（業種によって異なる）の中小企業であれば、任意で労災保険に加入できる特別加入制度が用意されています。 労働者としての側面の強い、個人タクシー業者なども任意加入することができます。 労災保険の保険料 他の社会保険とは異なり、保険料は全額が事業主負担となっています。 雇用保険と同様、保険料率は業種により異なります。 労災保険による給付 労災保険による給付は下記のようなものがあり、すべて事業主負担です。 業務災害と通勤災害のどちらが原因となり給付されたかによって名称が少しずつ異なります。 カッコ内が通勤災害による給付の名称です。 通勤中の災害については、普段の経路を変えて寄り道をした時点で労災保険の対象から外れますが、日常生活上必要な行為であった場合は、普段の経路に戻った後は再び労災保険の対象になります。 療養補償給付（療養給付） 労働者が業務上の負傷または疾病により、労災指定病院等で療養補償給付として受ける療養の給付については、すべて事業主負担となり、労働者の一部負担金はありません（業務外の負傷や疾病の際の療養費を保障する健康保険の場合は、3 割の自己負担です）。 休業補償給付（休業給付） 労働者が業務上の負傷または疾病の療養のために労働することができず、賃金を受けない日が 4 日以上に及ぶ場合、賃金を受けない日の第 4 日目から休業補償給付が支給されます。支給額は、給付基礎日額の 60% 相当額です。 傷病補償年金（傷病年金） 傷病保障年金は、労働者が業務上の負傷・疾病により療養し、療養開始後 1 年 6 ヶ月経過後に病気が治っておらず、傷病等級 1 級から 3 級に該当する場合に支給されます。 介護補償給付（介護給付） 労災事故によって労働者が介護を必要とする状態になり、実際に介護を受けている場合に給付されます。 障害補償給付（障害給付） 業務が原因の怪我や病気が治った後に、障害が残った場合、障害の程度に応じて、年金あるいは一時金が支給されます。 遺族補償給付（遺族給付） 労働者が業務上の災害により死亡したとき、その労働者によって生計を維持されていた遺族に対して、遺族補償給付として年金あるいは一時金が支給されます。 受給資格者は、配偶者、子、父母、孫、祖父母陽、兄弟姉妹であり、この順番の最優先順位者だけが受給権者となります。 遺族補償年金の支給額は、遺族補償年金の受給権者と生計を同じくする受給資格者の人数によって異なります。 埋葬を行った場合は、請求にもとづいて埋葬費が支給されます（埋葬給付）。 労災保険の障害給付や遺族給付は、年金の形式で支払われることがあります。 公的年金（国民年金、厚生年金）を同時に受け取る状況にある場合には、一定のルールにもとづいて、労災保険の方の年金額が減額されます（公的年金の方の減額はありません）。"},{url:"/p/p96oiry/",title:"雇用保険",date:"2016-01-18T00:00:00Z",body:"雇用保険 雇用保険とは 雇用保険は、働く意思と能力がある人が何らかの理由（離職、育児、介護）によって働けない場合や、高齢になって給料が減ってしまった場合の生活保障制度です。 労働者を 1 人でも雇っている事業主は、雇用保険に加入する義務があります。 雇用保険には、企業の被用者となる会社員が加入します。 自営業者や、無職の人は加入対象となりません。 社会保険の種類 加入する人 雇用保険 パート、アルバイトを含む労働者（役員を除く） なし 自営業者（地域住民、無職の人） 健康保険と同様に、会社員は雇用保険に加入することになりますが、役員や事業主、およびその家族は加入できないことに注意してください。 また、パートやアルバイトを含む労働者が加入者になりますが、原則として一週間の労働時間が 20 時間以上あることが条件です。 雇用保険の保険者（保険の提供側）は、労災保険と同じく、政府となります。 窓口は公共職業安定所（ハローワーク）です。 保険料は事業主と労働者で負担しますが、事業主の負担が多くなっています。 また、保険料率は業種により異なります（建設業などは保険料率が高い）。 雇用保険による給付には、下記のようなものがあります。 失業中・休業中の給付 失業等給付（失業中の基本手当） 介護休業給付（家族の介護のための休業） 育児休業給付（1 歳未満の子の育児のための休業） その他 教育訓練給付（厚生労働大臣が指定する講座を受講したとき） 高年齢雇用継続給付（60 歳以上で給料が減少したとき、あるいは再就職したとき） 失業等給付（基本手当） 労働の意思、および能力があるのに職業に就くことができないという失業の状態にあるときに、雇用保険から基本手当が支給されます。 雇用保険の基本となっているのはこの失業等給付による基本手当で、一般的に失業保険と呼ばれているものです。 基本手当の給付要件 失業等給付による基本手当を受け取るには、65 歳未満の労働者であり、かつ、下記の被保険者期間がある必要があります。 自己都合の失業（一般離職者）: 離職前 2 年間に通算 12 ヵ月以上の被保険者期間があること 会社都合の失業（特定受給資格者）: 離職前 1 年間に通算 6 ヵ月以上の被保険者期間があること 65 歳未満で特別支給の老齢年金の受給権を持っている人は、この基本手当を受給すると、特別支給の老齢年金の支払いは停止されます（雇用保険による基本手当が優先される）。 基本手当の給付日数 基本手当の給付を受けられる期間は、原則として離職日の翌日から起算して 1 年間です。 ただし、退職後 7 日間は待機期間として給付を受けられません。 さらに、自己都合の退職の場合や、重大な過失により解雇された場合は、公共職業安定所長の定める期間**（最長 3 ヶ月間）の支給制限**があります。 実際に給付を受けられる日数は、年齢、被保険者期間、離職理由などによって下記のように変化します。 自己都合の失業（一般離職者）: 90〜150 日 会社都合の失業（特定受給資格者）: 90〜330 日 基本手当を受給中に出産か疾病で引き続き 30 日以上離職する場合は、給付日数を最長 4 年間延長することができます。 基本手当の給付額 基本手当の給付額は、退職前の最後の 6 ヶ月間の賃金の総額を 180 で割った値に、年齢に応じた一定の比率をかけて求められます。 つまり、最後の 6 ヶ月間の平均日給をもとに計算されるということです。 ボーナスは計算に入れません。 1日分の基本手当 = 最後の6ヶ月の平均日給 x 年齢による給付率(45〜80%) 再就職手当 基本手当の受給日数を 1/3 以上残して再就職した場合は、再就職手当を受け取れます。 育児休業給付 1 歳未満の子の育児のために休業している間、休業前賃金の 50% 相当額が支給されます（6 ヶ月間は 67% 相当額が支給されます）。 休業開始前の 2 年間に通算 12 ヶ月の被保険者期間があることが条件です。 育児休業中は健康保険料と厚生年金保険料は、事業主、被保険者ともに免除されます。 介護休業給付 家族を介護するために休業している間に、休業前賃金の 40% 相当額が最長 93 日間支給されます。 育児休業給付と同じく、休業開始前の 2 年間に通算 12 ヶ月の被保険者期間があることが条件です。 教育訓練給付 労働者が自分で費用を負担して、厚生労働大臣が指定する講座を受講して修了した場合、その費用の一部が支給されます。 一般教育訓練の給付金 雇用保険の被保険者期間が 3 年以上（初回の受給は 1 年以上）あることが条件。 10 万円を上限とし、受講費用の 20% が支給される。 専門実践教育訓練の給付金 雇用保険の被保険者期間が 10 年以上（初回の受給は 2 年以上）あることが条件。 32 万円を上限とし、受講費用の 40% が支給される。 一般教育訓練に比べ、より専門的かつ実践的な教育訓練が対象。 資格を取得し、再就職につながった場合は 20% の支給が上乗せされる。 さらに、45 歳未満の人で、この給付金の受給資格を持つ人は、教育訓練支援給付金として、教育訓練期間中に雇用保険の基本手当の半額相当が支給される。 高年齢雇用継続給付 高年齢雇用継続基本給付金 60 歳以上の高齢になり、給与が減少してしまった場合に支給されます。 被保険者期間が 5 年以上あることが条件です。 60 歳到達月から 65 歳到達月までの賃金がこれまでの 75% 未満に減少した場合に、新しい賃金の 15% を上限に支給されます。 65 歳からは公的年金の支給が始まるため、雇用保険によるこの給付はなくなります。 高年齢再就職給付金 雇用保険の基本手当を受給後、受給日数を 100 日以上残して再就職した場合に支給が開始されます。 高年齢雇用継続基本給付金と同様に、被保険者期間（算定基礎期間）が 5 年以上あることが条件です。 60 歳到達月から 65 歳到達月まで、新しい賃金の 15% を上限に支給されます。"},{url:"/p/9vqo9fk/",title:"FX 時刻表",date:"2016-01-17T00:00:00Z",body:"FX 時刻表 為替の世界は 24 時間動いています。 現在主要なマーケットは、ロンドン市場、ニューヨーク市場、東京市場の 3 つです。 中でもロンドン市場と、ニューヨーク市場の時間帯が重なる午後 11 時前後は、取引が盛んに行われるため、為替レートが大きく動きます。 FX で一攫千金を狙おうとする人たちも、この時間帯は特に集中しています。 下記に、世界の為替市場の取引時間、証券取引所の Web サイトへのリンクをまとめておきます。 世界の市場の取引時間 (JST) ※カッコ内は夏時間 オセアニア ウェリントン市場（ニュージーランド）- New Zealand Exchange 為替市場: 6:00〜14:00 (5:00〜13:00) 株式市場: 7:00〜13:45 (6:00〜12:45)（現地時間 10:00〜16:45） シドニー市場（オーストラリア）- Australian Securities Exchange 為替市場: 6:00〜15:00 (5:00〜14:00) 株式市場: 9:00〜15:45 (8:00〜14:45)（現地時間 10:00〜16:45） アジア 東京（日本）★ - 日本取引所グループ (JPX: Japan Exchange Group) 為替市場: 9:00〜17:00 株式市場: 9:00〜11:30、12:30〜15:00 香港市場（香港）- Hong Kong Exchanges 為替市場: 10:00〜18:00 株式市場: 11:00～13:30、15:30〜17:00（現地時間: 10:00〜12:30、14:30〜16:00） 上海市場（中国）- Shanghai Stock Exchange 株式市場: 10:30〜18:30（現地時間: 9:30〜15:30） シンガポール市場（シンガポール）- Singapore Exchange 為替市場: 10:00〜18:00（現地時間: 9:00〜17:00） ムンバイ市場（インド） 為替市場: 13:25〜19:00（現地時間: ）昼休みなし バーレーン（バーレーン） 為替市場 (14:00〜23:00) ヨーロッパ フランクフルト市場（ドイツ）- Frankfurt Stock Exchange 為替市場: 17:00〜1:00 (16:00〜0:00) 株式市場: 17:30〜1:30 (16:30〜0:30)（現地時間: 9:30〜17:30） チューリッヒ（スイス） 為替市場 (17:00〜3:00) ロンドン市場（イギリス）★ - London Stock Exchange 為替市場: 17:00〜2:00 (16:00〜0:00) 株式市場: 17:30〜1:30 (16:30〜0:30) （現地時間: 8:30〜16:30） アフリカ ヨハネスブルグ市場（南アフリカ）- Johannesburg Stock Exchange 株式市場: 16:00〜23:30（現地時間: 9:00〜16:30） アメリカ ニューヨーク市場（アメリカ）★ - NYSE: New York Stock Exchange 為替市場: 22:30〜7:00 (21:30〜6:00) 株式市場: 23:30〜6:00 (22:30〜5:00) （現地時間: 9:30〜16:00）昼休みなし トロント市場（カナダ）- Toronto Stock Exchange 株式市場: 23:30〜6:00 (22:30〜5:00) （現地時間: 9:30〜16:00） FX の重要時間 ロンドンフィックス: 25:00（夏: 24:00） 世界の金の値段である、スポット価格を決めます。金はドル建てで取引されるため、ドルに関連する相場が大きく動きます。 NY オプションカット: 24:00（夏: 23:00） オプションカットは通貨オプションの権利行使期限です。相場が大きく動きます。 東京仲値算定: 9:55 各銀行が仲値 (TTM) を決定する時間帯で、取引が活発化します。 仲値不足により、銀行によるドル買いが起こることがあります。 特に ゴトウ日（5 の倍数の日） は企業等の大口決済が多く、取引が活発になります。 各国の夏時間（サマータイム） ニュージーランド（一部除く） 9月最終日曜日 2:00 〜 4月第1日曜日 3:00（現地時間） オーストラリア 10月最終日曜日 2:00 〜 3月最終日曜日 3:00（現地時間） 欧州 3月最終日曜日 〜 10月最終日曜日 アメリカ 3月第2日曜日 〜 11月第1日曜日（エネルギー政策法により改定されました。2007年以前は、4月第1日曜日午前2時〜10月最終日曜日午前2時でした）"},{url:"/p/axfr8wi/",title:"繰り返し IFD 注文の損失拡大表",date:"2016-01-12T00:00:00Z",body:`繰り返し IFD 注文の損失拡大表 図: 外為オンラインの「iサイクル注文」より 例えば、ドル円を値幅 0.1 円ごとに買い注文を入れ（ナンピン）、0.1 円上がるごとに利確するといったことを繰り返すと、レンジ相場であるかぎり利益を上げ続けることができます。 外為オンラインのiサイクル注文や、マネースクウェア・ジャパンのトラリピなどがこの仕組みを提供しています。 魅力的な戦略に見えますし、しばらくの間は順調に利益を上げ続けることもありますが、端的に言うとバリバリのナンピン戦略です。 一方的に円高が進む局面になると、急激に損失が膨らんでいきます。 どんどんポジションサイズを増やしていくのですから当然です。 下記は、0.1 円ごとに 1000 通貨のナンピン買い注文を入れ続けた場合に、損失がどのように膨らんでいくかを示した表です。 ナンピン戦略を取り入れるときは、損失の急激な拡大に耐えられるようにレバレッジ調整するか、想定範囲外の価格変動があったときには新規ポジションを取らないようにするなど、資金管理を徹底しましょう。 Price Loss 120.0 0 119.9 -100 119.8 -300 119.7 -600 119.6 -1000 119.5 -1500 119.4 -2100 119.3 -2800 119.2 -3600 119.1 -4500 119.0 -5500 118.9 -6600 118.8 -7800 118.7 -9100 118.6 -10500 118.5 -12000 118.4 -13600 118.3 -15300 118.2 -17100 118.1 -19000 118.0 -21000 117.9 -23100 117.8 -25300 117.7 -27600 117.6 -30000 117.5 -32500 117.4 -35100 117.3 -37800 117.2 -40600 117.1 -43500 117.0 -46500 116.9 -49600 116.8 -52800 116.7 -56100 116.6 -59500 116.5 -63000 116.4 -66600 116.3 -70300 116.2 -74100 116.1 -78000 116.0 -82000 115.9 -86100 115.8 -90300 115.7 -94600 115.6 -99000 115.5 -103500 115.4 -108100 115.3 -112800 115.2 -117600 115.1 -122500 115.0 -127500 114.9 -132600 114.8 -137800 114.7 -143100 114.6 -148500 114.5 -154000 114.4 -159600 114.3 -165300 114.2 -171100 114.1 -177000 114.0 -183000 113.9 -189100 113.8 -195300 113.7 -201600 113.6 -208000 113.5 -214500 113.4 -221100 113.3 -227800 113.2 -234600 113.1 -241500 113.0 -248500 112.9 -255600 112.8 -262800 112.7 -270100 112.6 -277500 112.5 -285000 112.4 -292600 112.3 -300300 112.2 -308100 112.1 -316000 112.0 -324000 111.9 -332100 111.8 -340300 111.7 -348600 111.6 -357000 111.5 -365500 111.4 -374100 111.3 -382800 111.2 -391600 111.1 -400500 111.0 -409500 110.9 -418600 110.8 -427800 110.7 -437100 110.6 -446500 110.5 -456000 110.4 -465600 110.3 -475300 110.2 -485100 110.1 -495000 110.0 -505000 最初は 1000 通貨のポジションだとしても、10 円下がるまでナンピン戦略を続けると、10 / 0.1 = 100 回のナンピンで、10 万通貨を持つことになります。 そこから 0.1 円下がると、-1 万円です。 もちろん、そこまで円高が進んでいく過程で、何回も利食いできているでしょうから、上記がそのまま損失額になるわけではありません。それでもやはり損大利小です。基本的にはレンジ相場を狙った戦略と捉えたほうがよさそうです。 おまけ (上記の表作成に使ったスクリプト） nanpin.rb #!/usr/bin/env ruby HIGH = 120 # 上限価格 LOW = 110 # 下限価格 STEP = 0.1 # 何円ごとにナンピンするか POS_SIZE = 1000 # 何通貨ずつナンピンするか factor = 0 loss = 0 HIGH.step(LOW, -STEP) do |price| printf &#34;| %.1f | %d |\\n&#34;, price, loss factor += POS_SIZE * STEP loss -= factor end`},{url:"/p/hbwxvp5/",title:"所得税の計算: 10種類の所得を計算する",date:"2016-01-02T00:00:00Z",body:"所得税の計算: 10種類の所得を計算する 10 種類の所得 所得は、その種類ごとに経費として扱えるものや、特別な控除の仕組みが異なっているため、10 種類に分類されており、それぞれ別々に所得金額を計算する必要があります。 ただし、配当所得に関しては、課税方法を選択できるため、下記では 3 種類に分けています。 さらに、譲渡所得に関しても、譲渡するものの種類（土地・建物、株式、それ以外）によって税金の扱いが異なるため、下記では 3 種類に分けています。 所得の種類総合 課税分離 課税損益 通算補足 事業所得 &#10003;&#10003; 不動産所得 &#10003;△ 土地のための借金の利子は損益通算できない。建物ための借金の利子は損益通算できる。 給与所得 &#10003;源泉徴収＋年末調整 一時所得 &#10003; 雑所得 &#10003;他の 9 種類のいずれにも分類できない所得。FX などによる利益は雑所得になる。 配 当 所 得 総合課税 &#10003; 配当控除（税額控除）が使えるが、総合課税となる所得が多い場合は分離課税にしておいた方がよい。 申告分離課税 &#10003;&#10003; 株式の譲渡損失と損益通算できる。ただし、非上場株式の配当所得は損益通算不可。 源泉分離課税 &#10003; 多くの人が申告不要制度による「源泉分離課税」を選択していて、配当が出た時に約20％の税金を自動的に徴収されている。 譲 渡 所 得 土地・建物・株式以外 &#10003;△ 生活に必要のない資産（クルーザー、別荘、貴金属（30万円超）、ゴルフ会員権）の譲渡は損益通算できない。 土地・建物 &#10003; 土地や建物の譲渡損失は損益通算できない。ただし、自宅譲渡時の損失については、給与所得等と損益通算できる特例あり（居住用財産の譲渡損失の損益通算および繰越控除の特例）。 株式 &#10003;&#10003; 株式の譲渡損失は損益通算できる。 退職所得 &#10003; 山林所得 &#10003;&#10003; 利子所得 &#10003;"},{url:"/p/xiekp5e/",title:"所得税の計算: 課税所得金額を計算する（所得控除）",date:"2016-01-02T00:00:00Z",body:"所得税の計算: 課税所得金額を計算する（所得控除） 所得控除とは 所得 ー 所得控除 ＝ 課税所得 所得に対して税率を掛けることで所得税額を計算するのですが、その前に所得控除という、みなしの所得金額を減らす仕組みが用意されています。 世の中にはいろいろな家庭事情があり、同じように課税していると少なからず不公平な状況が発生します。 例えば、扶養すべき親族がいたり、障害を持った親族がいたりすると、同じ水準の税金を納めるのが困難になってきます。 そこで、納税者に特別な事情がある場合は所得控除を行うことにより、みなしの所得金額を減らし、納税による負担を軽減するのです。 14 種類の所得控除 所得控除には、下記の14種類の控除があります。 所得控除の種類適用条件控除額 人的控除 1. 基礎控除すべての納税者から差し引きます38万円 2. 配偶者控除所得金額が38万円以下の配偶者がいる38万円／48万円 3. 配偶者特別控除所得金額が76万円以下の配偶者がいる3～38万円 4. 扶養控除16歳以上で所得金額が38万円以下の扶養親族がいる38～63万円 5. 障害者控除納税者自身又は扶養親族が障害者27万円／40万円／75万円 6. 寡婦（寡夫）控除納税者が寡婦（寡夫）27万円（特定の寡婦は35万円） 7. 勤労学生控除納税者が勤労学生27万円 物的控除 8. 社会保険料控除社会保険料等を支払ったとき全額 9. 生命保険料控除生命保険料・個人年金料・介護保険料を支払ったとき最大12万円 10. 医療費控除医療費の合計額が10万円を超えたとき医療費－10万円 11. 小規模企業共済等掛金控除小規模企業共済を支払ったとき全額（個人負担分） 12. 地震保険料控除地震保険料を支払ったとき全額（最大5万円） 13. 寄附金控除寄附金控除を支払ったとき寄付額 - 2000 円（所得による上限） 14. 雑損控除災害・盗難・横領にあったとき計算式による 1. 基礎控除 全納税者は、無条件で 38万円 の所得控除を受けられます。 例えば、所得が給与所得の 103 万円だけであれば、103 - 65（給与所得控除額） - 38（基礎控除） = 0 となるので、所得税は 0 円になります。 2. 配偶者控除 生計を一にする配偶者がおり、その配偶者の所得金額が 38万円以下 であれば、配偶者控除を受けることができます。 配偶者控除の控除額 年末時点で配偶者の年齢が 70 歳未満: 38万円 年末時点で配偶者の年齢が 70 歳以上: 48万円 例えば、配偶者の所得が給与所得のみの場合、給与所得控除額が最低でも 65 万円あるので、103 万円以下の給与所得までであれば、配偶者控除の対象となります。 3. 配偶者特別控除 生計を一にする配偶者がおり、その配偶者の所得金額が 38万円超〜76万円未満 であれば、配偶者特別控除を受けられます（38 万円以下の場合は配偶者控除になる）。 ただし、納税者の合計所得が 1000 万円を超える場合は、配偶者特別控除の適用を受けることはできません（配偶者控除の方にはこの制約はありません）。 配偶者特別控除による控除額は段階的に設定されており、3〜38万円 です。 配偶者の所得が給与所得のみの場合、給与所得が 103 万円超〜 141 万円未満であれば、配偶者特別控除を受けられることになります（給与所得控除額が最低 65 万円分あるため）。 4. 扶養控除 生計を一にする扶養親族（配偶者以外）がいる場合に、扶養控除を受けることができます。 扶養親族は、合計所得金額が 38万円以下 である必要があります（配偶者控除と同じです）。 青色事業専従者と事業専従者は扶養親族とはみなされません。 扶養親族の区分年齢扶養控除の控除額 特定扶養親族 19 歳以上 23 歳未満（大学生くらい） 63 万円 老人扶養親族 70 歳以上 48 万円 扶養親族 16 歳以上 19 歳未満（高校生くらい） 23 歳以上 70 歳未満（大学卒業後くらい） 38 万円 同居老親 自分か配偶者の同居中の親 58 万円 5. 障害者控除 納税者本人、あるいは、控除対象の配偶者や扶養親族が障害者の場合に障害者控除を受けることができます。 障害者の区分障害者控除の控除額 一般障害者27 万円 特別障害者（障害等級1級／2級）40 万円（同居の場合は 75 万円） 6. 寡婦（寡夫）控除 納税者本人が寡婦、あるいは、寡夫である場合には、寡婦（寡夫）控除を受けることができます。 寡婦 夫との死別あるいは離婚後に再婚しておらず、扶養親族がいる、あるいは、合計所得が 500 万円以下の女性。 寡夫 妻との死別あるいは離婚後に再婚しておらず、扶養している子がおり、かつ、合計所得が 500 万円以下の男性。 寡婦（寡夫）控除の控除額は 27万円（障害者控除額と同額）ですが、寡夫と同様の条件を満たす女性を、特定の寡夫といい、控除額が 35万円 にアップします。 7. 勤労学生控除 納税者自身が勤労学生である場合、勤労学生控除を受けられます。 勤労学生 合計所得が 65万円以下 かつ、給与所得以外の所得が 10万円以下 の学生。 勤労学生控除の控除額は 27万円 です（障害者控除や寡婦控除と同額）。 8. 社会保険料控除 納税者本人や、生計を一にする配偶者、親族のに係る社会保険料（公的年金保険料を含む）を支払った時に 全額が所得控除 の対象になります。国民年金基金、および、厚生年金基金の掛金も対象になります。 9. 生命保険料控除 納税者本人が、民間の保険会社などに生命保険料や個人年金保険料を支払った場合に、一定の金額を所得控除することができます。契約を締結した時期によって、控除額が異なっています。 生命保険料控除の対象となるのは、生命保険、医療保険（医療費用保険）、介護保険（介護費用保険）、所得保障保険などです（私的保険のうち、損害保険に分類されるもの以外はほとんどと、所得保障保険などが対象です）。 ただし、保険期間が 5 年未満の貯蓄保険や財形保険、住宅ローンに付随する団体信用生命保険、少額短期保険業者の保険商品などは控除の対象にはなりません。 平成 23 年末までに締結した契約 保険の種類所得税住民税 一般の生命保険料控除 最高 5 万円 最高 3.5 万円 個人年金保険料控除 最高 5 万円 最高 3.5 万円 合計 10 万円 合計 7 万円 生命保険に分類されるものは、基本的には一般の生命保険料控除の枠内で所得控除額の上限が計算されるわけですが、定額個人年金の保険料に関しては、一定の条件を満たす契約であれば、別枠の個人年金保険料控除の枠で控除を受けることができます。 個人年金保険料控除の適用を受けるためには、定額個人年金保険契約に、個人年金保険料税制適格特約を付加する必要があります。 また、その対象となる個人年金の契約には下記のような条件があります。 これらの条件を満たさない個人年金保険は、一般の生命保険料控除の枠での控除対象となります。 個人年金保険料控除の対象となる契約の条件 年金の受取人が契約者本人か配偶者であること 年金の受取人＝被保険者であること 保険料の払込期間が 10 年以上で、定期に支払う契約であること 年金の受け取り開始が 60 歳以降で、10 年以上に渡り受け取る契約であること（終身年金の場合はこの条件の対象外） 個人年金保険料控除の対象となり得るのは、定額個人年金保険のみであることに注意してください。 変額個人年金保険については、一般の生命保険料控除の対象となります。 平成 24 年以降に締結した契約 平成 24 年 1 月 1 日以降に締結した契約については、介護医療保険料控除という枠が増えており、入院や通院などの医療費にかかわる保険の保険料が別枠計算の対象となります。 所得保障保険の保険料も介護医療保険料控除の対象となります。 保険の種類所得税住民税 一般の生命保険料控除 最高 4 万円 最高 2.8 万円 個人年金保険料控除 最高 4 万円 最高 2.8 万円 介護医療保険料控除 最高 4 万円 最高 2.8 万円 合計 12 万円 合計 7 万円 10. 医療費控除（確定申告が必要） 納税者本人、あるいは生計を一にする配偶者やその他の親族の医療費を支払った場合に、医療費控除を受けることができます。家族全員が支払った合計額で計算できるということです。 出産費用や、歯の治療費、治療のための薬代などが控除の対象となります。 また、通院のために公共機関を利用してかかった交通費も控除の対象となります。ただし、自家用車を使用した場合のガソリン代や、駐車場の料金は控除の対象とはなりません。 あくまで、治療を目的として支払った医療費に対しての控除なので、予防のための費用や、美容のための費用などは控除の対象になりません。 人間ドックなどの健康診断の費用は、基本的には控除の対象になりませんが、検査の結果として病気などが見つかり、引き続き治療を受けた場合は、検査費用も医療費控除の対象となります。 医療費控除の控除額は、医療費額 - 10万円 です（課税標準が 200 万円未満の場合は、10 万円ではなく、課税標準 x 5% を引きます）。 つまり、1 年間に 10 万円以上の医療費を支払った場合は、10 万円を超える部分に対して所得控除を適用することができます。 ただし、健康保険や生命保険により給付金を受けた場合は、その分を差し引いて計算します。 医療費控除の最大額は 200 万円です。 医療費控除は年末調整では行えないので、確定申告を行う必要があります。 確定申告時には、医療費にかかった費用の領収証などを添付する必要があるので、領収証は大切に保管しておきましょう。 11. 小規模企業共済等掛金控除 小規模企業共済（事業主や中小企業の役員のための退職金制度）の掛金や、確定拠出年金（企業年金のひとつ）で個人が支払った掛金は、全額が小規模企業共済等掛金控除の対象となります。 12. 地震保険料控除 地震保険料を支払った場合は、その全額が地震保険料控除の対象となります。 ただし、最大 5 万円です。 13. 寄附金控除（確定申告が必要） 国や地方公共団体、財務大臣が指定した公益法人に対して、特定寄付金を支払った場合には、寄付金控除を受けることができます。 寄付した額 - 2000円 が、控除されますが、その年の総所得金額の 40% - 2000円 が上限です（所得が多い人ほど控除額が大きいということ）。 2011 年以降は、税額控除における寄付金控除と、こちらの所得控除のどちらか有利な方を選択することができます。 14. 雑損控除（確定申告が必要） 住宅や家財、現金など関して、災害や盗難などによって損失を被った場合は、雑損控除による所得控除を受けることができます。 ただし、生活に通常必要となる資産に対する損失に限られます。 雑損控除の控除額は、一定の計算式によって決められています。 控除額が大きく、その年の所得から引ききれなかった場合は、**翌年から 3 年間の繰越控除（雑損失の繰越控除）**が認められています。"},{url:"/p/9banee7/",title:"所得税の計算: 差引所得税額（申告納税額）を計算する",date:"2016-01-02T00:00:00Z",body:"所得税の計算: 差引所得税額（申告納税額）を計算する 税額控除とは 所得税額 ー 税額控除 ＝ 申告納税額 税率を掛けて求めた所得税額からは、さらに税額控除が適用されます。 「所得」控除は税率を掛ける前の所得をマイナスするものですが、こちらの「税額」控除は所得税額から直接マイナスするものなので、最終的に納める税金に対して大きく効いてきます。 税額控除には下記のようなものがあります。 税額控除の種類 控除額 1. 配当控除 10%、5% 2. 住宅ローン控除（住宅借入金等特別控除） 年末ローン残高の 1% 3. 外国税控除 外国で納めた所得税相当 4. 寄付金控除（所得控除の寄付金控除と混同しないように注意） （1）配当控除 配当所得の納税において、総合課税による納税を選択した場合に限り、配当控除による税額控除を受けることができます。 上場株式や非上場株式などの配当に対して適用できますが、J-REAT は配当控除の対象外です。 控除額は、配当所得の金額の 10% ですが、課税総所得が 1,000 万円を超える場合は、その超える部分の配当所得に対しては 5% となります。 配当所得の 3 種類の納税方法 配当に関する納税方法の比較 確定申告なし確定申告あり 源泉分離課税総合課税申告分離課税 税率約20%約20%累進税率 配当控除×◯× 株式との損益通算××◯ 借入金利子の控除×◯◯ 扶養控除等合計所得に合算しない合計所得に合算する合計所得に合算する 申告不要制度（源泉分離課税） 配当金に対しては、特に何もしていなくても、受け取り前に下記の金額が源泉徴収されています。 上場株式と、未上場株式の場合で税の内訳は違いますが、どちらも約 20% の税金を支払います。 上場株式の場合: 20.315%（所得税 15%、復興特別所得税 0.315%、住民税 5%） 未上場株式の場合: 20.42%（所得税 20%、復興特別所得税 0.42%） 上場株式の場合は、その配当所得の金額に関わらず、申告不要制度を選択することができます。 この場合は、上記の源泉徴収の約 20% だけで配当所得に対する納税を終えることができます。 総合課税 配当所得に関して確定申告することで、総合課税、あるいは申告分離課税による納税を選択することができます。 総合課税として確定申告する場合は、配当所得は総所得金額に組み込まれ、そこに累進税率がかかってきます。 このままでは、上記のように税金が源泉徴収されているのにもかかわらず、さらに総合所得として合算された分の配当所得に対しても課税（累進課税）されることになってしまいます。 このような税負担を緩和するため、確定申告で総合課税を選択した場合、配当控除によって、配当所得に対してかかる税率を下げることができるようになっています。 ただし、外国株式の配当や J-REAT などによる配当は、配当控除の対象となりません。 申告分離課税 一方、確定申告で申告分離課税を選択した場合の税率は、源泉分離課税の場合と同様に約 20% となります（源泉分離課税された 20% がそのまま適用される）。 一律で 20% なので、配当控除による減税措置はありません。 申告分離課税で確定申告するメリットとして、株式や投資信託（株式）の譲渡損失との損益通算ができるという点があります。 前年に株式の譲渡損失があるような場合は、配当所得を申告分離課税として確定申告するとお得です。 そもそも総所得が多い場合（累進税率 20% 超の場合）は、総合課税にしてしまうと累進課税によって多くの税金を取られますから、一律 20% の税金で済む申告分離課税を選択した方が有利です。 確定申告には配当金の支払通知書が必要なので、なくさないように保管しておきましょう。 参考: 国税庁: 上場株式等の配当所得に係る申告分離課税制度 参考: 国税庁: 配当控除 参考: みずほ証券：証券税制早わかり 株式の税金 （2）住宅ローン控除（住宅借入金等特別控除） 住宅ローンを組んで、住宅の購入や改築を行った場合は、最大 10 年間の住宅借入金等特別控除（住宅ローン控除）による税額控除を受けることができます。 住宅ローン控除の条件 住宅ローン控除を受けるには、様々な条件があります。 購入者の条件 購入から 6 ヶ月以内に入居 控除を受ける年の年末まで住み続けている（単身赴任の場合は、家族が住んでいれば OK） 返済期間が 10 年以上のローン 税額控除を受ける年の所得が 3000 万円以下 前後 2 年で居住用財産の譲渡の特例を受けていない 住宅の条件 新築中古住宅の場合は、床面積が 50 ㎡以上で、1/2 以上が居住用 増改築の場合は、改築後の床面積が 50 ㎡以上で、1/2 以上が居住用、かつ、工事費用が 100 万円を超える 中古住宅の場合は、築後 20 年以内 住宅ローン控除の税額控除額 住宅ローンの税額控除額は、年末のローン残高の 1% です。 ただし、計算に入れられるローン残高は 4,000 万円までなので、1 年あたりの最大控除額は 40 万円ということになります。 最大控除額での控除を 10 年間続ければ、合計で 400 万円分（40 x 10) の税額控除を受けられることになりますが、各年の控除額は年末のローン残高を元に計算するため、現実的にはそれだけの控除を受けることはほとんどないということに注意してください。 所得税から引ききれなかった住宅ローン控除がある場合は、翌年分の住民税から差し引くことができます。ただし、前年の課税所得の 7% が限度です。 住宅ローン控除を申請するには確定申告が必要ですが、2 年目からは年末調整で税額控除できるようになるため、初年度以外は確定申告が不要になります。 （3）外国税額控除 外国で発生した所得に対して、外国での所得税に相当する納税を行った場合は、一定の税額控除を受けられます。外国と日本で二重課税されないようにするための施策です。 （4）寄付金控除（税額控除として） 寄付金控除はもともと所得控除としてのものが用意されていましたが、平成 23 年からは税額控除としての寄付金控除を選択することができるようになりました。 どちらか有利になる方を選択できます。 税額控除としての寄付金控除の額は、（年間寄付金額ー2000円）ｘ40% で計算します。 ただし、年間寄付金額の上限は、総所得金額の 40% までです。"},{url:"/p/esgj4c2/",title:"発行市場と流通市場",date:"2015-11-23T00:00:00Z",body:"発行市場と流通市場 証券のやり取りを行う市場のことを証券市場と言い、その証券市場は、大きく分けて「発行市場」と「流通市場」に分かれます。 発行市場 (Primary Market) 資金を調達したい株式会社などが証券を発行し、その証券が直接的、あるいは間接的に投資者に渡される際の市場のことを「発行市場」と言います。 発行された証券を投資者が取得するための一番最初の流れ（第一次取得）であるため、英語では Primary Market と呼ばれています。 流通市場（Secondary Market) 既発行の証券が、複数の投資者の間で売買される際の市場のことを、「流通市場」と言います。 マザーズなどの振興市場から、東証一部への鞍替えを行うためには、この流通市場において売買が活発である（流動性がある）ことが求められます。 また、流動性が高いということは、証券を新規発行しやすいということを表しています（買ってもなかなか売れない株は誰も買ってくれないからです）。 つまり、企業にとって流動性を高めることは、潜在的に資金を調達しやすくするという意味を持っています。 流動性を高めるためには、株式の分割を行って最低購入価格を下げたり、大量保有者が多数の人に株を売り出したりする方法があります。"},{url:"/p/dcfz92r/",title:"証拠証券と有価証券",date:"2015-11-23T00:00:00Z",body:"証拠証券と有価証券 法律上、証券は 証拠証券 と 有価証券 に分けられます。 証拠証券は何らかの権利があるという事実を示しているだけなのに対し、有価証券には権利（財産権）そのものが結合しています。 有価証券は持っているだけで、そこに記載された範囲の権利を行使することができます。有価証券には権利が結合しているので、有価証券を他の人に譲渡することにより、その権利自体を譲渡できるということです。 証拠証券（権利の存在を表す） 例: 預金通帳、預金証書、保険証券、借用証、受取証書、領収書など 有価証券（権利が結合している） 資本証券（例: 株券、債権など） 貨幣証券（例: 手形、小切手など） 商品証券（例: 船荷証券、倉荷証券など） 有価証券は、上記のようにさらに分類して考えることができますが、一般的に「証券」や「有価証券」という表現は、ほとんどの場合は「資本証券」を表しています。個人投資家にとっておなじみの「株」や「社債」などは、この資本証券にあたりますね。"},{url:"/p/mfee8vj/",title:"MetaTrader/MQL: 時刻情報を扱う (datetime, TimeLocal, TimeCurrent, TimeToString)",date:"2015-10-25T00:00:00Z",body:"MetaTrader/MQL: 時刻情報を扱う (datetime, TimeLocal, TimeCurrent, TimeToString) MQL では、日付や時刻の情報を datetime 型 の値として扱います。 ローカル PC 上の現在時刻 (TimeLocal) ホスト PC 上の現在時刻は TimeLocal 関数を使って取得できます（1970-01-01 00:00:00 からの経過秒数）。 取得した datetime 値を TimeToString 関数に渡すと、文字列表現の時刻に変換することができます。 ローカル PC 上の現在日時を取得する datetime now = TimeLocal(); string s1 = TimeToString(now, TIME_DATE); // 2015.10.23 string s2 = TimeToString(now, TIME_MINUTES); // 21:00 string s3 = TimeToString(now, TIME_SECONDS); // 21:00:00 string s4 = TimeToString(now, TIME_DATE | TIME_MINUTES); // 2015.10.23 21:00 string s5 = TimeToString(now, TIME_DATE | TIME_SECONDS); // 2015.10.23 21:00:00 サーバ上の現在時刻 (TimeCurrent) MetaTrader を実行しているホスト PC 上の現在時刻ではなく、ブローカーのサーバーから最後に取得した現在時刻 (time of the last quote receipt) を取得するには、TimeCurrent 関数を使用します。 使い方は TimeLocal 関数と同様です。 サーバー上の現在日時を取得する datetime serverTime = TimeCurrent(); string s1 = TimeToString(now, TIME_DATE); // 2015.10.23 // ..."},{url:"/p/nyzotbh/",title:"MetaTrader/MQL: デバッグモードでコンパイルされているか調べる (_DEBUG, _RELEASE, MQL5_DEBUGGING)",date:"2015-10-24T00:00:00Z",body:"MetaTrader/MQL: デバッグモードでコンパイルされているか調べる (_DEBUG, _RELEASE, MQL5_DEBUGGING) MQL のプログラムが、デバッグモードとリリースモードのどちらでコンパイルされているかを調べるには、#ifdef プリプロセッサで下記のマクロが定義されているかどうかを調べます。 _DEBUG &hellip; デバッグモードでコンパイルされている（MetaEditor 上で F5 で実行したとき） _RELEASE &hellip; リリースモードでコンパイルされている（MetaEditor 上で F7 でコンパイルしたとき） 次のスクリプトを実行すると、スクリプト自身がどちらのモードでコンパイルされているかをログに出力します。 void OnStart() { #ifdef _DEBUG Print(&#34;Run in debug mode&#34;); #else Print(&#34;Run in release mode&#34;); #endif } 上記はプリプロセッサで調べる例ですが、MQL5InfoInteger 関数を使って、実行時に動的にチェックすることもできます。 // MQL5 の場合 bool isDebug = MQL5InfoInteger(MQL5_DEBUGGING); // MQL4 の場合 bool isDebug = IS_DEBUG_MODE;"},{url:"/p/rn6kw8j/",title:"MetaTrader/MQL: MQL での色の表現方法 (color)",date:"2015-10-10T00:00:00Z",body:"MetaTrader/MQL: MQL での色の表現方法 (color) MQL コード内で色情報を表現する場合、color 型（日本語）の変数を使います。 color 変数は 4 バイトの数値で、後ろ 3 バイトでそれぞれ RGB の色情報 (0~255) を保持しています。 コード内で色を表すときは、下記のいずれかのリテラル形式で表現します。 C'r,g,b' 形式リテラル 定義済みのカラー名 4 バイト数値 // RGB 形式 C&#39;128,128,128&#39; // Gray C&#39;0x00,0x00,0xFF&#39; // Blue // 定義済みカラー値 clrRed // Red clrYellow // Yellow clrBlack // Black // 4 バイト整数 0xFFFFFF // White 16777215 // White 0x008000 // Green 32768 // Green clrRed のような定義済みのカラー値として何が用意されているかは、下記を参照してください。 参考リンク MQL5 - Web Colors（日本語）"},{url:"/p/dzcoybn/",title:"MetaTrader/MQL: チャートの描画スタイルを設定する (ChartSetXxx)",date:"2015-10-10T00:00:00Z",body:"MetaTrader/MQL: チャートの描画スタイルを設定する (ChartSetXxx) チャートのプロパティを設定／取得する あるチャートに設定されたプロパティ（描画スタイルなど）を変更／取得するには、次のような関数を使用します。 ChartSetInteger 関数 / ChartGetInteger 関数 整数型 のプロパティ。ENUM_CHART_PROPERTY_INTEGER で示されるプロパティを設定／取得できます（INTEGER という名前がついているけど実際は long 型であることに注意）。 ChartSetDouble 関数 / ChartGetDouble 関数 浮動小数点数型 のプロパティ。ENUM_CHART_PROPERTY_DOUBLE で示されるプロパティを設定／取得できます。 ChartSetString 関数 / ChartGetString 関数 文字列型 のプロパティ。ENUM_CHART_PROPERTY_STRING で示されるプロパティを設定／取得できます。 表示項目の OFF/ON 設定 チャートの表示項目を変更するには、ChartSetInteger 関数の第 2 引数 (prop_id) に以下のようなプロパティ ID を指定します。 プロパティ ID 設定内容 CHART_MODE CHART_BARS: バーチャート CHART_CANDLES: ローソク足 CHART_LINE: 折れ線 CHART_SHOW_VOLUMES CHART_VOLUME_HIDE: ボリュームを表示しない CHART_VOLUME_TICK: ボリュームとして Tick 数を表示する CHART_VOLUME_REAL: ボリュームとして実際の取引量を表示する（サーバによって提供されていないことがある） CHART_SHOW_GRID true/false: グリッドを表示する／しない CHART_SHOW_PERIOD_SEP true/false: 一定期間ごとの縦線を表示する／しない CHART_SHOW_ASK_LINE true/false: 買値の水平線を表示する／しない CHART_SHOW_BID_LINE true/false: 売値の水平線を表示する／しない CHART_SHOW_DATE_SCALE true/false: 日時バー（横の軸）を表示する／しない CHART_SHOW_PRICE_SCALE true/false: 価格バー（縦の軸）を表示する／しない CHART_SHOW_OHLC true/false: 左上の Open/High/Low/Close 価格を表示する／しない（これを false にしても、通貨ペア名と時間足は表示されます） CHART_SHOW_ONE_CLICK true/false: 左上のワンクリック注文パネルを表示する／しない 例: チャートのプロパティを変更する /** * Setup the drawing style of the chart. * * @param chartId the target chart ID (0 means the current chart) */ void setupChart(long chartId = 0) { // ローソク足で表示 ChartSetInteger(chartId, CHART_MODE, CHART_CANDLES); // 買値 (Ask) ラインを表示 ChartSetInteger(chartId, CHART_SHOW_ASK_LINE, true); // 売値 (Bid) ラインを表示 ChartSetInteger(chartId, CHART_SHOW_BID_LINE, true) ChartRedraw(chartId); } 各種プロパティの変更が実際に画面上に反映されるのは、次のチャートの再描画のタイミングです（例えば、次の tick が発生したとき）。 直ちに設定を画面に反映させたい場合は、上記のように ChartRedraw 関数 を呼び出します。 表示項目の色の設定 チャートの各描画要素の色を設定する場合も、ChartSetInteger 関数を使用します。 第 2 引数 (prop_id) に次のようなプロパティ ID を指定することで、それぞれの項目の色を設定できます。 プロパティ ID 設定内容 CHART_COLOR_BACKGROUND 背景色 CHART_COLOR_FOREGROUND 価格軸、時間軸、OHLC（Open/High/Low/Close) の色 CHART_COLOR_GRID グリッド線の色 CHART_COLOR_VOLUME ボリュームの色 CHART_COLOR_CHART_UP ローソク足の上昇バーのひげ、および、箱の枠の色 CHART_COLOR_CHART_DOWN ローソク足の下降バーのひげ、および、箱の枠の色 CHART_COLOR_CHART_LINE 折れ線チャートの線の色、ローソク足の十字線の色 CHART_COLOR_CANDLE_BULL 上昇バーの内側の色 CHART_COLOR_CANDLE_BEAR 下降バーの内側の色 CHART_COLOR_BID 売値 (Bid) の水平線の色 CHART_COLOR_ASK 買値 (Ask) の水平線の色 CHART_COLOR_LAST 最新約定価格の水平線の色 CHART_COLOR_STOP_LEVEL 決済価格（指値／逆指値）の水平線の色 色の指定は color 型（4 バイトの数値）で行いますが、様々な表現で指定することができます。 上記のチャートの配色は、次のようなコードを実行することによって設定することができます。 スクリプトからチャート設定を行うと、一部の設定だけを変更することができるため、使いようによってはテンプレートによる配色変更を行うよりも便利です。 void setupColors(long chartId = 0) { ChartSetInteger(chartId, CHART_COLOR_BACKGROUND, clrBlack); ChartSetInteger(chartId, CHART_COLOR_FOREGROUND, clrLightGray); ChartSetInteger(chartId, CHART_COLOR_GRID, clrGray); ChartSetInteger(chartId, CHART_COLOR_VOLUME, clrLimeGreen); ChartSetInteger(chartId, CHART_COLOR_CHART_UP, clrDeepPink); ChartSetInteger(chartId, CHART_COLOR_CHART_DOWN, clrDodgerBlue); ChartSetInteger(chartId, CHART_COLOR_CHART_LINE, clrOrange); ChartSetInteger(chartId, CHART_COLOR_CANDLE_BULL, clrDeepPink); ChartSetInteger(chartId, CHART_COLOR_CANDLE_BEAR, clrDodgerBlue); ChartSetInteger(chartId, CHART_COLOR_BID, clrDodgerBlue); ChartSetInteger(chartId, CHART_COLOR_ASK, clrOrangeRed); } オブジェクト指向の CChart クラスを使用する CChart クラスを使用すると、ChartSetInteger のようなプロパティセット関数を使用する代わりに、オブジェクトのメソッドを呼び出すことよって、スマートな記述を行うことができます（なぜか CHART_SHOW_ONE_CLICK に相当するメソッドだけは見つからない・・・）。 下記のスクリプトの setupChart 関数は、CChart オブジェクトを受け取って、描画スタイルの設定を行っています。 Scripts/SetupChart.mq4 #include &lt;Charts\\Chart.mqh&gt; /** * Setup the drawing style of the chart. * * @param chart the chart object to be set up */ void setupChart(CChart&amp; chart) { // Show-hide settings chart.Mode(CHART_CANDLES); chart.ShowOHLC(true); chart.ShowLineBid(true); chart.ShowLineAsk(true); chart.ShowGrid(true); chart.ShowPeriodSep(true); chart.ShowVolumes(CHART_VOLUME_TICK); chart.ShowDateScale(true); chart.ShowPriceScale(true); chart.Scale(3); // Color settings chart.ColorBackground(clrBlack); chart.ColorForeground(clrLightGray); chart.ColorGrid(clrGray); chart.ColorVolumes(clrLimeGreen); chart.ColorBarUp(clrDeepPink); chart.ColorBarDown(clrDodgerBlue); chart.ColorChartLine(clrYellow); chart.ColorCandleBull(clrDeepPink); chart.ColorCandleBear(clrDodgerBlue); chart.ColorLineBid(clrDodgerBlue); chart.ColorLineAsk(clrOrangeRed); } void OnStart() { CChart c; c.Attach(0); // 0 means the current chart. setupChart(c); c.Redraw(); c.Detach(); // Without detaching, the chart will be closed. } CChart オブジェクトを既存のチャートに関連付けるには、Attach メソッドを使用します。 上記の例では、0 を渡すことによって、アクティブなチャートに関連付けています。 CChart クラスは、デストラクタ内で関連付けられたチャートを閉じようとするので、スクリプトが終了したときにチャートが閉じられないようにするために、Detach メソッドを読んで関連付けを解除しておかなければいけません。"},{url:"/p/hx7enu3/",title:"MetaTrader/MQL: 新しいチャートを開く (ChartOpen)",date:"2015-10-10T00:00:00Z",body:"MetaTrader/MQL: 新しいチャートを開く (ChartOpen) ChartOpen 関数 を使うと、指定した通貨ペア、時間足のチャートを開くことができます。 下記は、ドル円の週足チャートを開く例です。 ChartOpen 関数が返したチャート ID を使って、開いたチャートの設定を行うことができます。 Scripts/Hello.mq5 void OnStart() { // 週足チャートを開く long chartId = ChartOpen(&#34;USDJPY&#34;, PERIOD_W1); if (chartId == 0) { // オープンに失敗した場合（シンボル名がおかしいとか、チャートを開きすぎとか） Alert(&#34;Could not open a new chart: &#34;, GetLastError()); return; } // 開いたチャートを設定する ChartSetInteger(chartId, CHART_MODE, CHART_LINE); // ライン形式 ChartSetInteger(chartId, CHART_SHOW_VOLUMES, CHART_VOLUME_TICK); // 出来高 ChartSetInteger(chartId, CHART_SHOW_GRID, false); // グリッドを非表示 } カレントチャートと同じ通貨ペアのチャートを新しく開きたい場合は、第 1 引数で &quot;USDJPY&quot; と指定しているところを NULL に置き換えれば OK です。 第 2 引数で指定する足のタイムフレームには、ENUM_TIMEFRAMES 型のいずれかの値を指定します。 PERIOD_CURRENT を指定して、カレントチャートと同じタイムフレームを指定することもできます。"},{url:"/p/zyvwxx9/",title:"MetaTrader/MQL: シンボルのスプレッド情報を取得する (SymbolInfoInteger)",date:"2015-10-08T00:00:00Z",body:"MetaTrader/MQL: シンボルのスプレッド情報を取得する (SymbolInfoInteger) 指定した通貨ペアのスプレッドを取得するには、SymbolInfoInteger 関数の引数に SYMBOL_SPREAD を指定します。 現在のチャートの通貨ペアは、Symbol 関数を使えば取得できます。 Scripts/ShowSymbolSpread.mq5 void OnStart() { long spread = SymbolInfoInteger(Symbol(), SYMBOL_SPREAD); Alert(StringFormat(&#34;Spread of %s: %d&#34;, Symbol(), spread)); } 実行結果 Spread of USDJPY: 4"},{url:"/p/dct2372/",title:"MetaTrader/MQL: 実行中のプログラムの種類（スクリプト/インジケーター/EA）を判別する (MQL5_PROGRAM_TYPE)",date:"2015-10-08T00:00:00Z",body:"MetaTrader/MQL: 実行中のプログラムの種類（スクリプト/インジケーター/EA）を判別する (MQL5_PROGRAM_TYPE) MQL5InfoInteger 関数の引数に MQL5_PROGRAM_TYPE を指定すると、その関数の呼び出し元がスクリプトなのか、EA なのか、インジケーターなのかを調べることができます。 // 実行中のプログラムが「スクリプト」かどうかを調べます bool isCalledFromScript() { return MQL5InfoInteger(MQL5_PROGRAM_TYPE) == PROGRAM_SCRIPT; } // 実行中のプログラムが「EA」かどうかを調べます bool isCalledFromEa() { return MQL5InfoInteger(MQL5_PROGRAM_TYPE) == PROGRAM_EXPERT; } // 実行中のプログラムが「インジケーター」かどうかを調べます bool isCalledFromIndicator() { return MQL5InfoInteger(MQL5_PROGRAM_TYPE) == PROGRAM_INDICATOR; }"},{url:"/p/2zx4pkt/",title:"2016年1月の公社債・公社債投信の税制変更",date:"2015-10-01T00:00:00Z",body:"2016年1月の公社債・公社債投信の税制変更 2016年1月より、公社債・公社債投信、外貨 MFF 等によるもろもろの利益が 20.315% の申告分離課税に統一されます。 ～2015年12月31日 2016年1月1日～ 公社債の利子・分配金 源泉分離課税 (20.315%) 申告分離課税 (20.315%) 公社債の償還損益 総合課税（～45%） 申告分離課税 (20.315%) 公社債の譲渡損益 原則非課税 (0%) 申告分離課税 (20.315%) 割引債の償還損益 源泉分離課税 (18.378%) 申告分離課税 (20.315%) 償還を待たずに売却した場合の譲渡益が課税対象になることに注意が必要ですね。 2015年末までに売却することで税金を大きく減らせる可能性があります。 同じ税率の申告分離課税に統一されることで、特定口座での管理、株式・株式投信との損益通算、譲渡損の 3 年間繰り越し が可能になります。 ここで言う、公社債と公社債投信は下記のようなものを指します。 公社債 &hellip; 国債、地方債、外国国際、外国地方債、公募公社債 など 公社債投信 &hellip; 公募公社債投資信託 (MRF/MFF) の受益権、証券投信以外の公募投信の受益権 など"},{url:"/p/xgic22o/",title:"FP3級／FP2級試験の重要ポイントまとめ",date:"2015-09-21T00:00:00Z",body:"FP3級／FP2級試験の重要ポイントまとめ ライフプラインニングと資金計画 リスク管理 金融資産運用 タックスプランニング 不動産 相続・事業承継"},{url:"/p/fuhi6xj/",title:"FP試験: タックスプランニング",date:"2015-09-21T00:00:00Z",body:"FP試験: タックスプランニング 税の分類 国税と地方税 国税: 所得税、法人税、相続税、贈与税、消費税 地方税: 住民税、事業税、不動産取得税、固定資産税 税の決定方式 申告納税方式: 自分で計算して申告（所得税／法人税／相続税） 賦課課税方式: 国・地方公共団体が決定（個人住民税／個人事業税／固定資産税） 所得税の基本 所得税の計算手順: (1) 所得計算 → (2) 損益通算 → (3) 所得控除 → (4) 税率を掛ける → (5) 税額控除 所得税は 7 段階の超過累進税率 で計算（H27 以降は 4000 万円超部分は 45%） 非課税所得 宝くじの当選金 損害賠償金、慰謝料 遺族の受ける恩給及び年金 制服などの現物給与 10 万円までの通勤手当 出張の旅費 所得税は原則は総合課税、一部は分離課税 総合課税: 配当所得／不動産所得／事業所得／給与所得／譲渡所得（土地建物や株式以外）（長期は1/2）／一時所得（1/2）／雑所得 分離課税: 利子所得／退職所得／山林所得／譲渡所得（土地建物や株式） 所得税の計算期間 原則は 1月1日 ～ 12月31日 「法人」は任意に定めた事業年度を計算期間にできる 「個人事業主」は任意に定めた事業年度を計算期間にできない 復興特別所得税: 所得税額に 2.1％ を乗じる。 (1) 10 種類の所得をそれぞれ計算 利子所得（源泉分離課税） 預貯金の利子／公社債の利子／公社債投資信託の収益分配 利子所得 = 収入（必要経費は差し引かない） H28 以降、特定公社債の利子は申告分離課税 配当所得 法人からの配当／投資信託の収益分配（公社債投資信託を除く） 配当所得 = 収入 - 借入金の利子 総合課税だが配当時に源泉徴収される 上場株式の配当は申告分離課税を選択可 不動産所得 不動産／借地権／船舶または航空機の貸付け 賃貸料、更新料、礼金、敷金すべて対象（もちろん返還分の金額は除く） 不動産所得 = 収入 - 経費 食事を供する下宿による収入は、事業所得 or 雑所得とみなされる 従業員宿舎の家賃による収入は、事業所得とみなされる 有料駐車場による収入は、事業所得 or 雑所得とみなされる 事業所得 対価を得て継続的に行われる事業 事業所得 = 収入 - 経費 実際に代金の受け取りがなくても、商品を売った年の収入として扱う （ひっかけ）不動産の貸付けを事業的な規模で行ってもあくまで不動産所得 生計を一にする配偶者や親族に払う利子は経費とならない 減価償却費の計算 定額法（法定の償却方法）（H10.4.1 以降は建物の償却方法は定額法のみ） 定率法 給与所得 給与所得 = 収入 - 給与所得控除額（ - 特定支出控除） 総合課税だが、給与支払い時に源泉徴収される 特定支出控除: 通勤、転勤による転居の支出が一定額を超えた場合は確定申告 譲渡所得（土地建物と株式は分離課税） 譲渡所得 = 収入 - 取得費 - 譲渡費用 - 特別控除（50 万円） 短期譲渡所得: 所有期間 5 年以下 長期譲渡所得: 所有期間 5 年を超える 50 万円の特別控除は、短期譲渡所得 → 長期譲渡所得の順で控除 土地建物や株式以外は総合課税だが、長期譲渡所得は 1/2 して総合課税（短期はそのまま総合課税） 一時所得 懸賞や福引／競馬、競輪、競艇／生命保険の一時金／損害保険の満期返戻金 一時所得 = 収入 - 取得費 - 特別控除（50 万円） 一時所得は 1/2 して総合課税 雑所得 公的年金／作家以外の人の印税／講演料 雑所得 = 収入 - 経費（公的年金の場合は控除額） 公的年金等控除額は年齢、年金収入金額による 退職所得（分離課税） 退職所得 = (収入 - 控除額) / 2 退職所得控除額 最低 80 万円 20 年以下: 40 万 x 年数 20 年超: 70 万 x (年数 - 20) + 800 万 365 日中 1 日でも働いていれば 1 年とカウント 申告書を提出しないとまるまる 20% 源泉徴収されるので確定申告で清算 山林所得（分離課税） 山林を取得して 5 年以内に伐採または譲渡すると事業所得か雑所得になる 山林所得 = 収入 - 経費 - 特別控除（50 万円） (2) 損益通算 損益通算の対象は不動産所得／事業所得／山林所得／譲渡所得 別荘など通常の生活に必要ないものは損益通算できない 土地取得のための借入金の利子は損益通算できない 土地建物や株式等の譲渡所得の損益通算はそれぞれの損益内のみ 上場株式の配当所得は申告分離課税を選択すれば、上場株式の譲渡損失と損益通算できる (3) 14 種類の所得控除 基礎控除: 38 万円は無条件で所得控除 雑損控除: 災害や盗難で資産に損害が出た場合（一定） 医療費控除: 治療費で 10 万円を超える部分 風邪薬は対象だが、ビタミン剤は対象外 人間ドックや健康診断は治療費ではないので対象外だが、その結果によって治療を行った場合は、控除の対象となる 社会保険料控除: 自己または生計を一にする配偶者やその他の親族の社会保険料（全額） 健康保険、厚生年金保険、厚生年金保険などが対象 小規模企業共済等掛金控除: 小規模企業共済や確定拠出年金の掛金（全額） 生命保険料控除: 限度額 12 万円 生命保険料、介護医療保険料、個人年金保険料などが対象 地震保険料控除: 限度額 5 万円 寄附金控除: 特定寄付金を支出した場合 障害者控除: 本人、控除対象配偶者、扶養親族が一定の障害者の場合 寡婦（寡夫）控除: 一定の要件を満たす寡婦（寡夫） 勤労学生控除: 一定の勤労学生 配偶者控除: 12 月 31 日に控除対象配偶者がいる場合 控除対象配偶者の条件 納税者と生計を一にする配偶者 合計所得が 38 万円以下 青色申告者の事業専従者として一度も給与の支払いを受けていない 白色申告者の事業専従者でない 控除額は 38 万円（70 歳以上の老人は 48 万円） 配偶者特別控除: 控除対象配偶者の合計所得が 38 万円超 76 万円未満 控除を受ける人の年収が 1000 万円以下であることが条件 控除額は最高 38 万円 扶養控除: 12 月 31 日に控除対象扶養親族がいる場合 控除対象扶養親族の条件 生計を一にする 16 歳以上の扶養親族 合計所得が 38 万円以下 控除額は 38 万円。19 歳以上 23 歳未満（特定扶養親族）は 63 万円 (4) 税率を掛ける ここは単純なので省略。 (5) 税額控除 配当控除: 総合課税を選択した配当所得のみ 配当控除の対象にならないもの 外国法人から受け取る配当金 確定申告不要制度を選択したもの 申告分離課税を選択した上場株式等の配当（H21.1 以降） 控除額 課税総所得 1000 万円以下の部分: 10 % 課税総所得 1000 万円超の部分: 5 % 住宅ローン控除（住宅借入金等特別控除） 住宅ローンの年末残高の一定割合 条件 取得後 6 カ月以内に居住開始し、12 月 31 日まで引き続き住んでいること 合計所得 3000 万円以下 床面積 50 ㎡以上で、1/2 以上が居住用 10 年以上のローン 控除額は年末残高 x 1%、控除期間は 10 年間 H25.1〜H25.3: 年末残高限度額: 2000 万円 H25.4〜H29.12: 年末残高限度額: 4000 万円 給与所得者は一度確定申告すれば、翌年からは年末調整で適用可 所得税の申告 確定申告 2月16日 から 3月15日 の間に行う 給与所得者でも下記の人は確定申告が必要 収入金額が 2000 万円を超える 給与所得及び退職所得以外の所得が 20 万円を超える（主たる給与以外の給与所得は計上する）"},{url:"/p/swp9i44/",title:"FP試験: ライフプラインニングと資金計画",date:"2015-09-21T00:00:00Z",body:"FP試験: ライフプラインニングと資金計画 ファイナンシャルプランナーにできること 税務代理、税務相談はダメ（税理士ではない） 有価証券の価値に関する助言はダメ（金融商品取引業者ではない） 法律問題の業務を行ってはダメ（弁護士ではない） 保険の募集や勧誘はダメ（保険募集人ではない） 宅地・建物の貸借の媒介はダメ（宅地建物取引業の免許が必用） 保険設定の目安として必要保障額を試算するのは OK 公正証書遺言の証人になるのは OK（FP じゃなくても OK） ライフイベント表／キャッシュフロー表／個人バランスシート キャッシュフロー表の収入金額は可処分所得を記入 可処分所得: 年収から所得税、住民税、社会保険料を控除した額（天引きの貯蓄や、保険料は引かない）（保険料は支出の欄に記入するため） 1 年以内に支払いが発生する家賃や教育費はキャッシュフロー表に記載（バランスシートには計上しない） 株式、土地は個人バランスシートに時価で計上 試算用の各種係数 将来の合計額を求めたい（終価） 元本 x 終価係数 → 受け取る合計額 毎年の積立額 x 年金終価係数 → 受け取る合計額 必用な元本を求めたい（現価） 目標額 x 現価係数 → 元本 毎年受け取りたい額 x 年金現価係数 → 元本 毎年いくら払えばよいか求めたい 目標額 x 減債基金係数 → 毎年払う額（積立額）「貯蓄を積み増していくので利子が大幅に増えていく」 借入額 x 資本回収係数 → 毎年払う額（返済額）、あるいは既存の貯蓄を毎年いくらずつ取り崩していけるか「貯蓄を取り崩していくので利子が大幅に減っていく」 社会保険（必ず加入する公的な保険） 「医療」に関する社会保険 「医療」に関する社会保険には健康保険（会社員）と国民健康保険（自営業者）があり、日本ではどちらかに入る必用がある。 健康保険（会社員） 会社の役員や従業員が被保険者として加入。被保険者の収入に依存する家族は被扶養者となる 保険料は保険者によって異なる。全国健康保険協会の場合は、事業主と従業員で 1/2 ずつで、保険料率が都道府県ごとに異なる。健康保険組合の場合は、規約で負担割合が定められる。 疾病手当金: 仕事休んで 4 日目以降から 1 年 6 ヶ月間、標準報酬の 2/3 相当額が支給される。労災保険の休業給付と違い、業務外の負傷も対象 会社をやめた場合は、任意継続被保険者となって 2 年間だけ健康保険を継続するか、国民健康保険に切り替える 任意継続被保険者制度: 2 ヵ月以上健康保険に加入しており、20 日以内に申出すれば、2 年間健康保険を継続可能。ただし、保険料は国民健康保険と同様に全額負担になる。 国民健康保険（自営業者） 国民健康保険は全員が被保険者で、被扶養者という区分はない。 保険料は全額負担で、市区町村ごとに異なる 業務上の負傷は、労災保険の給付がないときのみ給付。 被扶養者制度はない（健康保険にはある） 疾病手当金は出ない（健康保険にはある） 出産手当金は出ない（健康保険にはある） 健康保険と国民健康保険で共通 入院時の食事代／差額ベッド代は高額療養費の対象外 人間ドックの検査は健康保険の対象外 医療費は 3 割負担。小学校入学前は 2 割。70 歳以上 75 歳未満は条件による（H26.3 以前に70歳なら 1 割、H26.4 以降に70歳なら2 割、現役並み所得者なら 3 割）。75 歳以上は後期高齢者医療制度に加入することになるので 1 割 となる。 後期高齢者医療制度 75 歳以上はこれに加入（障害認定者は 65 歳以上で加入） 被扶養者制度はない（国民健康保険と同様） 保険料は都道府県ごとに異なる（健康保険と同様） 医療費の自己負担は 1 割（現役並み所得者は 3 割） 「介護」に関する社会保険 「介護」に関する社会保険は介護保険のみ（全員） 介護保険（会社員＆自営業とも） 第 1 号被保険者: 65 歳以上 第 2 号被保険者: 40 歳以上 65 歳未満（特定疾病の場合のみ。初老期認知症、脳血管疾患、末期がんなど） 介護サービス費の自己負担はいずれも 1 割負担だが、H27.8 からは所得 160 万円以上は 2 割負担に引き上げ 介護給付には市町村の認定が必用 居宅介護サービス計画（ケアプラン）は被保険者本人が作成することもできる 居宅介護住宅改修費の支給は改修費の 9 割（20 万円まで） 「労災」に関する社会保険 「労災」に関する社会保険には労災保険（会社員）と特別加入の労災保険（自営業）がある 労災保険（会社員） 労災の保険者は政府 保険料は事業主が全額負担。保険率は業種によって異なる 中小企業の事業主は加入できない → 特別加入制度あり 海外の事業所に派遣された従業員は加入できない → 特別加入制度あり 休業給付: 業務上のケガや病気などによる休業 4 日目から給付基礎日額の 60% 相当額を支給（健康保険の疾病手当金と比較） 疾病年金: 療養 1 年 6 ヵ月経過後に治らず、疾病等級 1 級から 3 級の場合に支給 遺族給付: 生計を維持されていた配偶者、子、父母、孫、祖父母、兄弟姉妹が対象 遺族補償年金の支給額は生計を同じくする人数により変わる 特別加入の労災保険（自営業） 事業主は労働者が一定数以下なら労災に特別加入できる 「雇用」に関する社会保険 「雇用」に関する社会保険は雇用保険（会社員）のみ 雇用保険（会社員） 保険者は労災保険と同じく政府（ハローワーク） 役員や事業主、およびその家族は加入できない 保険料は事業主と労働者で負担。保険率は業種により異なる 基本となるのは求職者給付（失業保険）の基本手当 基本手当の給付要件: 自己都合の失業 → 離職前 2 年間に通算 12 ヵ月以上の被保険者期間 基本手当の給付要件: 会社都合の失業 → 離職前 1 年間に通算 6 ヵ月以上の被保険者期間 基本手当の給付日数: 自己都合の失業 → 90 日〜 150 日（一般離職者） 基本手当の給付日数: 会社都合の失業 → 90 日〜 330 日（特定受給資格者） 給付日数は、年齢、被保険者期間、離職理由などで決まる 基本手当を受給中に出産か疾病で 30 日以上離職する場合は 4 年間延長できる 高年齢再就職給付金: 雇用保険の基本手当を受給後に再就職した場合に支給。 高年齢再就職給付金: 賃金の額に乗じる率は最大 15% 高年齢雇用継続基本給付金: 算定基礎期間が 5 年以上が要件の 1 つ 高年齢雇用継続基本給付金: 支給対象は 60 歳到達月〜 65 歳到達月 「年金」に関する社会保険 「年金」に関する社会保険には国民年金（全員）、厚生年金保険（会社員、公務員）がある。年金の支払い日は偶数月。 国民年金（被扶養者や自営業者を含む全員） 20 歳以上 60 歳未満の国内に住所を持つ国民全員が加入 20 歳以上 65 歳未満で日本国籍を持てば任意加入できる（国外居住可） 第 1 号被保険者: 第 2 号、第 3 号のいずれにも属さない人（自営業、大学生など） 第 2 号被保険者: 会社員、公務員（＝厚生年金にも加入している人） 第 3 号被保険者: 第 2 号被保険者の被扶養配偶者（20 歳以上 60 歳未満という条件は変わらず） 保険料を直接払うのは第 1 号被保険者のみ（第 2 号、第 3 号の保険料は厚生年金保険から拠出される） 第 1 号の保険料は定額で、H29 年度以降は月額 1 万 6900 円 学生納付特例制度、若年者納付猶予制度を使ったあと追納しなくても、老齢基礎年金の受給資格期間には参入される（ただし額には反映されない） 保険料の免除と猶予: 第 1 号被保険者で障害基礎年金または障害等級 1 級、2 級の障害厚生年金を受給しているものは法定免除で全額免除 第 1 号被保険者は世帯主 or 配偶者の所得により、法定免除は全額、申請免除は全額、3/4、1/2、1/4のいずれかが免除される 第 1 号被保険者の学生は学生本人の所得が一定以下であれば学生納付特例制度で猶予できる 第 1 号被保険者で学生以外の 30 歳未満の場合は若年者納付猶予制度で猶予できる（本人と配偶者の年収は考慮されるが、世帯主や親の年収は不問） 学生納付特例制度、若年者納付猶予制度により猶予した場合の追納は 10 年以内 老齢基礎年金として受給 受給要件: 65歳 に達していること 受給要件: 受給資格期間（納付済期間＋免除期間＋合算対象期間）が 25 年以上あること 合算対象期間の分は、年金額の計算には反映されない 付加年金: 第 1 号被保険者が毎月＋400 円払うと、毎月 200 円ｘ払った月数が追加でもらえる 繰上げ受給: 65 歳からではなく、60 歳まで早めることが可能 繰下げ受給: 65 歳からではなく、70 歳まで遅らせることが可能 老齢基礎年金と老齢厚生年金の繰下げは別々に申出できるが、繰上げは同時に申出が必用 障害基礎年金として受給 受給要件: 初診日に国民年金の被保険者 受給要件: 障害認定日（障害固定日 or 初診日から 1 年 6 ヵ月）に障害等級 1 級か 2 級 受給要件: 保険料 2/3 以上払っている 年金額（1 級）: 780,100 円ｘ1.25 + 子の加算 年金額（2 級）: 780,100 円 + 子の加算 遺族基礎年金として受給 受給要件: 国民年金の被保険者 or 老齢基礎年金の受給者 受給できる遺族: 子を持つ配偶者 or 子（子は 18 歳以下 or 2 級までの障害状態） 年金額: 780,100 円＋子の加算（1 人 224,500 円、3 人目以降 74,800 円） 寡婦年金／死亡一時金: 第 1 号被保険者の夫が死亡した場合、10 年以上の婚姻期間があり、夫が基礎老齢年金も障害基礎年金も受給していないときに、妻は 60 歳から 65 歳到達まで寡婦年金を受け取るか、死亡一時金を選択して受給 厚生年金保険（会社員、公務員） 国民年金の第 2 号被保険者（会社員、公務員）が、国民年金に上乗せする形で加入する（例: 老齢基礎年金と老齢厚生年金を合わせてもらえるようになる） 適用事務所で働く70 歳未満の人が強制加入（60 歳から老齢厚生年金を受給し初めても 70 歳以降は保険料の負担がなくなる） 公務員は従来は共済組合に加入していたが、H27.10 以降は厚生年金保険に統一 個人事業主でも 5 人以上の従業員がいる事業所は厚生年金保険が強制適用 保険料: 総報酬制: 年間の総報酬をもとに保険料が決まる 毎年引き上げられ、H29.9 からは 18.30% で固定 育児休業中は子供が 3 歳まで被保険者、事業主ともに免除 老齢厚生年金として受給 老齢厚生年金は 60 歳から受給 60 〜 64 歳: 特別支給の老齢厚生年金 被保険者期間が 1 年以上必用 報酬比例部分＋定額部分＋加給金額 65 歳からは報酬比例部分は老齢厚生年金に切替わる。定額部分は基礎老齢年金に切替わる 65 歳〜: 通常の老齢厚生年金 被保険者期間は 1 ヵ月以上あればよい 経過的加算: 特別支給の老齢年金の定額部分が、65 歳になって基礎老齢年金に切替わった時に減額してしまう場合の補助。 加給年金: 被保険者期間が 20 年以上ある場合、65 歳未満の配偶者、18 歳以下の子がいると加給年金が加算される。金額は一定だが受給者の生年月日により加算がある。妻が 65 歳になると、配偶者の加給年金は打ち切られるが、老齢基礎年金の方に振替加算が加算される（老齢基礎年金の受給者の生年月日に応じて金額が決まる）。老齢基礎年金の方には配偶者加給年金はない。 在職老齢年金: 60 歳以降も在職中だと老齢年金が減額（月額 47 万円を超えると在職支給停止） 障害厚生年金として受給 受給要件: 初診日に厚生年金保険の被保険者 受給要件: 障害認定日に障害等級 1 級か 2 級か 3 級（障害基礎年金では 3 級は認められない） 年金額（1 級）: 報酬比例の年金額ｘ1.25 + 配偶者加算 年金額（2 級）: 報酬比例の年金額 + 配偶者加算 年金額（3 級）: 報酬比例の年金額（最低保障あり） 厚生年金保険の被保険者期間は最低 300 ヵ月として計算 障害等級 3 級より軽度の障害が残った場合は障害手当金 遺族厚生年金として受給 受給可能遺族: 配偶者・子・孫・父母・祖父母（子のいない 30 歳未満の妻は 5 年間だけ給付。子・孫は 18 歳以下の間。父母・祖父母は死亡時に 55 歳以上で支給開始は 60 歳） 年金額: 報酬比例の年金額の 3/4（厚生年金保険の被保険者期間は最低 300 ヵ月で計算） 中高齢寡婦加算: 夫死亡時に 40 歳以上で子供のいない寡婦に対して、40 歳から 65 歳に到達するまで遺族厚生年金に加算 その他 出産育児一時金は 1 児につき 42 万円。 私的年金 公的年金（国民年金や厚生年金）ではない私的年金には、企業年金や個人年金がある 企業年金 確定給付型: 決まった給付額のために積立 厚生年金基金: 厚生年金保険の老齢厚生年金の一部を国に代わって運営 確定給付企業年金（規約型）: 規約に基いて年金資産を運用 確定給付企業年金（基金型）: 別の年金基金を設立して運用 確定拠出型: 運用によって給付額が増減 10 年以上掛け金を積み立て、60 歳以降年金を受給 公務員と第 3 号被保険者は加入できない 企業型の確定拠出年金: 月毎の給付額は 27,500 円 or 55,000 円が限度 個人型の確定拠出年金: 月毎の給付額は 23,000 円 or 68,000 円が限度 老齢給付金は加入者期間が 10 年以上の人が 60 歳から受給 個人年金 小規模企業共済 小規模企業の役員や個人事業主が加入可能 加入後に掛け金の増額／減額が可能 掛け金の全額が小規模共済等掛金控除の対象 中退共（中小企業退職金共済） 新規加入の事業者は 4 ヶ月目から 1 年間、国から 1/2 の掛金の助成 事業主と生計を共にする親族でも、使用従属関係等の確認のための書類を提出すれば中退共に加入可 退職金は、一括、分割、それらの組み合わせで受け取れる 退職後 2 年以内に再度被共催者となったら掛金納付月数を通算可 国民年金基金 自営業者（国民年金の第 1 号被保険者）が加入可能 H25.4 以降は国民年金の任意加入者（60 歳以上 65 歳未満）も加入可能 住宅取得資金／住宅ローン 自己資金は 20〜30% あることが望ましい 固定金利選択型: 一定期間は固定金利で、その後は変動金利か固定金利を選択可能なローン 返済方法 元利均等返済: 返済額がずっと一緒。最初は元金の支払い部分が少なく、合計返済額は多い。 元金均等返済: 元金を同じ額だけ返済し続ける。最初は返済額が多いが、合計返済額は少ない。 公的住宅ローンと民間住宅ローン 財形住宅融資（公的） 条件: 財形貯蓄 1 年以上で残高 50 万円以上 金利: 変動金利（5 年ごとに見直し） 限度額: 購入価格の 90% 以内。4000 万円まで。財形貯蓄の 10 倍 以内。 フラット 35 条件: 保証人／保証料は不要 金利: 固定金利（金融期間が定める） 限度額: 購入価格の 100% 以内。8000 万円まで。1 億円以下の物件のみ。 返済: 最長 35 年（70 歳までに申込。80 歳までに完済） 借換えと繰上げ返済 融資条件を満たせば借換え先の住宅ローンとしてフラット35を利用可 別の銀行の住宅ローンに借換えると抵当権設定のための登録免許税等の費用がかかる 繰上げ返済する場合、返済額軽減型より返済期間短縮型の方が軽減効果が高い 教育資金／教育ローン 教育ローン 国の教育一般貸付（日本政策金融公庫） 条件: 成績要件なし、年収制限あり 金利: 固定金利 限度額: 子供一人 350 万円（H26年4月〜）、以前は 300 万円まで 返済: 15 年以内 奨学金（独立行政法人日本学生支援機構） 条件: 成績用件あり（第一種の方が厳しい）、年収制限あり 金利: 第一種奨学金は無利息、第二種奨学金は利息あり（在学中は無利息） 教育一般貸付と奨学金は重複して利用可"},{url:"/p/ido9xdw/",title:"FP試験: リスク管理",date:"2015-09-21T00:00:00Z",body:"FP試験: リスク管理 保険いろいろ 保険は大きく分けて「生命保険（第一分野）」「損害保険（第二分野）」「第三分野の保険」 ソルベンシー・マージン比率（保険会社の支払い余力）は 200% 以上が健全 保険契約者保護機構（保険会社の経営破綻） 「生命保険」契約者保護機構: 責任準備金の 90% 補償（生命保険、医療保険、個人年金保険など） 「損害保険」契約者保護機構: 自賠責と地震は 100% 補償、医療関連は 90% 補償、自動車と火災は 80%（破綻後 3 ヶ月以内は 100%） 補償 国内で事業を行う保険会社は国外に本社があっても保険契約者保護機構に加入必須 少額短期保険（共済などによる）は保険契約者保護の対象でない 救済保険会社に対して資金援助などを行う 契約者が法人であっても保護の対象 クーリングオフ クーリングオフは「申込日」あるいは「書面を受け取った日」の遅い方から 8 日以内に行う。 クーリングオフは書面で行う。 保険期間が 1 年以内の保険はクーリングオフできない 自賠責保険などの強制保険はクーリングオフできない 保険法 生命保険契約、損害保険契約、傷害疾病定額保険契約に関する規定 共済契約も提供対象 支払時期を規定 同法の規定よりも不利な約款は無効 生命保険（第一分野の保険） 保険料と配当金 保険料（= 純保険料 + 付加保険料）は 3 つの予定基礎率により決まる 純保険料: 予定死亡率と予定利率により決まる 付加保険料: 予定事業費率により決まる 剰余金（= 死差益 + 利差益 + 費差益）は配当金として還元（有配当保険のみ） 責任開始日は「申し込み」「告知（審査）」「第一回保険料の払込」のすべてが完了した日 生命保険の払込方法は「月払い」「半年払い」「年払い」「一時払い」 保険料払込猶予期間: 翌月の初日から月末まで 失効した保険契約を復活したとき、保険料率は失効前と同じ 払込みが困難なときの手段 自動振替貸付: 解約返戻金から立て替え。貸付けなので利息あり 払済保険への変更: 保険期間はそのままで受け取る保障額を減らす 延長保険（定期保険）への変更: 保障額は減らさず保険期間を短くする（定期保険にする） 払済保険や延長保険に変更すると特約は消滅 契約転換（下取りして別の保険に買い換え）時は保険料を再計算 保障重視の生命保険 定期保険 満期保険金なし／解約返戻金なし 平準定期保険: 保険金額が契約満了時まで不変 逓増定期保険: 保険金額が上がる（支払う保険料は同じ） 逓減定期保険: 保険金額が下がる（支払う保険料は同じ）。子供が幼い時の候補 終身保険 満期保険金なし／解約返戻金あり 低解約返戻金型の終身保険 一定期間だけ解約返戻金が下がる代わりに、保険料が割安 定期保険特約付の終身保険 終身保険（主契約）＋定期保険（特約） 全期型: 終身保険の払込満了までが特約の保険期間 更新型: 一定期間ごとに特約を更新 終身保険の死亡保険金は「みなし相続財産」として、相続税の課税対象となるが、「500万円×法定相続人数」を非課税にできる。つまり、終身保険で相続税の納税資金を準備できる。 貯蓄性重視の生命保険 養老保険 満期保険金あり 満期保険金は死亡・高度傷害保険金と同額受け取れる こども保険 満期保険金あり 入学時などに祝金 親が死んでも保険金は契約通りもらえる（保険料は免除される） その他の生命保険 利率変動型積立終身保険（アカウント型保険） 死亡保障や医療保障の保険金を払いつつ一部を一時金として積立て 払込満了後に積立金をもとに終身保険や年金を購入 積立金は一定の範囲内で自由に引き出せる 変額保険（リスク大） 運用によって保険金や解約返戻金が増減 死亡時や高度障害時は最低保証がある 解約返戻金には最低保障はない 有期型と終身型がある 個人年金（老後のため） 有期年金: 支払期間中で、かつ生存中のみ年金が支払われる 確定年金: 支払期間中は死んでも年金が支払われる（遺族に渡される）。10 年確定年金など 終身年金: 生きている限り年金が支払われる。保証期間付終身年金は、死亡した場合残りの保証期間に対応する年金または一時金が支払われる。一時払定額個人年金（終身型）の保険料は女性の方が高い（長生きするから） 夫婦年金: 夫婦のどちらかが生きている限り年金が支払われる 生存給付金付定期保険 一定期間ごとに生存給付金を受け取れる定期保険 死亡した時は生存給付金の受け取りに関わらず死亡保険金を受け取れる 損害保険（第二分野の保険） 保険価額と保険金額 保険金額は保険価額（最高見積額）を上限とした実損額 全部保険: 保険金額 ＝ 保険価額 一部保険: 保険金額 ＜ 保険価額 超過保険: 保険金額 ＞ 保険価額（加入者の儲けが出る） 住宅火災保険（火災、落雷、爆発、雪災） 建物と家財が対象（消火費用、臨時費用、片付け費用も出る） 火災保険は自動車は補償対象外 火災保険で30万円を超える家財を補償対象とする場合、明記が必要 積立火災保険の満期返戻金は一時所得とみなされる 住宅総合保険（住宅火災保険 ＋ 水災、盗難） 地震保険（地震、噴火、津波を原因とする火災、損壊、埋没、流失） 地震保険は火災保険に付帯して契約 保険金額: 建物 5000 万円、家財 1000 万円を上限に主契約の保険金額の 30〜50% 地震保険の保険料は建物の構造と所在地で決まる 地震保険の 4 種の割引制度は重複して受けることはできない 地震保険は「全損」「半損」「一部損」の 3 段階 自動車保険 自賠責保険（自動車損害賠償責任保険） すべての自動車と原動機付自転車が加入 補償が対人賠償に限定 支払限度額: 被害者 1 人につき「死亡 3000 万円、傷害 120 万円」 任意の自動車保険（下記 7 つで構成） 対人賠償保険: 自損事故保険: 無保険車傷害保険: 対物賠償保険: 搭乗者傷害保険: 加害者からの損害賠償金等の金額によらない 車両保険: 地震、噴火、津波による被害は対象外 人身傷害補償保険: 過失割合にかかわらず補償 傷害保険（急激かつ偶然な外来事故を補償） 普通傷害保険: 国外を含む日常生活での傷害が対象。地震が原因のケガは対象外。保険金は入院／通院に起因するものは非課税となる。死亡保険金は課税される。生命保険料控除の対象にならない。 所得補償保険: 傷害または疾病で働けなくなったときのため。保険金は非課税。 家族傷害保険: 家族全員を補償。生計を共にする別居の未婚の子も含む 国内旅行傷害保険: 国内旅行時、家を出て帰宅するまで。傷害保険はケガを補償するためのものなので、病気（虫垂炎など）は対象外 海外旅行傷害保険: 海外旅行時、家を出て帰宅するまで 年金払積立傷害保険から受け取る給付金は「雑所得」とみなされる 賠償責任保険（第三者に対する賠償責任が生じたときのため） 個人賠償責任保険 業務中の事故、同居親族に対する事故、預かり品の損壊、自動車による事故は対象外 生産物賠償責任保険/PL保険（法人向け）: 商品による事故。食品も含む 施設所有者（管理者）賠償責任保険: 施設による事故 機械保険: 従業員の操作ミスによる損害が対象。火災は対象外 建設工事保険: クレーンによる破損など 受託者賠償責任保険: 他人から預かった物を紛失したり、傷つけたりしたとき 法人契約の保険について 保険金が保険会社から相手方に直接支払われた場合、経理処理の必要はない（法人が保険金を受け取っていないから） 下記の普通傷害保険の保険料は、給与として損金算入する 被保険者: 役員 保険金受取人: 法人 下記の普通傷害保険の保険料は、福利厚生費として損金算入する 被保険者: すべての従業員 保険金受取人: 法人 第三分野の保険（医療保険） 医療保険／特約 特約の場合は主契約である生命保険などに付加 生前給付保険／特約 特定疾病保障保険 特定疾病（ガン、脳卒中、急性心筋梗塞）になったとき特定疾病保険金（死亡保険金と同額） 死亡時は特定疾病以外でも死亡保険金は受け取れる 保険金受け取りは非課税 リビング・ニーズ特約 余命が 6 ヵ月以内のとき死亡保険金を生前に受け取れる 特約付加のための保険料は無料 死亡保険金受け取りは非課税。ただし預金として残っていたら相続税 更新型の医療保険では、入院給付金を受け取った場合でも、保険期間満了時に契約更新可能。 ガン保険には 3 カ月間（あるいは90日）の免責期間がある。 ガン保険には入院給付金の支払日数に限度はない。 終身医療保険の疾病入院給付金には、1 入院当たりの支払日数、通算の支払日数ともに上限がある。 退院日の翌日から 180 日以内に同じ病気で入院すると、1 入院とカウントする。 生命保険の税金 死亡保険金にかかる税金の種類（契約者が自分のとき） 自分が死んだ時: 相続税 自分以外が死んで自分がもらうとき: 所得税＆住民税 自分以外が死んで自分以外がもらうとき: 贈与税 満期保険金、解約返戻金にかかる税金の種類（契約者が自分のとき） 自分がもらうとき: 所得税＆住民税 自分以外がもらうとき: 贈与税（自分から他のひとにお金が移る） 非課税のもの 入院給付金／通院給付金／手術給付金／特定疾病保険金／リビングニーズ特約保険金 生命保険料の所得控除 H24.1 以降の契約は 3 種類の控除で合計最大 12 万円 （新）生命保険料控除（遺族保障、変額個人年金保険）: 4 万円 介護医療保険料控除（介護保障、医療保障）: 4 万円 （新）個人年金保険料控除（老後保障）: 4 万円 H24.1 より前の契約は 2 種類の控除 （旧）生命保険料控除（遺族保障、介護保障、医療保障）: 5 万円 （旧）個人年金保険料控除（老後保障）: 5 万円 新旧の契約の両方の控除を受ける場合は 4 万円の方が適用される 新制度では傷害特約に係る保険料は生命保険料控除の対象外 生命保険の契約者を変更したときには相続税は発生しない。保険金や解約返戻金を受け取った時に相続税が発生する 個人年金保険料控除を受けるには、個人年金保険料税制適格特約を付加する必要がある 個人年金保険料控除の受取人は、契約者本人か配偶者の必要がある 個人年金の税金 契約者と受取人がことなる場合: 年金受け取り開始時に贈与税 年金受け取りごとに雑所得として所得税＆住民税 法人の保険の税金 保険料の経理処理 貯蓄性のない保険（定期保険、医療保険）: 損金算入 貯蓄性のある保険（養老保険、終身保険）: 資産計上 ハーフタックス・プラン: 下記条件を満たすとき 1/2 を資産計上、1/2 を損金算入できる養老保険の契約形態 契約者＝法人 被保険者＝役員・従業員 満期保険金受取人＝法人 死亡保険金受取人＝役員・従業員の遺族 損害保険の税金 地震保険料控除: 最大 5 万円（所得控除） 損害保険料控除は H19 から廃止 法人が支払う損害保険料は損金算入 個人が受け取る損害保険金は非課税 法人が受け取る損害保険金は益金算入"},{url:"/p/m4rgyxq/",title:"FP試験: 不動産",date:"2015-09-21T00:00:00Z",body:"FP試験: 不動産 土地の公的価格 公示価格 土地価格の基準 決定機関: 国土交通省 毎年 1 月 1 日を基準日とした評価を 3 月下旬に公表 標準価格 公示価格を時間的・場所的に補足 決定機関: 都道府県 毎年 7 月 1 日を基準日とした評価を 9 月下旬に公表 固定資産税評価額 固定資産税・不動産取得税の算出のために評価される 市決定機関: 町村 3 年ごとに 1 月 1 日を基準日とした評価を 3 月か 4 月に公表 地価の急激な下落時などは 3 年を待たずに再評価する特例もある 公示価格の 70% が価格水準 路線価（相続税評価額） 路線ごとに路線に面している標準的な宅地の 1㎡ あたりの価額 相続税・贈与税の算出のために評価される 決定機関: 国税庁 毎年 1 月 1 日を基準日とした評価を 7 月下旬に公表 公示価格の 80% が価格水準 不動産の鑑定方法 取引事例比較法 似たような事例を基に決定。 原価法 再調達原価に減価修正を加えて決定。減価額は、耐用年数に基づく方法と観察減価法を併用。 収益還元法 将来的な収益／費用を考慮して決定。 直接還元法（単年の収益を割り引いて求める）と DCF 法（複数年の収益を割り引いて求める）がある。 自用の不動産であっても、賃貸用とみなして収益還元法を適用できる。 不動産の登記 不動産登記とは 所在地、面積、構造などを法務局（登記所）の不動産登記記録（登記簿）に記載して公示する 登記は一筆の土地、一戸の建物ごとに行う 登記簿の構成 表題部: 所在地、面積、構造など（新築時は 1 か月以内に表題登記） 権利部（甲区）: 所有権に関して（所有権の保存、所有権の移転、差さえ、仮処分） 権利部（乙区）: 所有権以外の権利に関して（抵当権先取特権、賃借権） 登記の種類 所有権保存: 新築時や購入時 所有権移転: 売買時、相続時 抵当権設定: 抵当権設定時 登記所で閲覧できる登記簿以外の資料 地図: 精度が高い 公図: 精度が低い 地積測量図: 土地の形状や面積／土地によってはない場合もある 建物図面: 建物の形状や位置 ポイント 登記簿上の地番は、市町村の定める住所表示とは異なることがある 借地権は登記簿に書かれていなくても設定されていることがある 表題部の所在地や面積は実際のものと異なることがある 登記には対抗力がある: 登記をすることによって不動産の権利者であると主張できること 登記には公信力はない: 登記の内容は真実であることは保障されていない 仮登記をすることで権利の順位を保全できるが、仮登記には対抗力はない 登記はオンラインや郵送でも可能 不動産の取引 契約の解除 買主側から契約解除したい場合は手付金を放棄する 売主側から契約解除したい場合は手付金の 2 倍 を渡す 相手方が履行に着手した場合は契約解除できない 買主側が売買代金を支払った 売主側が建築に着手した 危険負担 建物引渡し前に災害などで滅失してしまっても全額支払う必要がある 契約で売主側の負担にすることもできる 瑕疵担保責任 通常発見できない瑕疵が見つかった場合でも、売主側は責任を負う必要がある 瑕疵を知った日から 1 年以内であれば、損害賠償請求や契約解除できる 特約によって瑕疵担保責任を免除したり、期間短縮できる ただし、不動産業者の場合は基本的にこのような特約はできないが 2 年以上の期間であれば OK 新築住宅に関しては、建物引渡しから 10 年以上の瑕疵担保責任が義務付けられている 債務不履行 債権者や債務者に対して損害賠償請求できる 特に、履行不能の場合は直ちに契約解除できる 履行遅滞や不完全履行の場合は、履行の催告を行い、期間内に履行されない場合に契約解除できる クーリングオフ 事務所で契約締結した場合は使えない 宅地・建物が引渡しされ、代金を支払った場合は使えない 業者が書面で申し込み撤回できることを伝えた日から 8 日以内 面積 壁芯（へきしん）面積: 壁の中心線を基準として計測（パンフレットの表示はこっち） 内法（うちのり）面積: 壁の内側を基準として計測（登記簿の表示はこっち） 公簿取引は、その名の通り、登記簿上の面積を用いた取引のこと。後日の再計測による差額清算は行わない（簿記の記載を神とする）。 実測取引は、その名の通り、実際に計測した面積を用いた取引のこと。後日の再計測により差額清算されることがある。 宅地建物取引業法 宅地建物取引業は、土地や建物に関する「売買／交換／貸借」を行う業務のこと。媒介や代理であっても免許が必要。ただし、貸借を自ら行う場合だけは対象外（免許がいらない）。 宅地建物取引業者となるには下記のからの免許取得が必要。 国土交通大臣（複数の都道府県に事務所がある場合） 都道府県知事（1 つの都道府県だけに事務所がある場合） 事務所の従業員 5 人あたり 1 人以上の宅地建物取引士が必要。重要事項の説明、説明書や契約書への記名押印は、取引士しか行えない。 媒介契約 不動産業者に売却の仲介を依頼する場合は、3 種類の媒介契約のいずれかを結ぶ必要がある。これにより、依頼主と業者の権利や義務が明確になる。 専属専任媒介契約: 1 つの業者だけに依頼する。業者は売却状況を 1 週間に 1 度の頻度で報告する。国土交通大臣の指定する流通機構に物件を 5 日以内に登録する必要あり。依頼者は自分で購入希望者を見つけてはいけない。契約有効期間は 3 ヵ月以内。 専任媒介契約: 専属専任媒介契約とほぼ同じだが、依頼者は自分で購入希望者を見つけられる。指定流通機構に 7 日以内に登録する必要あり。業者は売却状況を 2 週間に 1 度の頻度で報告する。 一般媒介契約: もっとも緩い契約。他業者にも依頼できる。業者は状況の報告義務なし。指定流通機構への物件の登録義務もなし（任意で登録することは可）。契約有効期間の制限もなし。 売買成立時の報酬限度額 取引金額 200 万円以下: 取引金額 x 5% 取引金額 200 万円超～400万円以下: 取引金額 x 4% + 2 万 取引金額 400 万円超: 取引金額 x 3% + 6 万 未完成物件の扱い 都市計画法の開発許可、建築基準法の建築確認を受けるまでは、広告表示や売買契約を行えない。"},{url:"/p/67gvggc/",title:"テクニカル指標: EMA（指数平滑移動平均）",date:"2015-06-10T00:00:00Z",body:"テクニカル指標: EMA（指数平滑移動平均） EMA の特徴 EMA は通常の SMA（単純移動平均）と比べ、シグナルの発生が早くなる ことが特徴的です。 日本の投資家は SMA を使用することが多いのですが、海外の投資家は EMA を好む傾向があるようです。 EMA の計算では、過去のデータをある時点で突然切り捨てるということはなく、過去に遡るに従い、合算するときの重みを指数関数的に減少させていきます。 EMA の移動平均線は、 SMA の移動平均線に比べて滑らかになる 傾向があります。 MACD の計算にも EMA が使用されています。 EMA をうまく使うコツ EMA や SMA などの移動平均線のゴールデンクロス、デッドクロスなどをシグナルに利用したトレードは、レンジ相場では儲かりません。 レンジ相場なのかトレンドが発生しているのかを先に判断し、レンジ相場のときはボリンジャーバンドによる逆張りエントリ、トレンドが発生しているときは移動平均線による順張りエントリなど、使い分けが必要です。"},{url:"/p/6nw7gpx/",title:"MetaTrader/MQL: チャートの足（バー）の数を取得する (Bars)",date:"2015-06-10T00:00:00Z",body:"MetaTrader/MQL: チャートの足（バー）の数を取得する (Bars) Bars 関数を使用すると、指定したシンボル、時間足のローソク足の数を調べることができます。 int Bars(string symbol, ENUM_TIMEFRAMES timeframe) 使用例 int bars = Bars(&#34;USDJPY&#34;, PERIOD_MN1)); // 157 int bars = Bars(&#34;USDJPY&#34;, PERIOD_D1)); // 2142 int bars = Bars(&#34;USDJPY&#34;, PERIOD_H1)); // 2098 int bars = Bars(&#34;USDJPY&#34;, PERIOD_M1)); // 32051 下記のようにすると、現在のチャートのローソク足の数を取得することができます。 int bars = Bars(_Symbol, _Period); カスタムインジケータの OnCalculate 関数の第一パラメータで渡される rates_total には、上記で求められる値と同じ値が格納されています。"},{url:"/p/6riotap/",title:"MetaTrader/MQL: #property strict で安全な EA を作る",date:"2015-06-09T00:00:00Z",body:"MetaTrader/MQL: #property strict で安全な EA を作る MetaTrader Build 765 以降では、EA やインジケーターの実装内で #property strict を指定しておくと、OnInit による初期化時に INIT_SUCCEEDED (0) 以外が返されたときに、チャートから自動的に EA やインジケーターを取り除いてくれます。 #property strict ありで OnInit 処理が失敗 → EA がチャートから取り除かれる #property strict なしで OnInit 処理が失敗 → EA はチャートに関連付けられたまま 特に理由がない限り、コードの先頭で #property strict を指定しておくことをおすすめします。"},{url:"/p/yv6hfdx/",title:"テクニカル観点からの個人投資家の戦い方",date:"2015-05-17T00:00:00Z",body:"テクニカル観点からの個人投資家の戦い方 個人投資家は、機関投資家に比べて情報戦では不利な状況に立たされています。 特定の銘柄がニュースで大々的に報道されるような場面では、大口の投資家はすでに仕込み終わっていて、売り抜ける準備をしています。 個人投資家が唯一信頼できるのはチャートの値動きです。 大口の投資家の動きは、チャートにリアルタイムに反映されます。 個人投資家が勝つには、この流れを察知して乗ることです。"},{url:"/p/od3ec26/",title:"読書メモ『マネーの公理』マックス・ギュンター",date:"2015-04-26T00:00:00Z",body:"読書メモ『マネーの公理』マックス・ギュンター マネーの公理 スイスの銀行家に学ぶ儲けのルール マックス・ギュンター 日経BP 素早い利確 常に少額を賭け、素早く降りる。ニュースになるような大勝利は滅多にないが、大したことのない勝利はよくある。時には惜しいことになるかもしれないが、長い目で見ればより大きな儲けにつながる。 ★細かい勝利をたくさんものにしていけということ。 後悔を恐れてはいけない。ピークがわからないなら、ピークがまだ先と考えるのではなく、近いと考えなければならない。 「売った株式の株価を決してチェックしてはいけない」とウォール街の古い教えは言っている。 「早すぎる利食い」これを実行しない唯一のケースは、新しい状況が生まれ、もうしばらくは勝ち続けることが、ほぼ確実だと思えるときだけである。 ジュラルド・ロブの経験則は、株価が、自分が保有している間に付けた最高値から 10～15％ 下落したら、利益が出ているか、損しているかにかかわらず売却すべきというものだ。 ★トレーリングストップを仕掛ければ自動化できる。 私の考えでは、自動実行的な損切のメカニズムなしにやったほうがいいと思う。&mdash; あなたは、わずかな訓練で、自分がどんなにタフになれるかという事実に驚くだろう。 事実を見る 成功する投資家は、おそらく起こるであろうことについて行動したりせず、その代わり、起こったことに反応する。 後悔の可能性は、何をする場合でも同じであって、そんなことをあれこれ考えるのはやめるべきだ。持ち続けるか乗り換えるかという決断は、早く利益を獲得するためには、どちらの投機が有利かということによってのみ下されるべきだ。 事態が悪く見えるときは、本当に悪いと考える方が安全だ。 もしも楽観的な気分になったら、その良い気分が事実によって正当化できるかを判断するのだ。 自分で答えを出す 様々な状況の中でデカルトが繰り返し言ったのは、ギャンブルに勝つ秘訣は、自分自身で納得でするまで他人の意見を無視するということだ。 難しい問題に関しては、票を数えることは有効ではない。真実は、多くの人によってよりも、数少ない人によって発見されてきた。 &mdash; デカルト 答えは自分で導くのだ。 &mdash; 多数派に振り回されてはいけない。 チャンスが見えたら、それに向かって進むのだ。危険が見えたら、逃げればいい。"},{url:"/p/khpafaz/",title:"トレード戦略: ナンピンの考え方",date:"2015-03-20T00:00:00Z",body:"トレード戦略: ナンピンの考え方 あるポジションに対して含み損をかかえているときに、さらに買い増し、売り増しすることをナンピンといいます。 平均取得単価が下がるという効果があるため、含み損が減ったかのような幻想を抱きがちですが、絶対的な損失額はまったく変わっていないことをしっかりと把握すべきです。 ナンピンは建玉を増やすので、単純にボラティリティ（リスク）だけを増加させるものだと捉えましょう。 つまり、ナンピンを行なった時点から損益の増減が激しくなるだけです。 ナンピンをしようと思ったら、本当にその銘柄がその時点で一番有望な銘柄なのかを考えてください。 新しく 100 万円を投資しようとするとき、すでに持っている銘柄を買い増すことと、まだ持っていない銘柄を購入することに本質的な違いはありません。 ナンピンをすることによる優位性はないのです。 含み損を抱えると、人はその銘柄に固執するようになってしまいます（これをチェイスといいます）。 これは初心者が陥りがちな罠です。 同じ 100 万円を投資するのであれば、落ちついて相場全体に目を通し、投資先をしっかりと吟味しましょう。 もちろん、戦略的にナンピンを取り入れる売買手法もあります。 例えば、相場が下落している途中で、ある程度根拠を持って底値を狙って買いを入れる場合、何度かに分けて買っていく（つまりナンピンでポジションを追加していく）という方法が考えられます。 底値をピンポイントで捉えるのは困難ですが、複数回に分けてポジションを取るようにすれば、ある程度の値幅で底値を狙っていけます。 戦略的にナンピンを行う場合は、将来的なナンピン時に資金不足に陥らないように、一回あたりの購入金額は減らす必要があります。"},{url:"/p/5dg4tno/",title:"無担保コール翌日物金利",date:"2015-03-16T00:00:00Z",body:"無担保コール翌日物金利 無担保コール翌日物金利 (Overnight Unsecured Call Money Rate) は、銀行間のお金の貸し借り（コール市場）において、最も短い期間（１日）の貸し借りでかけられる短期金利のことです。 担保なしで貸し借りが行われるため「無担保」、翌営業日に返済するため「翌日物」という名前が付いています。 日銀が金融政策として重要視している金利で、次のような呼び方もあります。 無担保コールレート（オーバーナイト物） 無担保コール・オーバーナイト・レート 日本では 2009 年からずっと 0% 〜 0.1% のゼロ金利になっています。 この短期金利は直接的には 預金金利などに影響を与え、最終的に物価に影響を与える（インフレ or デフレに結びつく） といわれています。"},{url:"/p/6s6iu7i/",title:"MetaTrader/MQL: プログラムの実行前に確認ダイアログを表示する (#property show_confirm)",date:"2014-12-07T00:00:00Z",body:"MetaTrader/MQL: プログラムの実行前に確認ダイアログを表示する (#property show_confirm) プログラムの先頭で、次のように __show_confirm プロパティを設定しておくと、プログラムの実行前（チャートにアタッチしたとき）に、 本当に実行してよいかの確認ダイアログ が表示されるようになります。 #property show_confirm この確認ダイアログは、スクリプト、カスタム指標、EA のどの種類のプログラムでも有効です。 新規注文や決済を行うようなプログラグムは、誤って実行してしまわないように、このプロパティを設定しておくと安心です。"},{url:"/p/xof3ydu/",title:"MetaTrader/MQL: 音声を再生する",date:"2014-12-07T00:00:00Z",body:"MetaTrader/MQL: 音声を再生する MQL5 の PlaySound 関数 を使うと音声ファイル (WAV) を再生することができます。 使用例 PlaySound(&#34;alert.wav&#34;); PlaySound の引数には、MetaTrader の Sounds ディレクトリ内の WAV ファイルを指定します。 例えば次のようなファイルがあります。 alert.wav alert2.wav connect.wav disconnect.wav email.wav expert.wav news.wav ok.wav stops.wav tick.wav timeout.wav wait.wav 音声の再生は非同期に実行されるため、PlaySound 関数の呼び出しがプログラムを停止させることはありません。 音声の再生中にもう一度 PlaySound 関数を呼び出すと、現在再生中の音声は停止し、新しく指定した音声の再生が開始されます。 例えば、下記のように連続して実行すると、最後に指定した音だけが聞こえます。 PlaySound(&#34;alert.wav&#34;); // この音は聞こえず、 PlaySound(&#34;ok.wav&#34;); // この音だけが聞こえる 引数にファイル名ではなく NULL を指定すると、現在再生中の音声を停止することができます。 音声を停止する PlaySound(NULL); 次のスクリプトは、1 秒おきに異なる音声を再生していきます。 Scripts/sample.mq5 void OnStart() { string sounds[] = { &#34;alert.wav&#34;, &#34;alert2.wav&#34;, &#34;connect.wav&#34;, &#34;disconnect.wav&#34;, &#34;email.wav&#34;, &#34;expert.wav&#34;, &#34;news.wav&#34;, &#34;ok.wav&#34;, &#34;stops.wav&#34;, &#34;tick.wav&#34;, &#34;timeout.wav&#34;, &#34;wait.wav&#34; }; for(int i = 0; i &lt; ArraySize(sounds); ++i) { Print(&#34;Sound file: &#34; + sounds[i]); // Experts タブにファイル名を表示 PlaySound(sounds[i]); // 音声を再生 Sleep(1000); // 1 秒待つ } }"},{url:"/p/85rz2xr/",title:"MetaTrader/MQL: MetaTrader 実行環境（ターミナル）の情報を取得する (TerminalInfo*)",date:"2014-12-06T00:00:00Z",body:"MetaTrader/MQL: MetaTrader 実行環境（ターミナル）の情報を取得する (TerminalInfo*) MetaTrader の実行環境（ターミナル）の情報を取得するには、TerminalInfo* 系の関数を使用します。 戻り値の型によって使用する関数を呼び分ける必要があります。 取得したい項目は、各関数の引数で指定します。 TerminalInfoString 関数 string 型の情報を取得するとき。 取得する項目は ENUM_TERMINAL_INFO_STRING enum 型 から選択します。 TerminalInfoInteger 関数 int 型の情報を取得するとき。 取得する項目は ENUM_TERMINAL_INFO_INTEGER enum 型 から選択します。 TerminalInfoDouble 関数 double 型の情報を取得するとき。 取得する項目は ENUM_TERMINAL_INFO_DOUBLE enum 型 から選択します。 次のスクリプトを実行すると、MetaTrader 実行環境（ターミナル）の情報をログ出力します。 Scripts/PrintTerminalInfo.mq5 void OnStart() { Print(&#34;Language=&#34; + TerminalInfoString(TERMINAL_LANGUAGE)); Print(&#34;Company=&#34; + TerminalInfoString(TERMINAL_COMPANY)); Print(&#34;Name=&#34; + TerminalInfoString(TERMINAL_NAME)); Print(&#34;Path=&#34; + TerminalInfoString(TERMINAL_PATH)); Print(&#34;DataPath=&#34; + TerminalInfoString(TERMINAL_DATA_PATH)); Print(&#34;CommonDataPath=&#34; + TerminalInfoString(TERMINAL_COMMONDATA_PATH)); } 実行結果（OANDA の MT5 を使っている場合） Language=Japanese Company=OANDA Corporation Name=OANDA MetaTrader 5 Path=C:\\app\\OANDA MetaTrader 5 DataPath=C:\\Users\\maku\\AppData\\Roaming\\MetaQuotes\\Terminal\\84E63C3B90BC3EC3DADC66BC66DD0A1E CommonDataPath=C:\\Users\\maku\\AppData\\Roaming\\MetaQuotes\\Terminal\\Common"},{url:"/p/evta8si/",title:"投資家の心得",date:"2014-11-16T00:00:00Z",body:"投資家の心得 自分へ投資する（知識をつける） 金融商品は利益を生み出すものですが、すべての源泉は自分にあります。本当に投資すべき対象は「金融商品」ではなく「自分」だということを忘れてはいけません。「学ぶための投資」を怠ってはいけません。例えば、1 ヶ月の書籍代に、何千円も何万円も使うのは、最初は抵抗があるかもしれません。でも、そこから得られた知識は、かけがえのない財産となって返ってくるはずです（お金という形にもなるし、稼ぐ力という源にもなる）。投資家のウォーレン・バフェットも「知識は複利のように効いてくる」と言っています。今日学び始めれば、明日学び始めるよりも効果があるということです。 金融商品に投資することにはリスクがつきものですが、学びは常にプラスに働きます。学ぶということは、ローリスク・ハイリターンな投資なのです。例えば、株や債権の知識がなければ、資産を預金という形でしか運用できないかもしれません。多くの金融商品に関する知識を持っているからこそ、そのとき一番有利だと思われる形で資産運用ができるようになります。知識があるのとないのでは、スタートの時点で差がついているのです。 自分へ投資する（健康を維持する） 自分の体への投資も忘れないようにしましょう。 お金を稼いでリッチになるのは、幸せになるためでしょう？ 体を壊してしまっては、元も子もないのです。 健康でさえあれば、ゼロから稼ぐことはいくらでもできます。 私たちの体は、食べたものから作られます。 食事にはこだわってください。多少値が張る食事でも、自分への投資だと思い、それ以上の価値を生んでいると思えばよいのです。 病気になってから治療代に何十万円も使うより、健康的な食事にお金を使ったほうがよっぽど有意義です。 リスク管理を徹底する 投資は勝つときもあれば、負けることもあります。 これは避けられない事実です。 つまり、儲けたときのことだけを考えるのではなく、損をしたときのことを考えなければいけません。 相場の大暴落は定期的にやってきます。 リスク管理のできていない投資家は、いつか必ず大損します。 月間の最大許容損失を決め、その範囲内でロスカットできるように逆指値を設定することが必要です。 利益の前に投資戦略、プランに集中する 相場の大暴落で熱くなったり、トレードがうまくいきすぎたりすると、基本的なルールを無視したトレードを行って失敗しがちです。プロの投資家は、常に冷静に、自分の決めたルールに従ってトレードします。 利益は、正しいプランに従って行動していれば後から着いてくるものと考えます。 一攫千金を狙うのではなく、長期のプランを作成し、今、この瞬間からそれに従って行動を始めることが重要です。 利確、損切りのプランが立っていないのであれば、ポジションを作ってはいけません。 トレードノートをつける トレード上達の道は、自分のトレードの癖を知ることです。どこで買い、どこで売ったのかを印刷したチャートに描き込んでノートに貼っておきましょう。より長い時間足で見たときに、なぜ成功したのか、失敗したのかを分析することができるようになります。 株を購入したのであれば、なぜ購入したのかという根拠を必ずメモしておきましょう。例えば、「配当が順調に増えているから」という理由がメモしてあれば、長期投資を目的として購入したんだと思い出すことができ、何かの拍子で間違えて売ってしまうというミスを防ぐことができます。「相場に勢いがあったから」「急落からの反発狙い」という理由がメモしてあれば、相場に勢いがなくなったときにはすぐに手放さないといけないということが分かります。忘れていると、すぐに塩漬け株でいっぱいになってしまいます。 市場本位 取引する銘柄を選択するときは、自分が気に入っているからという理由で選ぶのではなく、市場の動向に合わせて判断します。 相場は一人の好みによって動かされることはありません。 常に市場の参加者全員の動きを意識すること。 市場規模を見極める 企業への投資を行うときは、その市場の規模を見極め、どれほどの伸びを期待できるかがポイントになります。同業者がたくさんいる場合は、その中でどれほどのシェアを獲得できるかを考えなければいけません。市場ニーズのないところに利益は見出せません。 例えば、2015 年の市場規模は、およそ下記のような構成になっています。 自動車 60 兆円 建設 50 兆円 医療 40 兆円 外食 25 兆円 電力 20 兆円 買い、売りのどちらでエントリーするかを間違えない トレードの最も基本的な戦略は、トレンドに乗るということです（トレンドフォロー）。上昇トレンドであれば買いから入り、下降トレンドであれば売りから入ることで利益を出しやすくなります。トレンドを見るときは、自分がどのようなスタイルでトレードをしているかによってチャートの期間を決めます。例えばデイトレードであれば 4 時間足などでトレンドを把握します。そして、買いから入るか、売りから入るかを見極め、より短い 5 分足などでエントリポイントを確定します。 市場が活発になる時間帯を狙う 9:00〜11:00: 日本、中国 14:00〜18:00: イギリス、スイス、サウジアラビア 23:00〜24:00: アメリカ この時間帯は、各国の貿易企業が輸出入の外貨を確保するので、市場が動きやすくなります。 短期のトレードを行うつもりなのであれば、ある程度値動きのある、ボラティリティの高い時間帯を狙わなければ時間の無駄です。 最新のおすすめ投資関連書籍"},{url:"/p/bu7hs3d/",title:"MetaTrader を Mac OSX にインストールする（PlayOnMac を使う方法）",date:"2014-11-15T00:00:00Z",body:"MetaTrader を Mac OSX にインストールする（PlayOnMac を使う方法） MetaTrader4 や MetaTrader5 は Windows 用のソフトウェアしか開発されていません。 PlayOnMac というソフトウェアをインストールすると、Mac OSX 上で MetaTrader を動作させることができます。 PlayOnMac をダウンロードしてインストール http://www.playonmac.com/ 途中で XQuartz のインストールも必要だよと言われるので、指示に従ってインストールします。 MetaTrader4 あるいは MetaTrader5 のインストーラでインストール http://www.metatrader4.com/ http://www.metatrader5.com/ ダウンロードするのは Windows 用のインストーラ (.exe) で大丈夫です。 そのインストーラを起動すると、自動的に PlayOnMac 上でのインストールが開始されます。 インストールが終了するとアプリのショートカットを作成するダイアログが開くので、 MetaTrader の本体である terminal.exe のショートカットを作成しておきます。 これで Mac のデスクトップに terminal.app アイコンが表示され、簡単に起動できるようになります。 示される手順に従っていくだけで簡単にインストールは終了しますが、より詳しい手順を知りたい場合は、下記のサイトが参考になります。 MetaTrader 5 on Mac OS - MQL5 Articles"},{url:"/p/a2hwcq5/",title:"MetaTrader を Mac OSX にインストールする（XM の Mac 用インストーラを使う方法）",date:"2014-11-15T00:00:00Z",body:"MetaTrader を Mac OSX にインストールする（XM の Mac 用インストーラを使う方法） XM.com では、Mac OSX 用の MetaTrader4 を配布しているので、簡単に Mac OSX 上で動作する環境を構築できます。 http://www.xm.com/jp/metatrader-mac ログイン先のサーバは、XM.com 以外（AlpariJapan-Demo-1 など）からも選択できるので、自分が作成したデモアカウントのサーバを使うようにします。"},{url:"/p/fiw9h5z/",title:"読書メモ『成長株投資の神』マーク・ミネルヴィニ",date:"0001-01-01T00:00:00Z",body:"読書メモ『成長株投資の神』マーク・ミネルヴィニ 成長株投資の神 (ウィザードブックシリーズ) マーク・ミネルヴィニ パンローリング株式会社 概要 米最高峰の成長株投資家が一堂に会して質問に答えた！ 実際にトレードを行なっているあらゆるレベルの人たちから寄せられた、あらゆる角度からの130の質問に、アメリカ最高のモメンタム投資家4人が隠すことなく赤裸々に四者四様に答える！ マーク・ミネルヴィニ 6年で3万6000％のリターン（年平均リターンは220％）をたたき出し、その間に出した損失は1回の四半期だけだった。 USインベスティング・チャンピオンシップに出場した時は、155％のリターンを上げて優勝した。 彼はジャック・シュワッガーの『マーケットの魔術師【株式編】《増補版》』 （パンローリング）で取り上げられた。 また、ベストセラーの『ミネルヴィニの成長株投資法 — 高い先導株を買い、より高値で売りぬけろ』 （パンローリング）の著者でもある。 デビッド・ライアン 伝説的なウィリアム・オニールの弟子で、オニール社の元マネーマネジャーである。 USインベスティング・チャンピオンシップで3年連続優勝して、毎年3桁のリターンを記録し、総リターンは1370％に達した。 彼はジャック・シュワイガーの『マーケットの魔術師 － 米トップトレーダーが語る成功の秘訣』 （パンローリング）で取り上げられた。 ダン・ザンガー 1990年代後半のわずか18ヵ月で、1万775ドルを1800万ドルにした。 彼の口座は2年で4200万ドルにまで膨らんだ！ フォーチュン誌は2000年12月に彼についての詳細な記事を載せ、コックピットでトレードをしているかのような彼のスタイルを、「シンセサイザーで囲まれたロックキーボード奏者」と称した。 マーク・リッチー二世 『God in the Pits』『My Trading Bible』を著して『マーケットの魔術師』にも取り上げられたマーク・リッチーの息子である。 投資界では比較的に若手のほうだが、スターぞろいの本書の顔ぶれに加わった有力なトレーダーだ。 2010年にマーク・ミネルヴィニが主催したトリプル・ディジット・チャレンジに参加して、6ヵ月足らずで100％以上のリターンを達成した。 そのとき以来、彼の口座の評価額は540％増えていて、2014年だけでも110％増えた。 本書で主として取り上げられているトピックは次のとおりである。 チャート分析 ファンダメンタルズ 仕掛けの基準 適切なポジションサイズ 毎日決まってやること トレード管理 市場全般 心理など 今までだれにも聞けなかったけれど、ぜひ聞いてみたかったこと、今さら聞けないと思っていたこと、どうしても分からなかったことなど、基本的な質問から高度な疑問までを、あらゆるレベルの投資家にやさしく分かりやすい言葉で答えてくれている！"},{url:"/p/hv33tqx/",title:"TradeStation/ショウミー/WA-New Low for Month（1ヶ月基準の安値更新）",date:"0001-01-01T00:00:00Z",body:"TradeStation/ショウミー/WA-New Low for Month（1ヶ月基準の安値更新） WA-New Low for Month { Search Tag: WA-New Low for Month } variables: LowestLo( 0 ) ; { tick, second, minute, daily or weekly bars } if BarType &lt; 4 or BarType = 14 then begin if Month( Date ) &lt;&gt; Month( Date[1] ) then LowestLo = Low else if Low &lt; LowestLo then begin Plot1( Low, !( &#34;NewLo-M&#34; ) ) ; Alert ; LowestLo = Low ; end ; end ; Copyright © TradeStation Technologies, Inc. All Rights Reserved TradeStation reserves the right to modify or overwrite this analysis technique with each release."},{url:"/p/g5cf6h5/",title:"TradeStation/ショウミー/WA-New High for Month（1ヶ月基準の高値更新）",date:"0001-01-01T00:00:00Z",body:"TradeStation/ショウミー/WA-New High for Month（1ヶ月基準の高値更新） WA-New High for Month { Search Tag: WA-New High for Month } variables: HighestHi( 0 ) ; { if tick, second, minute, daily or weekly bars } if BarType &lt; 4 or BarType = 14 then begin if Month( Date ) &lt;&gt; Month( Date[1] ) then HighestHi = High else if High &gt; HighestHi then begin Plot1( High, !( &#34;NewHi-M&#34; ) ) ; Alert ; HighestHi = High ; end ; end ; Copyright © TradeStation Technologies, Inc. All Rights Reserved TradeStation reserves the right to modify or overwrite this analysis technique with each release."},{url:"/p/cj9pmsn/",title:"TradeStation/ショウミー/WA-New Low for Year（1年間基準の安値更新）",date:"0001-01-01T00:00:00Z",body:"TradeStation/ショウミー/WA-New Low for Year（1年間基準の安値更新） WA-New Low for Year { Search Tag: WA-New Low for Year } variables: LowestLo( 0 ) ; { tick, second, minute, daily, weekly or monthly bars } if BarType &lt; 5 or BarType = 14 then begin if Year( Date ) &lt;&gt; Year( Date[1] ) then LowestLo = Low else if Low &lt; LowestLo then begin Plot1( Low, !( &#34;NewLo-Y&#34; ) ) ; Alert ; LowestLo = Low ; end ; end ; Copyright © TradeStation Technologies, Inc. All Rights Reserved TradeStation reserves the right to modify or overwrite this analysis technique with each release."},{url:"/p/feg7f8k/",title:"TradeStation/ショウミー/WA-New High for Year（1年間基準の高値更新）",date:"0001-01-01T00:00:00Z",body:"TradeStation/ショウミー/WA-New High for Year（1年間基準の高値更新） WA-New High for Year { Search Tag: WA-New High for Year } variables: HighestHi( 0 ) ; { tick, second, minute, daily, weekly or monthly bars } if BarType &lt; 5 or BarType = 14 then begin if Year( Date ) &lt;&gt; Year( Date[1] ) then HighestHi = High else if High &gt; HighestHi then begin Plot1( High, !( &#34;NewHi-Y&#34; ) ) ; Alert ; HighestHi = High ; end ; end ; Copyright © TradeStation Technologies, Inc. All Rights Reserved TradeStation reserves the right to modify or overwrite this analysis technique with each release."},{url:"/p/oim95k9/",title:"TradeStation/ショウミー/WA-New Low for Week（1週間基準の安値更新）",date:"0001-01-01T00:00:00Z",body:"TradeStation/ショウミー/WA-New Low for Week（1週間基準の安値更新） WA-New Low for Week { Search Tag: WA-New Low for Week } variables: LowestLo( 0 ) ; if BarType &lt; 3 or BarType = 14 then { tick, second, minute or daily bars } begin if DayOfWeek( Date ) &lt; DayOfWeek( Date[1] ) then LowestLo = Low else if Low &lt; LowestLo then begin Plot1( Low, !( &#34;NewLo-W&#34; ) ) ; Alert ; LowestLo = Low ; end ; end ; Copyright © TradeStation Technologies, Inc. All Rights Reserved TradeStation reserves the right to modify or overwrite this analysis technique with each release."},{url:"/p/v54vmgz/",title:"TradeStation/ショウミー/WA-New High for Week（1週間基準の高値更新）",date:"0001-01-01T00:00:00Z",body:"TradeStation/ショウミー/WA-New High for Week（1週間基準の高値更新） WA-New High for Week { Search Tag: WA-New High for Week } variables: HighestHi( 0 ) ; if BarType &lt; 3 or BarType = 14 then { if tick, second, minute or daily bars } begin if DayOfWeek( Date ) &lt; DayOfWeek( Date[1] ) then HighestHi = High else if High &gt; HighestHi then begin Plot1( High, !( &#34;NewHi-W&#34; ) ) ; Alert ; HighestHi = High ; end ; end ; Copyright © TradeStation Technologies, Inc. All Rights Reserved TradeStation reserves the right to modify or overwrite this analysis technique with each release."},{url:"/p/7ak2wzi/",title:"3 つの財務諸表の関係",date:"0001-01-01T00:00:00Z",body:"3 つの財務諸表の関係 財務諸表は、上場企業であれば、四半期ごとに公開されることになっています。 四季報が 3 ヶ月に一度の発売なのも、この決算周期に合わせたものでしょう。 最新の財務諸表は、東京取引所グループの適時開示情報のページや、各企業の Web サイトの IR（Investor Relations、投資家向け広報） というページで誰で見ることができます。 これらの財務諸表を用いて、企業の財政状態や経営成績を分析することを企業分析（あるいは、財務分析、財務諸表分析、経営分析）といいます。 有名な投資家であるウォーレン・バフェット氏も、この企業分析を重要視しています。 下記の図は、3 種類の財務諸表の関係を表しています。 矢印は、時間の流れだと思ってください。 貸借対照表 3 つの財務諸表のうち、貸借対照表だけは期間という概念を持たず、ある時点での財政状態のスナップショットを表します。 財政状態というのは、その瞬間の資産や負債の内訳を表します。 貸借対照表は瞬間的なスナップショットにすぎないので、どういった活動によってその財政状態になったのかを表現することができません。 損益計算書 損益計算書は、ある一定期間の間の損益の内訳を表します。つまり、2 つの貸借対照表の間で、どのような経済活動が行われたのかを表しています。 上記の図では、第1四半期決算と第2四半期決算の貸借対照表の変化が、損益計算書に記載されている経済活動（利益と損失）によりもたらされたことを示しています。 キャッシュフロー計算書 キャッシュフローも損益計算書と同様に、一定期間の変化を表すものですが、こちらは特にキャッシュ（現金および現金同等物）の増減に着目して作成されるものです。 固定資産をたくさん持っていても、キャッシュがなくなってしまえば企業は倒産してしまうので、その企業がどのようにお金を工面しているかを知ることは大切です。 キャッシュフロー計算書では、借金をして現金を増やしたということや、資産を購入することで現金を減らしたということがわかるようになっています。"},{url:"/p/bwzvvd9/",title:"TradeStation/ショウミー/WA-New N-Day HiLo（N日間高値・安値）",date:"0001-01-01T00:00:00Z",body:"TradeStation/ショウミー/WA-New N-Day HiLo（N日間高値・安値） WA-New N-Day HiLo { Search Tag: WA-New N-Day HiLo } { 1. DESIGNED FOR USE WITH INTRADAY CHARTS ONLY. 2. NOT DESIGNED TO UPDATE AT EVERY TICK. 3. CAN BE USED AS A VALIDATION TOOL FOR THE RADARSCREEN INDICATORS: NEW N-DAY HIGH NEW N-DAY LOW This ShowMe will plot the N-day high-low channel as lines and also plot any new highs/ lows as ShowMe&#39;s. Only the first new highs/lows of the day are recognized and plotted. The QualDays inputs can be used to &#34;disqualify&#34; N-day highs/lows - or extremes - that are too close to the ends of their N-day periods. The disqualification is for a day at a time, and may be temporary, i.e., the same extreme, if it holds for another day, may qualify for that day. This ShowMe plots qualified segments of the high-low channel lines in a wider width, and new highs/lows across &#34;disqualified&#34; segments are not recognized and not plotted as ShowMe&#39;s. Qualification example - If NumDays = 21, NewQualDays = 5 and OldQualDays = 3, it means you are looking for the first new 21-day high (low) in at least 5 days, where the previous 21-day high (low) was also the highest high (lowest low) in at least 3 days when it occurred. In other words, not only are you looking for a new extreme, you are comparing it a previous extreme that clearly stands out on the chart. } inputs: NumDays( 7 ) [DisplayName = &#34;NumDays&#34;, ToolTip = &#34;Number of Days. Enter the number of preceding days used to determine a new High and Low.&#34;], NewQualDays( 0 ) [DisplayName = &#34;NewQualDays&#34;, ToolTip = &#34;New Qualification Days. Enter the number of days used to disqualify N-day highs and lows, or extremes, that are too close to the ends of their N-day periods.&#34;], OldQualDays( 0 ) [DisplayName = &#34;OldQualDays&#34;, ToolTip = &#34;Old Qualification Days. Enter the number of days used to disqualify N-day highs and lows, or extremes, that are too close to the ends of their N-day periods.&#34;] ; variables: { ReturnValue is used for calling both RS_DailyDataArray and RS_Extremes because the value requires no further checking and both functions always return 1 } ReturnValue( 0 ), Index( 0 ), oPrevHighest( 0 ), oPrevHighestDay( 0 ), oPrevLowest( 0 ), oPrevLowestDay( 0 ), StartDay( 0 ), QualHi( false ), QualLo( false ), PrevNewHiDate( 0 ), PrevNewLoDate( 0 ) ; arrays: DataArray[ 12, 100 ]( 0 ), SubArray[3]( 0 ) ; ReturnValue = RS_DailyDataArray( NumDays, DataArray, Index, SubArray ) ; if CurrentBar = 1 or Date &lt;&gt; Date[1] then begin ReturnValue = RS_Extremes( NumDays, DataArray, Index, oPrevHighest, oPrevHighestDay, oPrevLowest, oPrevLowestDay ) ; StartDay = NumDays - OldQualDays ; QualHi = oPrevHighestDay &lt;= StartDay and oPrevHighestDay &gt; NewQualDays ; QualLo = oPrevLowestDay &lt;= StartDay and oPrevLowestDay &gt; NewQualDays ; end ; { IffLogic in following code tests to make sure that any new N-day high or low identified during the post buffer portion of the day straddling CurrentBar = 1 is the first new high/low for the day } if QualHi and High &gt; oPrevHighest and IffLogic( DataArray[ 12, Index ] = SubArray[3], SubArray[1] &lt;= oPrevHighest, true ) then begin if Date &lt;&gt; PrevNewHiDate then Plot1( High, !( &#34;NewNDayHi&#34; ) ) ; PrevNewHiDate = Date ; end else if QualLo and Low &lt; oPrevLowest and IffLogic( DataArray[ 12, Index ] = SubArray[3], SubArray[2] &gt;= oPrevLowest, true ) then begin if Date &lt;&gt; PrevNewLoDate then Plot2( Low, !( &#34;NewNDayLo&#34; ) ) ; PrevNewLoDate = Date ; end ; Plot3( oPrevHighest, !( &#34;HiLine&#34; ) ) ; Plot4( oPrevLowest, !( &#34;LoLine&#34; ) ) ; if QualHi then SetPlotWidth( 3, 2 ) ; if QualLo then SetPlotWidth( 4, 2 ) ; Copyright © TradeStation Technologies, Inc. All Rights Reserved TradeStation reserves the right to modify or overwrite this analysis technique with each release."},{url:"/p/vnrcxmf/",title:"TradeStation/アクティビティバー",date:"0001-01-01T00:00:00Z",body:"TradeStation/アクティビティバー"},{url:"/p/bgcy4nq/",title:"TradeStation/ショウミー/WA-Inside Bar（インサイドバー）",date:"0001-01-01T00:00:00Z",body:"TradeStation/ショウミー/WA-Inside Bar（インサイドバー） WA-Inside Bar { Search Tag: WA-Inside Bar } { This ShowMe study identifies bars that meet the following conditions: 1. the PriceH of 1 bar ago is greater than the PriceH of the current bar,AND 2. the PriceL of 1 bar ago is less than the PriceL of the current bar. The NoPlot statement in the code is used to remove the ShowMe marker in the case where the update intrabar setting is checked and the Inside Bar condition is no longer true. } inputs: double PriceH( High ) [DisplayName = &#34;PriceH&#34;, ToolTip = &#34;Price High. Enter an EasyLanguage expression. The value of this expression will be used to determine whether the high criteria for an inside bar is met.&#34;], double PriceL( Low ) [DisplayName = &#34;PriceL&#34;, ToolTip = &#34;Price Low. Enter an EasyLanguage expression. The value of this expression will be used to determine whether the low criteria for an inside bar is met.&#34;], double PlotPrice( Close ) [DisplayName = &#34;PlotPrice&#34;, ToolTip = &#34;Enter the value at which the ShowMe marker is to be plotted.&#34;] ; if InsideBar( PriceH, PriceL ) then begin Plot1( PlotPrice, !( &#34;Inside&#34; ) ) ; Alert( !( &#34;Inside Bar&#34; ) ) ; end else { if update intrabar is selected and the Inside Bar condition is no longer true, remove the marker } NoPlot( 1 ) ; Copyright © TradeStation Technologies, Inc. All Rights Reserved TradeStation reserves the right to modify or overwrite this analysis technique with each release."},{url:"/p/fifwwmv/",title:"TradeStation/ショウミー/WA-Custom ShowMe（カスタムショウミー）",date:"0001-01-01T00:00:00Z",body:"TradeStation/ショウミー/WA-Custom ShowMe（カスタムショウミー） WA-Custom ShowMe { Search Tag: WA-Custom ShowMe } inputs: Criteria( High &lt; High[1] and Low &gt; Low[1] ) [DisplayName = &#34;Criteria&#34;, ToolTip = &#34;Enter the criteria to be evaluated on each bar. The expression must evaluate to true or false.&#34;], PlotPrice( Close ) [DisplayName = &#34;PlotPrice&#34;, ToolTip = &#34;Enter the price at which the ShowMe marker is to be plotted.&#34;], AlertMessage( &#34;&#34; ) [DisplayName = &#34;AlertMessage&#34;, ToolTip = &#34;Enter the text to be displayed when the expression in the Criteria input evaluates to true.&#34;] ; if Criteria then begin Plot1( PlotPrice, !( &#34;CustomSM&#34; ) ) ; Alert( AlertMessage ) ; end else NoPlot( 1 ) ; { remove the marker if Criteria is no longer true, intrabar } Copyright © TradeStation Technologies, Inc. All Rights Reserved TradeStation reserves the right to modify or overwrite this analysis technique with each release."},{url:"/p/svys7uo/",title:"キャッシュフロー計算書の読み方",date:"0001-01-01T00:00:00Z",body:"キャッシュフロー計算書の読み方 財務諸表のひとつであるキャッシュフロー計算書は、その名の通り、現金の流れを示したものです。 損益計算書と同様、ある期間内の活動内容が示されます。 損益計算書の記載には主観が入りやすいという不安定要素がありますが、このキャッシュフロー計算書には現金の流れが素直に現れてくるため、企業の財務体質を読み解いていく際に、最初に見ておきたいところです。 キャッシュフローは、下記の 3 種類に分けて表記され、それぞれの活動においてのキャッシュの増減が示されます。 ある活動にお金を使用してキャッシュが出て行ったことを示す場合は、マイナスを示す △ 記号が付けられます（例: △120）。 営業活動によるキャッシュフロー 投資活動によるキャッシュフロー 財務活動によるキャッシュフロー 営業キャッシュフロー 営業キャッシュフローは、本業でどれだけのキャッシュを稼いでいるかを示します。 つまり、プラスであればあるほどよいものです。 営業キャッシュフローが毎年コンスタントに増加している企業は、事業が順調に成長していることを示しており、投資先の候補として考えられます。 ただし、純利益が営業キャッシュフローを上回っているような場合は、何か特殊なことをしている可能性があるため注意が必要です。 必ず、毎年の純利益と照らし合わせて確認するようにしましょう。 投資キャッシュフロー 投資キャッシュフローの欄には、設備の増強のために使った資金や、他社を買収するための M&amp;A 資金が示されます。 将来のために投資しているわけですから、投資キャッシュフローは通常マイナスになりますが、設備や有価証券などの資産を売却することによってプラスになることもあります。 順調に成長している企業は、投資キャッシュフローがマイナスで、営業キャッシュフローはプラスになっています。 問題は投資キャッシュフローの大きさですが、営業キャッシュフローのプラスの範囲内で投資をしているのであれば、成長に見合った投資をしていると捉えることができます。 営業キャッシュフローのプラスに比べて、投資キャッシュフローのマイナスが極端に多い場合は、将来のために何らかの勝負をかけているタイミングだということが分かります。 投資キャッシュフローには、M&amp;A のための資金も含まれることに注意してください。 企業が成長しきって、それ以上の成長が見込めない場合、M&amp;A を行うことで利益を伸ばそうとすることがあります。 M&amp;A がよいか悪いかは一概に言えませんが、その企業自信が成長するための設備投資などとは性質が異なることに注意しましょう。 投資キャッシュフローを見るときは、自社の投資のために使用した資金なのか、他社を買収するために使用した資金なのかを把握しておく必要があります。 有価証券の売買によるキャッシュの流れも投資キャッシュフローに含まれます。 株を購入すれば投資キャッシュフローはマイナス、株を売却すれば投資キャッシュフローはプラスになります。 財務キャッシュフロー 財務キャッシュフローには、借金の返済や、株主への配当金の支払いなどによるキャッシュの増減が示されます。 最初はちょっと戸惑うかもしれませんが、借金をすると財務キャッシュフローはプラスになります（借りた分だけキャッシュが入ってくるため）。 借金を返済すると、財務キャッシュフローはマイナスになります。 投資キャッシュフローと財務キャッシュフローのマイナスが、営業キャッシュフローによるプラスの範囲内に収まっている場合は、健全な財務活動が行えていると言えます。 健全なキャッシュフローの例 営業キャッシュフロー100 投資キャッシュフロー△50 財務キャッシュフロー△35 逆に、営業キャッシュフローのプラスが小さいのにもかかわらず大きな投資を行っている場合は、借金をして投資を行っていることになります。 その投資が、借金に見合うだけの価値があるのか、見極めが重要になってきます。 要注意なキャッシュフローの例 営業キャッシュフロー10 投資キャッシュフロー△50 財務キャッシュフロー40 増資や、社債の発行により集めたお金も、財務キャッシュフローのプラスとして計算します。 現金及び現金同等物の増減額 上記 3 つのキャッシュフローを足し引きしてプラスが残った場合は、企業の蓄えとして現金が増えたということになります。逆に、3 つのキャッシュフローの合計がマイナスの場合は、現金が減ったということになります。 企業の蓄えとしての現金の増減は、現金及び現金同等物の増減額という項目として表示されます。 つまりこういうことです。 営業CF &#43; 投資CF &#43; 財務CF = 現金及び現金同等物の増減額 将来のためにある程度の内部留保は重要ですが、単純に現金を持っているだけでは企業の成長には直結しません。 投資家の要望に答えるために、投資活動に資金をまわしたり、配当などによって株主還元を行うことになります。"},{url:"/p/s2utkg9/",title:"TradeStation/ショウミー/WA-Gap Up Bar（ギャップアップ足）",date:"0001-01-01T00:00:00Z",body:"TradeStation/ショウミー/WA-Gap Up Bar（ギャップアップ足） WA-Gap Up Bar { Search Tag: WA-Gap Up Bar } if Low &gt; High[1] then begin Plot1( High, !( &#34;GapUp&#34; ) ) ; Alert ; end else NoPlot( 1 ) ; { remove the marker } Copyright © TradeStation Technologies, Inc. All Rights Reserved TradeStation reserves the right to modify or overwrite this analysis technique with each release."},{url:"/p/9cpecds/",title:"TradeStation/ショウミー/WA-Gap Dn Bar（ギャップダウン足）",date:"0001-01-01T00:00:00Z",body:"TradeStation/ショウミー/WA-Gap Dn Bar（ギャップダウン足） WA-Gap Dn Bar { Search Tag: WA-Gap Dn Bar } if High &lt; Low[1] then begin Plot1( Low, !( &#34;GapDn&#34; ) ) ; Alert ; end else NoPlot( 1 ) ; { remove the marker } Copyright © TradeStation Technologies, Inc. All Rights Reserved TradeStation reserves the right to modify or overwrite this analysis technique with each release."},{url:"/p/9rprgvq/",title:"TradeStation/ショウミー",date:"0001-01-01T00:00:00Z",body:"TradeStation/ショウミー"},{url:"/p/rksopqr/",title:"TradeStation/ショウミー/WA-C_Harami Cross（はらみ寄せ線）",date:"0001-01-01T00:00:00Z",body:"TradeStation/ショウミー/WA-C_Harami Cross（はらみ寄せ線） WA-C_Harami Cross { Search Tag: WA-C_Harami Cross } { Reference: Gregory L. Morris, &#34;CandlePower&#34; (Probus Publishing Company, 1992) This study identifies the bullish and bearish Harami Cross (harami yose sen) candlestick patterns. } inputs: double Price( Close ) [DisplayName = &#34;Price&#34;, ToolTip = &#34;Enter an EasyLanguage expression. This value is used to determine trend.&#34;], double TrendAvgLength( 14 ) [DisplayName = &#34;TrendAvgLength&#34;, ToolTip = &#34;Trend Average Length. Enter the number of bars to use in the moving average that is used to determine trend.&#34;], double BodyAvgLength( 14 ) [DisplayName = &#34;BodyAvgLength&#34;, ToolTip = &#34;Body Average Length. Enter the number of bars to use in the moving average that is used to determine average body size.&#34;], double DojiPercent( 5 ) [DisplayName = &#34;DojiPercent&#34;, ToolTip = &#34;Doji Percent. Enter the maximum percentage of the bar&#39;s range that the body may be.&#34;], double BearishPlotPrice( Low ) [DisplayName = &#34;BearishPlotPrice&#34;, ToolTip = &#34;Enter the price at which to plot a dot when a bearish harami cross pattern is found.&#34;], double BullishPlotPrice( High ) [DisplayName = &#34;BullishPlotPrice&#34;, ToolTip = &#34;Enter the price at which to plot a dot when a bullish harami cross pattern is found.&#34;], bool ColorCellBGOnAlert( true ) [DisplayName = &#34;ColorCellBGOnAlert&#34;, ToolTip = &#34;Color Cell Background On Alert. Enter true to color RadarScreen cell background when alert occurs; enter false to not color cell background.&#34;], int BackgroundColorAlertCell( DarkGray ) [DisplayName = &#34;BackgroundColorAlertCell&#34;, ToolTip = &#34;Enter the color to use for RadarScreen cell background when alert occurs.&#34;] ; variables: intrabarpersist bool InAChart( false ), int HaramiCrossValue( 0 ), intrabarpersist bool OkToCountTop( false ), intrabarpersist bool OkToCountBot( false ), { variable to hold the count of the number of bars ago that the most recent bearish Harami Cross candlestick pattern was detected } int NumBarsSinceBearish( 0 ), { variable to hold the count of the number of bars ago that the most recent bullish Harami Cross candlestick pattern was detected } int NumBarsSinceBullish( 0 ) ; once begin InAChart = GetAppInfo( aiApplicationType ) = cChart ; end ; HaramiCrossValue = C_HaramiCross( Price, TrendAvgLength, BodyAvgLength, DojiPercent ) ; if HaramiCrossValue &lt;&gt; 0 then { Harami Cross pattern detected } begin if HaramiCrossValue = 1 then { bullish Harami Cross pattern } begin { once the pattern is detected, set OkToCountBot variable to true to start counting bars since the pattern was detected } once OkToCountBot = true ; { reset the counter that counts the number of bars since the most recent bullish Harami Cross pattern was detected } NumBarsSinceBullish = 0 ; if InAChart then { if not in a Chart, plots are created below } Plot1( BullishPlotPrice, !( &#34;HCBull&#34; ) ) ; if ColorCellBGOnAlert then SetPlotBGColor( 1, BackgroundColorAlertCell ) ; Alert( !( &#34;Bullish Harami Cross pattern.&#34; ) ) ; end else if HaramiCrossValue = -1 then { bearish Harami Cross pattern } begin { once the pattern is detected, set OkToCountTop variable to true to start counting bars since the pattern was detected } once OkToCountTop = true ; { reset the counter that counts the number of bars since the most recent bearish Harami Cross pattern was detected } NumBarsSinceBearish = 0 ; if InAChart then { if not in a Chart, plots are created below } Plot2( BearishPlotPrice, !( &#34;HCBear&#34; ) ) ; if ColorCellBGOnAlert then SetPlotBGColor( 2, BackgroundColorAlertCell ) ; Alert( !( &#34;Bearish Harami Cross pattern.&#34; ) ) ; end ; end else { no Harami Cross pattern } begin if OkToCountTop then NumBarsSinceBearish += 1 ; { increment the count } if OkToCountBot then NumBarsSinceBullish += 1 ; { increment the count } end ; if InAChart = false then { in grid application } begin if OkToCountBot then Plot1( NumBarsSinceBullish, !( &#34;HCBull&#34; ) ) ; if OkToCountTop then Plot2( NumBarsSinceBearish, !( &#34;HCBear&#34; ) ) ; end ; Copyright © TradeStation Technologies, Inc. All Rights Reserved TradeStation reserves the right to modify or overwrite this analysis technique with each release."},{url:"/p/qawfte2/",title:"TradeStation/ショウミー/WA-C_BullHar_BearHar（はらみ線）",date:"0001-01-01T00:00:00Z",body:"TradeStation/ショウミー/WA-C_BullHar_BearHar（はらみ線） WA-C_BullHar_BearHar { Search Tag: WA-C_BullHar_BearHar } { Candlestick ShowMe } inputs: Length( 14 ) [DisplayName = &#34;Length&#34;, ToolTip = &#34;Enter the number of bars to use in the moving averages used to determine trend and average body size.&#34;] ; variables: ReturnValue( 0 ), oBullishHarami( 0 ), oBearishHarami( 0 ) ; ReturnValue = C_BullHar_BearHar( Length, oBullishHarami, oBearishHarami ) ; if oBullishHarami = 1 then begin Plot1( High, !( &#34;BullHar&#34; ) ) ; Alert( !( &#34;BullishHarami&#34; ) ) ; end else if oBearishHarami = 1 then begin Plot2( Low, !( &#34;BearHar&#34; ) ) ; Alert( !( &#34;BearishHarami&#34; ) ) ; end ; Copyright © TradeStation Technologies, Inc. All Rights Reserved TradeStation reserves the right to modify or overwrite this analysis technique with each release."},{url:"/p/fbpxvp3/",title:"TradeStation/アクティビティバー/Price Distribution（プライス・ディストリビューション）",date:"0001-01-01T00:00:00Z",body:"TradeStation/アクティビティバー/Price Distribution（プライス・ディストリビューション） WA-Price Distribution { Search Tag: WA-Price Distribution } { This study plots the basic ActivityBar, together with a value area zone based on standard deviations around the ActivityBar&#39;s mode price. } inputs: ApproxNumRows( 10 ) [DisplayName = &#34;ApproxNumRows&#34;, ToolTip = &#34;Aprroximate Number of Rows. Enter the approximate number of rows to use in the study.&#34;], CycleColors( true ) [DisplayName = &#34;CycleColors&#34;, ToolTip = &#34;Enter true to cycle colors from one cell group to the next; enter false to use only a single color for all cells.&#34;], DefaultColor( DarkGreen ) [DisplayName = &#34;DefaultColor&#34;, ToolTip = &#34;Enter the default color used in the ActivityBar study.&#34;], ModeType( -1 ) [DisplayName = &#34;ModeType&#34;, ToolTip = &#34;Enter 1 for highest mode, enter -1 for lowest mode.&#34;], ZoneNumDevs( 1 ) [DisplayName = &#34;ZoneNumDevs&#34;, ToolTip = &#34;Zone Number of Deviations. Enter the number of standard deviations on each side of mode price to be included in the AB Zone.&#34;] ; variables: CellGroupColor( 0 ), MinuteInterval( BarInterval of ActivityData ), CellGroupLabel( &#34;&#34; ), oModeCount( 0 ), oModePrice( 0 ), SDev( 0 ), ZoneHi( 0 ), ZoneLo( 0 ) ; AB_SetRowHeight( AB_RowHeightCalc( ApproxNumRows, 3 ) ) ; if CycleColors then CellGroupColor = AB_NextColor( MinuteInterval ) of ActivityData else CellGroupColor = DefaultColor ; if CellGroupColor = GetBackGroundColor then CellGroupColor = DefaultColor ; CellGroupLabel = AB_NextLabel( MinuteInterval ) of ActivityData ; Value1 = AB_AddCellRange( High of ActivityData, Low of ActivityData, RightSide, CellGroupLabel, CellGroupColor, 0 ) ; Value2 = AB_Mode( RightSide, ModeType, oModeCount, oModePrice ) ; SDev = AB_StdDev( ZoneNumDevs, RightSide ) ; ZoneHi = MinList( AB_High, oModePrice + SDev ) ; if ZoneHi = 0 then { ie, if oModePrice + SDev = 0 } ZoneHi = AB_High ; ZoneLo = MaxList( AB_Low, oModePrice - SDev ) ; { if oModePrice - SDev = 0 then ZoneLo = Low, so don&#39;t need a check here } AB_SetZone( ZoneHi, ZoneLo, RightSide ) ; Copyright © TradeStation Technologies, Inc. All Rights Reserved TradeStation reserves the right to modify or overwrite this analysis technique with each release."},{url:"/p/c2qkjx3/",title:"TradeStation/アクティビティバー/WA-Volume Distribution（ボリューム・ディストリビューション）",date:"0001-01-01T00:00:00Z",body:"TradeStation/アクティビティバー/WA-Volume Distribution（ボリューム・ディストリビューション） WA-Volume Distribution { Search Tag: WA-Volume Distribution } { This study plots a modified ActivityBar, with each ActivityData bar being processed either once or not at all depending on whether its volume is above or below the specified BlockSize. If BlockSize is set to zero, each ActivityData bar is processed, resulting in the basic ActivityBar plot of the Price Distribution ActivityBar study. } inputs: ApproxNumRows( 10 ) [DisplayName = &#34;ApproxNumRows&#34;, ToolTip = &#34;Aprroximate Number of Rows. Enter the approximate number of rows to use in the study.&#34;], CycleColors( true ) [DisplayName = &#34;CycleColors&#34;, ToolTip = &#34;Enter true to cycle colors from one cell group to the next.&#34;], DefaultColor( DarkGreen ) [DisplayName = &#34;DefaultColor&#34;, ToolTip = &#34;Enter the default color used in the ActivityBar study.&#34;], BlockSize( 100 ) [DisplayName = &#34;BlockSize&#34;, ToolTip = &#34;Enter the volume increment for calibrating candlestick body width.&#34;] ; variables: MinuteInterval( BarInterval of ActivityData ), CellGroupColor( 0 ), CellGroupLabel( &#34;&#34; ), AnyVol( 0 ) ; AB_SetRowHeight( AB_RowHeightCalc( ApproxNumRows, 3 ) ) ; if BarType of ActivityData &gt;= 2 then { ie, not minute data } AnyVol = Volume of ActivityData else { if minute data } AnyVol = Ticks of ActivityData ; if CycleColors then CellGroupColor = AB_NextColor( MinuteInterval ) of ActivityData else CellGroupColor = DefaultColor ; if CellGroupColor = GetBackGroundColor then CellGroupColor = DefaultColor ; CellGroupLabel = AB_NextLabel( MinuteInterval ) of ActivityData ; if AnyVol &gt;= BlockSize then Value1 = AB_AddCellRange( High of ActivityData, Low of ActivityData, RightSide, CellGroupLabel, CellGroupColor, 0 ) ; Copyright © TradeStation Technologies, Inc. All Rights Reserved TradeStation reserves the right to modify or overwrite this analysis technique with each release."},{url:"/p/o2gwbex/",title:"投資関連リンク集",date:"0001-01-01T00:00:00Z",body:"投資関連リンク集 重要サイト 取引について学ぶ: JPX: 日本取引所グループ 税金について学ぶ: 国税庁 - タックスアンサー / 財務省ホームページ データ系のサイト 信用取引残高: 信用取引残高等 | 日本取引所グループ 通常の銘柄は 1 週間おきに公表 → 銘柄別信用取引週末残高 貸株注意喚起銘柄は毎日 16:00 頃に公表 → 個別銘柄信用取引残高表 （参考）日々公表銘柄に指定とは 経済指標: 外為どっとコム / SBI 証券 / セントラル短資FX 政策金利: 外為どっとコム 日経平均プロフィル 日経の指数公式サイト。 路線価: 国税庁 - 路線価図・評価倍率表 宅地の評価額は、この路線価を利用して計算されます。"},{url:"/p/p3omdnr/",title:"TradeStation/アクティビティバー/WA-Candlestick VolAccum（ローソク足出来高アキュムレーション）",date:"0001-01-01T00:00:00Z",body:"TradeStation/アクティビティバー/WA-Candlestick VolAccum（ローソク足出来高アキュムレーション） WA-Candlestick VolAccum { Search Tag: WA-Candlestick VolAccum } { This study plots an ActivityBar that simulates a candlestick, with the width of the candlestick body varying in proportion to the volume of the ActivityBar. } using elsystem.drawing; using elsystem.drawingobjects; inputs: BlockSize( 100 ) [DisplayName = &#34;BlockSize&#34;, ToolTip = &#34;Enter the amount of volume that will cause the width of the candlestick to be increased.&#34;], MaxNumCells( 100 ) [DisplayName = &#34;MaxNumCells&#34;, ToolTip = &#34;Maximum Number of Cells. Enter the maximum number of cells that can be added to each side of the bar.&#34;], UpColor( Magenta ) [DisplayName = &#34;UpColor&#34;, ToolTip = &#34;Enter the color to use when the close is greater than the open.&#34;], DnColor( Yellow ) [DisplayName = &#34;DnColor&#34;, ToolTip = &#34;Down Color. Enter the color to use when the close is less than the open.&#34;]; variables: TrendLine varTrendLine( NULL ), Counter( 0 ), BStatus1Prev( 0 ), BStatus1( 0 ), Remainder( 0 ), FirstOpen( 0 ), UnprocessedVol( 0 ), RawNumCells( 0 ), NumCells( 0 ), TLRef( 0 ), AnyVol( 0 ); method Trendline CreateTrendline() variables: TrendLine tempTL; begin tempTL = Trendline.Create( DTPoint.Create( BarDateTime, Open ), DTPoint.Create( BarDateTime, Close ) ); { Setting &#39;Persist&#39; to false causes the text label to be deleted on an intrabar tick. When set to false, a text label that is created on the closing tick of the bar is saved/retained. } tempTL.Persist = false; tempTL.Lock = true; { prevent inadvertant moving } tempTL.ExtLeft = false; tempTL.ExtRight = false; tempTL.Weight = 2; if Close &gt; Open then tempTL.Color = GetColorFromInteger( 255, UpColor ) else if Close &lt; Open then tempTL.Color = GetColorFromInteger( 255, DnColor ); { this is how the Trendline is &#34;shown&#34;; the Trendline is added to the DrawingObjects collection; if you want to remove the Trendline, you can use the Delete method of the DrawingObjects class } DrawingObjects.Add( tempTL ); return tempTL; end; { convert integer color to a color object and return the color object } method Color GetColorFromInteger( int Alpha, int ColorInteger ) begin return Color.FromARGB( Alpha, GetRValue( ColorInteger ), GetGValue( ColorInteger ), GetBValue( ColorInteger ) ); end; BStatus1Prev = BStatus1; BStatus1 = BarStatus( 1 ); if BarType of ActivityData &gt;= 2 then { not minute data } AnyVol = Volume of ActivityData else { minute data } AnyVol = Ticks of ActivityData; { initialize ActivityBar } { ie, if beginning of act data stream (can&#39;t check if ActivityData&#39;s CB = 1 because act data stream does not start at CB = 1) or if first act data bar of new act bar } if ( CurrentBar of Data1 = 1 and BStatus1 = 2 ) or BStatus1Prev = 2 then begin Remainder = 0; FirstOpen = Open of ActivityData; AB_SetRowHeight( .5 ); { arbitrary; cells not displayed, see note below } end; { add &#34;hidden&#34; cells corresponding to additional volume } UnprocessedVol = Remainder + AnyVol; RawNumCells = IntPortion( UnprocessedVol / BlockSize ); Remainder = Mod( UnprocessedVol, BlockSize ); NumCells = MinList( RawNumCells, MaxNumCells ); for Counter = 1 to NumCells begin { these cells are arbitrarily added at FirstOpen; they can be added at any price as long as it stays constant for the entire ActivityBar; the cells and labels are not meant to be displayed (see study properties), but are used to control the width of the zone - or candlestick body - that will be plotted and displayed. } AB_AddCell( FirstOpen, RightSide, &#34;*&#34;, Yellow, 0 ); AB_AddCell( FirstOpen, LeftSide, &#34;*&#34;, Yellow, 0 ); end; { set/update zone representing candlestick body } AB_SetZone( FirstOpen, Close of ActivityData, RightSide ); AB_SetZone( FirstOpen, Close of ActivityData, LeftSide ); { if at last ActivityData bar of ActivityBar, paint the ActivityBar } if BStatus1 = 2 then begin varTrendLine = CreateTrendline(); end; Copyright © TradeStation Technologies, Inc. All Rights Reserved TradeStation reserves the right to modify or overwrite this analysis technique with each release."},{url:"/p/4wnw4rp/",title:"TradeStation/アクティビティバー/WA-Up vs Down Strength（上昇・下落ストレングス）",date:"0001-01-01T00:00:00Z",body:"TradeStation/アクティビティバー/WA-Up vs Down Strength（上昇・下落ストレングス） WA-Up vs Down Strength { Search Tag: WA-Up vs Down Strength } { This study is somewhat similar to the Volume Strength ActivityBar study. As in that study, it plots an ActivityBar in which each ActivityData bar is processed 0 or more times depending on its volume and the specified BlockSize divisor. If BlockSize is set to zero, each ActivityData bar is processed exactly once. The difference is that each time an ActivityData bar is processed, at most one cell is added instead of a range of cells: - if the ActivityData bar was an up bar, one cell is added to the right - if the ActivityData bar was a down bar, one cell is added to the left - if the ActivityData bar was unchanged, no cells are added } inputs: ApproxNumRows( 10 ) [DisplayName = &#34;ApproxNumRows&#34;, ToolTip = &#34;Aprroximate Number of Rows. Enter the approximate number of rows to use in the study. &#34;], BlockSize( 100 ) [DisplayName = &#34;BlockSize&#34;, ToolTip = &#34;Enter the volume divisor to determine the number of times to process an ActivityData bar.&#34;], MaxWeight( 15 ) [DisplayName = &#34;MaxWeight&#34;, ToolTip = &#34;Maximum Weight. Enter the maximum number of times an ActivityData bar can be processed.&#34;], UpColor( Cyan ) [DisplayName = &#34;UpColor&#34;, ToolTip = &#34;Enter the plot color to be used when the Close is greater than the Open.&#34;], DnColor( Red ) [DisplayName = &#34;DnColor&#34;, ToolTip = &#34;Down Color. Enter the plot color for the ActivityBar used when the Close is less than the Open.&#34;] ; variables: Counter( 0 ), MinuteInterval( BarInterval of ActivityData ), CellGroupLabel( &#34;&#34; ), RawWeight( 0 ), Weight( 0 ), Side( 0 ), Color( 0 ), AnyVol( 0 ) ; AB_SetRowHeight( AB_RowHeightCalc( ApproxNumRows, 3 ) ) ; if BarType of ActivityData &gt;= 2 then { ie, not minute data } AnyVol = Volume of ActivityData else { if minute data } AnyVol = Ticks of ActivityData ; CellGroupLabel = AB_NextLabel( MinuteInterval ) of ActivityData ; if Close of ActivityData &lt;&gt; Close[1] of ActivityData and AnyVol &gt;= BlockSize then begin if BlockSize &gt; 0 then RawWeight = IntPortion( AnyVol / BlockSize ) else RawWeight = 1 ; Weight = MinList( RawWeight, MaxWeight ) ; if Close of ActivityData &gt; Close[1] of ActivityData then begin Side = RightSide ; Color = UpColor ; end else begin Side = LeftSide ; Color = DnColor ; end ; for Counter = 1 to Weight begin AB_AddCell( Close of ActivityData, Side, CellGroupLabel, Color, 0 ) ; end ; end ; Copyright © TradeStation Technologies, Inc. All Rights Reserved TradeStation reserves the right to modify or overwrite this analysis technique with each release."},{url:"/p/8eemvwj/",title:"TradeStation/アクティビティバー/WA-Volume Strength（出来高強度）",date:"0001-01-01T00:00:00Z",body:"TradeStation/アクティビティバー/WA-Volume Strength（出来高強度） WA-Volume Strength { Search Tag: WA-Volume Strength } { This study plots a modified ActivityBar, with each ActivityData bar being processed 0 or more times depending on its volume and the specified BlockSize divisor. If BlockSize is set to zero, each ActivityData bar is processed exactly once, resulting in the basic ActivityBar plot of the Price Distribution ActivityBar study. } inputs: ApproxNumRows( 10 ) [DisplayName = &#34;ApproxNumRows&#34;, ToolTip = &#34;Approximate Number of Rows. Enter the approximate number of rows to use in the study.&#34;], CycleColors( true ) [DisplayName = &#34;CycleColors&#34;, ToolTip = &#34;Enter true to cycle colors from one cell group to the next.&#34;], DefaultColor( DarkGreen ) [DisplayName = &#34;DefaultColor&#34;, ToolTip = &#34;Enter the default color used in the ActivityBar study.&#34;], BlockSize( 100 ) [DisplayName = &#34;BlockSize&#34;, ToolTip = &#34;Enter the volume increment for calibrating candlestick body width.&#34;], MaxWeight( 5 ) [DisplayName = &#34;MaxWeight&#34;, ToolTip = &#34;Maximum Weight. Enter the maximum number of times an ActivityData bar can be processed.&#34;]; variables: MinuteInterval( BarInterval of ActivityData ), CellGroupColor( 0 ), CellGroupLabel( &#34;&#34; ), RawWeight( 0 ), Weight( 0 ), AnyVol( 0 ); AB_SetRowHeight( AB_RowHeightCalc( ApproxNumRows, 3 ) ); if BarType of ActivityData &gt;= 2 then { ie, not minute data } AnyVol = Volume of ActivityData else { if minute data } AnyVol = Ticks of ActivityData; if CycleColors then CellGroupColor = AB_NextColor( MinuteInterval ) of ActivityData else CellGroupColor = DefaultColor; if CellGroupColor = GetBackGroundColor then CellGroupColor = DefaultColor; CellGroupLabel = AB_NextLabel( MinuteInterval ) of ActivityData; if AnyVol &gt;= BlockSize then begin if BlockSize &gt; 0 then RawWeight = IntPortion( AnyVol / BlockSize ) else RawWeight = 1; Weight = MinList( RawWeight, MaxWeight ); for Value1 = 1 to Weight begin Value2 = AB_AddCellRange( High of ActivityData, Low of ActivityData, RightSide, CellGroupLabel, CellGroupColor, 0 ); end; end; Copyright © TradeStation Technologies, Inc. All Rights Reserved TradeStation reserves the right to modify or overwrite this analysis technique with each release."},{url:"/p/pf3cdym/",title:"各国の通貨一覧",date:"0001-01-01T00:00:00Z",body:"各国の通貨一覧 通貨シンボルと通貨名 流動性 国旗 シンボル 通貨名 通貨記号 通称 発言に注意すべき機関 主要通貨 A USD (US Dollar)米ドル $US ドル、アメリカドル、ダラーFOMC（連邦公開市場委員会） FRB（米連邦準備理事会） EUR (Euro)ユーロ €ユーロECB（欧州中央銀行） JPY (Japanese Yen)日本円 ¥円日本銀行 (BOJ) の金融政策決定会合 GBP (Great Britain Pound)英ポンド £ケーブル、スターリングイングランド銀行の MPC（金融政策員会） CHF (Swiss Franc)スイスフラン S₣スウィシースイス中央銀行 主要通貨 B AUD (Australian Dollar)豪ドル $オージーRBA（オーストラリア準備銀行） CAD (Canadian Dollar)カナダドル $キャンドル、キャン、キャナダ、ルーニーカナダ中央銀行 (The Bank of Canada) マイナー通貨 NZD (New Zealand Dollar)NZ ドル $キウイ（ニュージーランドの国鳥が KIWI であることから）ニュージーランド準備銀行 HKD (Hong Kong Dollar)香港ドル HK$ホンキー米国の FRB 金融政策に追従 ZAR (South African Rand)南アフリカランド Rザール南アフリカ中央銀行 SGD (SinGapore Dollar)シンガポールドル S$星ドル（セイドル） 主軸通貨と決済通貨 為替市場の通貨ペアの表記方法にはルールがあり、前者（主軸通貨）1 単位あたりが、後者（決済通貨）で買った場合にいくらになるか、という意味になります。例えば、「米ドル／日本円を 1 単位買い」、というのは、「1 ドル分を XX 円で買う」という意味になります。 どの通貨が主軸通貨となり得るかは歴史的に決まっており、日本円が主軸通貨になることはありません（必ず決済通貨として後ろに記述される）。逆に、ユーロや、英ポンドは主軸通貨になります。下記ような順位で主要通貨になると覚えておきましょう。 強い組: ユーロ、英ポンド、豪ドル、ニュージーランドドル 弱い組: 米ドル、カナダドル、スイスフラン、日本円 FX における主な通貨ペア 下記は、主な通貨ペアの例です。上記のルールで主軸通貨、決済通貨のペアが構成されていることが分かります。 USD／JPY： 米ドル／日本円 EUR／JPY： ユーロ／日本円 GBP／JPY： 英ポンド／日本円 CHF／JPY： スイスフラン／日本円 AUD／JPY： 豪ドル／日本円 CAD／JPY： カナダドル／日本円 NZD／JPY： ニュージーランドドル／日本円 ZAR／JPY： 南アフリカランド／日本円 CNY／JPY： 中国元／日本円 HKD／JPY： 香港ドル／日本円 KRW／JPY： 韓国ウォン／日本円 THB／JPY： タイバーツ／日本円 TWD／JPY： 台湾ドル／日本円 EUR／USD： ユーロ／米ドル EUR／CHF： ユーロ／スイスフラン EUR／GBP： ユーロ／英ポンド EUR／AUD： ユーロ／豪ドル EUR／CAD： ユーロ／カナダドル EUR／NZD： ユーロ／ニュージーランドドル GBP／USD： 英ポンド／米ドル GBP／AUD： 英ポンド／豪ドル GBP／CHF： 英ポンド／スイスフラン AUD／USD： 豪ドル／米ドル AUD／CAD： 豪ドル／カナダドル AUD／NZD： 豪ドル／ニュージーランドドル NZD／USD： ニュージーランドドル／米ドル USD／CAD： 米ドル／カナダドル USD／CHF： 米ドル／スイスフラン"},{url:"/p/c4j84fs/",title:"損益計算書の読み方",date:"0001-01-01T00:00:00Z",body:"損益計算書の読み方 損益計算書の全体構成 損益計算書は、一般的に下記のような構成で表記されます。 売上高で始まり、当期純利益で終わります。 売上高 売上原価 売上総利益 （粗利） 販売費及び一般管理費 営業利益 営業外収益 営業外費用 経常利益 特別利益 特別損失 税引前当期純利益 法人税、住民税及び事業税 当期純利益 損益計算書の重要項目 売上高 当期の売上合計です。売上高の大小は、事業規模の大きさを示しますが、単純に大きければよいものではありません。 借金をして売上高が大きくなることもありますし、売上高が大きいからといって利益が出ているとは限らないからです。 売上総利益 「売上高 - 売上原価」 売上総利益は、粗利とも呼ばれているもので、売上高から商品などの仕入れ原価を差し引いたものです。 つまり、当期の販売成績であり、商品力を表しています。 経費としては、仕入れ原価以外にもいろいろな費用がかかりますから、これをそのまま当期の利益とはみなすことはできませんが、すべての利益の源泉となるものです。 これがマイナスとなるようでは、仕入にかかる費用の方が大きいということですから、そもそもビジネスとして成り立っていません。 営業利益 「売上総利益 - 販売費及び一般管理費」 営業利益は、売上総利益から販売にかかる費用（人件費や宣伝費）などを差し引いたもので、本業での儲けを表しています。 日本株において、この営業利益の予想値の増減が株価に大きな影響を与えます。 営業利益が順調に伸びている企業は、すなわち本業が順調であることを示しており、将来的な成長が見込めます。 ただし、売上高を伸ばさない限り、永遠に営業利益を伸ばしていくことはできません。 人件費に関しては、企業によっては売上原価の方に含めることがあるため、企業間の営業成績の比較をする場合は、売上総利益よりも、こちらの営業利益の方を見るべきです。 日本の上場企業は、2007 年以降、この営業利益の公開が義務付けられているため、アナリストたちが企業価値を判断する際に重要視しています（経常利益に関しては、2006 年以前から公開が義務付けられていました）。 経常利益 「営業利益 + 営業外収益 - 営業外費用」 経常利益とは、営業利益に本業以外の収益や費用を加味したものです。 例えば、資産として債権や株式を運用している場合、利息や配当金などを得られますが、これは本業での収益ではないので、営業外収益として扱います。 また、借入金などがある場合は、支払金利がかかりますが、これらは営業外費用として扱います。 このような収益や費用は、本業での収益によらず経常的に発生してくるものなので、それらを足し引きした後の利益を経常利益と呼んでいます。 税引前当期純利益 「経常利益 + 特別利益 - 特別損失」 税引前当期純利益は、経常利益に対して、突発的に現れる利益や損失を加味したものです。 これらの利益や損失は、特別な活動を行わなければ発生しないものであるため、特別利益、特別損失と呼ばれます。 例えば、固定資産や株式を売却したときの利益や損失が、特別利益、特別損失として扱われます。 特別利益や特別損失は一時的なものであるため、これらが発生しても企業価値に大きな影響を与えるものではありません。 ただし、一時的とはいえ、当期純利益にはその損益が反映されてくるため、公開直後の株価は大きく変動することがあります。 当期純利益 当期純利益（または当期純損失）は、企業の最終的な利益（または損失）です。 税引前当期純利益から、法人税、住民税、事業税を差し引くことで当期純利益が求められます。 株価への影響という面では、この当期純利益よりも、営業利益や経常利益の方が影響は大きいのですが、当期純利益はすなわち資産の増減を表しているわけですから、短期的に見れば重要なものです。 見やすい損益計算書のグラフ 上記は、コクヨの財務諸表における損益計算書のグラフです。 このようなグラフになっていると、それぞれの利益の関係がよくわかりますね。"},{url:"/p/f55z9j5/",title:"重要な歴史",date:"0001-01-01T00:00:00Z",body:"重要な歴史 2021年以降 2023年6月26日: 本日以降に新規上場する銘柄は、新規上場日は買い注文および売り注文ともに成行注文が禁止（参考: 新規上場日の売買における成行呼値の禁止について | 日本取引所グループ） 2023年2月14日: 日銀総裁に植田和男氏が就任（黒田氏の後任）。戦後初の経済学者出身の日銀総裁。 2023年5月: 日経 225 micro（先物）の取引を開始 2021年9月30日: 阿部自民党総裁の任期切れ 2021年7月23日: 東京オリンピック 2021年4月11日: ペルー大統領選 2021年2月1日: デジタルプラットフォーム取引透明化法が施行（巨大IT企業に情報開示を義務付け） 2021年1月20日: 米大統領就任式 2021年1月1日: 日本のコロナ感染者収束せず 2020年 2020年11月3日: 米大統領選 2020年8月28日: 安倍首相が辞任表明。 2020年4月20日: NY 原油先物（5月限）が瞬間的にマイナス 40 ドルまで暴落。需要低下による投げ売りで、1983 年上場以来初のマイナスを記録。 2020年3月24日: 東京五輪・パラリンピックの 1 年延期が決定。 2020年3月23日: コロナ後に NY ダウが安値 18,590 ドルをつける。 2020年3月13日: トランプ政権による国家非常事態宣言。 2020年3月12日: コロナウィルス騒動で NY ダウが過去最大の下落を記録。 2020年2月12日: NYダウが 29,550 ドルの最高値をつける。 2020年1月31日: イギリスが EU 離脱 (Brexit)。 2020年1月: 中国の新コロナウイルス騒ぎにより相場が下落。 2019年 2019年10月: 消費税を増税（8%→10％）。特に混乱は発生せず。 2019年6月20日: 日銀金融政策決定会合。 2019年4月1日: 午前11:30に新元号「令和」の発表。相場は前場は上がり続け、後場から下げるという展開になった。 2018年 2018年10月: 上場企業の株式の売買単位が100株に統一。 2018年9月26日: FOMC が今年3度目の利上げ（誘導目標金利 2%→2.25%）。円安が進む。漸進的な利上げ方針を維持。 2018年9月: 安倍自民党総裁が任期切れ→再任 2018年4月6日: マネックスがコインチェックの買収を正式に発表（36億円）。和田晃一良氏は取締役を辞任し、マネックスグループの勝屋敏彦氏が就任。仮想通貨事業の加速を目指す。 2018年3月8日: 金融庁が仮想通貨交換業者7社を行政処分。登録申請中のみなし業者3社が申請を取り下げ。 2018年2月10日: 黒田日銀総裁の続投が決定。 2018年2月5日: 米国でイエレンFRB議長が任期満了となり、次期議長としてパウエル氏が就任。1970年後半以降、初めて経済学の学位を持たないFRB議長となる。 2018年1月26日: 仮想通貨取引所 Coincheck で NEM (XEM) が600億円以上不正に引き出され、マウントゴックスに次ぐ閉鎖の危機が発生。 2017年 2017年12月12-13日: 米FOCM 2017年11月16日: 米格付け大手のムーディーズ・インベスターズ・サービスがインド格付けを約14年ぶりに引き上げ（Baa3 から Baa2 へ）。 2017年11月: 第19回中国共産党全国代表大会 2017年9月19-20日: 米FOMC 2017年9月: 独連邦議会選挙 2017年6月13-14日: 米FOMC 2017年6月: 税制改正。年収 1000 万円超の給与所得控除の上限引き下げ。 2017年5月26日: 改正銀行法が成立。参議院本会議で可決、成立した（→2018年春に施行）。金融機関に対し、Open API 公開の努力義務を課し、いっそうの Fintech 拡大を目指す。API に接続する企業に対しては、登録制を導入する。 2017年5月7日: フランス大統領選挙（決選投票） 2017年4月23日: フランス大統領選挙（初回投票） 2017年4月: 改正銀行法を施行。従来、銀行が IT 企業に出資する場合は、銀行は 5% まで、銀行持ち株会社は 15% までという制限があったが、この制限を緩めて Fintech 関連企業への出資を行いやすくした。 2017年4月: 改正資金決済法を施行。消費者保護やマネーロンダリングの防止のため、仮想通貨の取引所に登録制を導入した。2014 年のマウントゴックスのビットコイン消失事件がきっかけ。 2017年3月15日: オランダ下院選挙 2017年3月14-15日: 米FOMC 2017年3月: 英が EU に離脱通告 2017年1月26日: NY ダウが史上最高値 20000 ドルを突破。トランプが大統領令を連発し、実行力が評価された。 2017年1月20日: ドナルド・トランプ氏が第45代米国大統領に就任。 2017年1月: 税制改正。年収 1000 万円超の給与所得控除の上限引き下げ。 2016年 - ブレグジットの世界株安から、トランプ・ラリーによる株価上昇へ 2016年11月8日: 米大統領選。トランプなら円高、ヒラリーなら円安というコンセンサスだったが、トランプ当選後、急激な円安が進んだ。 2016年10月25日: JR 九州が上場。売り出し価格 2600 円。終値 2990 円。取引開始 36 分後が最高値の 3120 円。 2016年9月30日: OPEC が原油原産に合意と伝わり WTI が5％を超える上昇。2円程度円安が進む。 2016年9月22日: 日銀政策会合後、黒田総裁が金融緩和策を資金量（マネタリーベース）目標から、長期金利０％の目標に切り替えることを発表。2％の物価上昇を達成するまで資金供給を続ける方針。 2016年8月26日: ジャクソンホールでイエレン FRB 議長がアメリカの年内利上げを匂わす。一方で黒田日銀総裁は緩和姿勢を崩さず。1ドル100円から102円前後に上昇。 2016年8月4日: イングランド銀行 (BOE) が 2009 年以来７年ぶりの利下げ（過去最低の0.25%）を実施。さらに国債買い入れ枠を 600 億ポンド拡大（計 4350 億ポンド）。EU 離脱によって揺らぐ経済の安定化を目指す。 2016年7月29日: 日銀が ETF の買い入れを６兆円に倍増する追加緩和策を発表。もうこれしか手は残されていないのかという失望感から、４円ほど円高が進む（１ドル105円 → 101円）。 2016年7月: 東証マザーズ指数先物 が大阪取引所に上場。 2016年6月24日（イギリスの23日）: Brexit ショック。イギリスの国民投票により EU 離脱派が勝利。大方の予想を覆す結果となり、金融市場に激震が走る。大幅なポンド安が進み、それに連動してドル円も 106 円台から 99 円台まで急落。日経平均も 1300 円安と大幅下落し、先物市場でサーキットブレーカーが発動した。 2016年6月13日: イギリスの EU 離脱懸念が深まり、日本株安、円高基調が進む。 2016年5月30日: 安部首相が消費税の増税を19年10月に延期することを発表。日経平均は233円高で1カ月ぶりに1万7000円台を回復。 2016年5月: Fintech の拡大を促す改正銀行法が成立。参院本会議で自民、公明などの賛成多数で成立した。2017年4月に施行。 2016年4月17日: カタール・ドーハで 18 の産油国が増産凍結をめぐって協議。サウジアラビアがイラン抜きでの合意に反対したため、凍結は見送りとなり、原油価格が下落。 2016年3月25日: ミャンマーに証券取引所 (Yangon Stock Exchange) がオープン。まずは 1 銘柄のみで、取引は午前 11 時と午後 1 時の 2 回のみ。 2016年3月17日: FOMC が利上げペースの修正を発表し（年 4 回から 2 回へ）、2014年10月以来となる 1 ドル 110.668 円まで円高が進む。 2016年2月9日: 長期国債の金利がマイナスになる。 2016年1月29日: 日銀が金融政策として初のマイナス金利を導入（当座預金 -0.1%）。日本国債10年は、一時0.05％割れまで金利が低下。 2016年1月20日: 原油下落が進み 1 バレル 27 ドル台。日経平均の暴落が止まらない（底値 16000 円付近）。円高も進み、1 ドル 115 円台を付ける。 2016年1月: 税制改正。年収 1200 万円超の給与所得控除の上限引き下げ。債券（公社債）・公社債投信、外貨 MFF 等が 20.315% の申告分離課税となる。 2015年 - チャイナショック 2015年12月1日: 国際通貨基金 (IMF) が中国人民元の特別引出権 (SDR）採用を決定。2016年10月1日付で施行。人民元 SDR の構成比率 10.92%、ポンド 8.09%、円 8.33%、ドル 41.73%、ユーロ 30.93%。 2015年10月7日: 人民元が決済通貨として日本通貨を抜いて第 4 位になる。 2015年9月20日: フォルクスワーゲン (VW) がディーゼル車の排ガスチェックで不正ソフトを使用していたことが発覚。制裁金 2 兆円超。ディーゼルエンジンの触媒に使われるプラチナの市場にも大きな打撃を与え、世界の市場に影響した。 2015年9月24日: 東証 arrowhead（現物市場の取引システム）の更新。取引のスピードがこれまでの 2 倍になったといわれる。 2015年8月: チャイナ・ショック。中国株価の暴落により、世界中の株価が巻き込まれて大幅下落。リーマンショックのような明確なトリガはなかったが、加熱しすぎた中国株が一気に冷めた様相。ただし、年末には切り返した。 2015年8月: 人民元切り下げ。 2015年4月: 年金額の特例水準が解消され、マクロ経済スライド発動。 2015年1月: 北海ブレンド原油が 12 年ぶりの安値となる 1 バレル 27 ドル台をつける。 2015年1月15日: スイスフラン・ショック。スイス国立銀行 (SNB) が、対ユーロ相場に設けていた 1 ユーロ=1.20スイスフランの上限を撤廃したことにより、スイスフランが急騰。 2015年1月1日: 特例贈与財産による贈与税の優遇措置が開始される。20歳以上の子・孫が直系尊属から受けた贈与財産に関して、税率と控除を優遇。 2015年1月1日: 相続税の最高税率の引き上げ。相続額が 6 億円を超える人の税率が、50% から 55% に増加。相続財産のうち非課税とする額を 6 割に縮小。 2014年 2014年6月: 北海ブレンド原油が一時 1 バレル 115 ドル台。 2014年4月1日: 消費税率を 5% から 8% に引き上げ（2013年10月1日から9年6か月ぶり）。外税表示 (Tax-exclusive pricing) が 2017年3月31日まで認められた。 2014年2月28日: ビットコイン交換所のマウントゴックス社が破綻。 2014年: 東京証券取引所が呼値を段階的に適正化。例えば株価 3000 円の銘柄は、10 円単位で動いていたが、現在は 1 円単位になっている。 2014年: 円高が是正される方向へ。証券の税制優遇が終わり20％へ。NISA が始まる。 2014年1月6日: 株式会社日本取引所グループ及び株式会社東京証券取引所と株式会社日本経済新聞社が、株価指数として JPX 日経インデックス400 の算出を開始。 2013年 - 黒田バズーカ、バーナンキショック 2013年10月: 東京地方裁判所が松井証券に対して FX の約定が遅れたことによる賠償を命じる。NetFx によるあるユーザの強制ロスカットが 18 秒遅延したことにより、915 万円の損失が生じたが、10 秒を超えるタイムラグは合理的範囲を超えるとし、10 秒間の遅延による約 200 万円の賠償が命じられた。 2013年5月22日: バーナンキ・ショック。FRB のベン・バーナンキ議長が議会証言で量的緩和 (QE) からの出口戦略について始めて言及したことで、世界の金融市場が一時的に大混乱に陥った。雇用統計も5月、6月大幅改善され、米10年債の金利が上昇し始める。後に、ECB ドラギ議長の量的緩和の出口戦略の参考とされる（2017年6月27年ドラギショック）。 2013年4月: 日銀が量的・質的金融緩和を実施。物価上昇により実質金利が下がり、円安が進行。 2013年3月: EU によるキプロスの支援が決定。 2013年3月: キプロス政府の預金課税による取り付け騒ぎ。 2013年3月: 黒田東彦（はるひこ）氏が日銀総裁に就任。 2013年1月: 日銀が金融政策決定会合で、消費者物価指数 (CPI) の前年比 2% 上昇のインフレ目標を設定。物価安定によるデフレ脱却を目指す。 2013年1月1日: 株式会社日本取引所グループ (JPX) が誕生。株式会社東京証券取引所グループと株式会社大阪証券取引所が経営統合。 2012年 - 安倍内閣発足、アベノミクス発動 2012年11月14日: 党首討論で野田佳彦元首相が解散を宣言し、安倍内閣が発足。アベノミクス発動。 2012年11月: FRB が量的緩和政策の第３弾 QE3 を実施。雇用にターゲットを絞り、市場から MBS（住宅ローン担保証券）を買い取ることで、大量の資金を投入。NY ダウが上昇を続ける。 2012年6月: スペインが EU に支援を要請 2012年5月: ギリシャ総選挙で連立協議に失敗。ユーロ離脱の懸念が広がる。 2012年2月: ギリシャの第二次支援が決定。 2011年 - 東日本大震災 2011年11月: 市場の圧力により、イタリアのベルルスコーニ政権が崩壊。 2011年10月: EU 包括戦略合意。EFSF の支援能力強化。 2011年9月6日: スイス国立銀行がスイスフラン高を止めるため、ユーロへの無制限介入を発表。 2011年7月: EFSF の信用保証増額、および機能拡充。 2011年5月: ポルトガルの支援が決定。 2011年3月17日: 1ドル76円25銭を記録。 2011年: 東日本大震災。日本株が18%下落。 2010年 - ギリシャショック（欧州債務危機） 2010年11月: FRB が量的緩和政策の第２弾 QE2 を実施。米国債の購入に 6000 億ドルを投入（2010年11月〜2011年6月）。 2010年11月: アイルランドの支援が決定。 2010年10月: 金融 ADR 制度（裁判外紛争解決制度）が発足し、デリバティブ取引による被害が顕在化。 2010年6月: EFSF の設立。 2010年5月: ギリシャの第一次支援が決定。EFSF の設立合意。 2010年11月: 東京金融取引所で日経平均を対象とした差金決済取引 (CFD) が開始。 2010年: 東証が次世代株式取引システム**「アローヘッド」**を導入。取引処理が劇的に高速化し、取引手法が変化。アルゴリズムによる取引が主流となり始める。 2010年: マウントゴックス社がマジック・ザ・ギャザリングのカード交換事業から、ビットコイン交換事業に転換。 2010年: 中国とロシアが、互いの通貨である元、ルーブルを使って貿易を開始。 2010年: ギリシャショック。ギリシャの赤字隠しが発覚し、ギリシャ国債が暴落（欧州債務危機）。 2000年代 ─ 聖域なき構造改革、世界金融危機 2001 年に小泉内閣が発足し、聖域なき構造改革が掲げられます。郵政民営化などにより不良債権処理が進み、円安を背景に輸出企業が大きく利益を伸ばしました。 2008 年にはリーマンショックが発生し、それ以降、世界的に低金利政策が採られるようになりました。 2009年12月: 政府が中小企業金融円滑化法を施行。金融の円滑化を図るための臨時措置に関する法律で、これにより、多くの中小企業の債権返済負担が軽減された。当初2年の予定だったが、2度の延長で2013年3月まで継続した。 2009年10月: 欧州債務危機の始まり。ギリシャの財政赤字の粉飾が発覚し、欧州全体に影響が広まった。 2009年3月: 日経平均がバブル後最安値を更新。 2008年11月: アメリカ FRB が量的緩和政策の第一弾 QE1 を実施（2008年11月〜2010年6月）。サブプライム・ローン問題の発端となった MBS（住宅ローン担保証券）に１兆2500億ドル、米国債に 3000 億ドルなどが投入される。 2008年11月: 民主党のオバマが大統領に選出。 2008年9月: アメリカ最大の証券会社メリルリンチが破綻。バンク・オブ・アメリカに買収される。 2008年9月: 世界金融危機。リーマン・ショック。2008年9月15日、AAA の格付けを受けていた大手投資銀行のリーマンブラザースが、行き過ぎたサブプライムローンなどを原因に経営破綻。2008年9月29日、米国下院が緊急経済安定化法案を否決し、世界中の株価が大暴落。ダウ平均株価は市場最大の 777 ドルの下落を記録。2009 年まで影響が続く。ゴールドマン・サックスは連邦準備銀行 (FRB) の管轄下に入った。 2008年4月: 四半期決算が法制化。監査法人の監査を受けた上で、45日以内に開示が必要となった。 2007年: 郵政民営化。日本郵政グループが発足。 2007年: サブプライムローンが問題視され始め、なぜか日本株が一番下がった（約10%の下落）。 2007年: リーマンブラザーズやゴールドマンサックスの CEO の収入が 70 億円を超える。 2006年7月: 大阪証券取引所が ミニ日経平均先物 を上場。 2006年6月: アメリカの中央銀行の政策金利が 5.25 ％まで上昇し、政策金利に連動する住宅ローン金利が上がり始める。住宅価格暴落の前兆。 2006年5月1日: 会社法が施行。有限会社が廃止される。 2006年5月: 貸借対照表 (B/S) の「資本」が「純資産」に名称変更（新会社法施行）。 2006年: 年金運用が財務省の資金調達部から GPIF に衣替え。 2006年1月1日: 東京三菱銀行と UFJ 銀行（三和銀行と東海銀行）が合併し、三菱東京 UFJ 銀行が誕生。 2006年: ３メガバンクが公的資金を完済。 2006年: ライブドアショック。全銘柄が取引停止。海外には波及せず、日本以外の株は順調。 2005年: 自民党が圧勝（296議席）で日本株が絶好調。 2005年: 三菱東京フィナンシャル・グループと UFJ ホールディングスが経営統合し、三菱 UFJ フィナンシャル・グループが発足。３メガバンク体制が確立した。 2004年: ３大金融グループ（UFJ、三井住友、みずほ） が誕生。1999年から2005年にかけ、主要行が３メガバンクグループに集約され、バブル崩壊の不良債権問題を乗り切ることとなる。トヨタなどの日本経済が順調。 2004年: UFJ 銀行元幹部らの不良債権隠し（検査忌避）が明らかになり、金融庁から刑事告発を受けて逮捕者が出る。これを機に三菱東京 FG との統合が加速した。 2003年6月11日: 日本の長期金利が史上最低の0.430％を記録。機関投資家が株式から国債に資産を移動させたため。 2003年: 日銀総裁として福井俊彦が就任。 2003年: 世界経済会議（通称ダボス会議）。 2003年: 銀行の不良債権処理が終わり（失われた10年の終わり）、日経平均は 7603 円で下げ止まった。 2002年: 住友銀行とさくら銀行が合併し、三井住友フィナンシャルグループが設立。 2002年2月: いざなみ景気（〜2008年2月）。 2001年10月: 単元株制度の導入。一単元を何株とするかが自由になった。 2001年9月: 9.11 同時多発テロ。世界的に株価が暴落。NY 市場は9月17日に取引を再開したが、685 ドルの大暴落。ブッシュはさらなる景気後退を防ぐために金利を下げ続け、6.5％だった金利は 2003年6月には１％まで低下。インフレ率よりも下がり、住宅バブルの兆しとなる。 2001年7月: 日経平均連動型上場投資信託 (ETF) の取引が東証と大証で開始。 2001年: エネルギー企業大手のエンロンの粉飾決済が暴露される。株価は７ドルから６セントに暴落。 2001年: アルゼンチンがデフォルトを宣言。国債の価値が30％に低下。新規国債への交換が実施された。 2001年: 京都証券取引所が大証に吸収合併。 2000年5月9日: 東証アローズがオープン。 2000年3月: 日本の上場企業に連結決算の公表が義務付けられる。連結キャッシュフロー計算書の開示が義務化。 2000年: 広島／新潟証券取引所が東証に吸収合併。 2000年: チェース・マンハッタン銀行 (1955〜) が JP モルガン銀行と合併し、JP モルガン・チェース となる。 2000年: 金融監督庁が金融庁に改組。 1990年代 ─ バブル崩壊、金融システムの空洞化、日本版金融ビッグバン 1991 年の 2 月からバブル崩壊が始まり、株価や地価、住宅価格の下落が始まりました。 1992 年に発足した橋本内閣以降の政権では、金融システムの再建が課題となりました。 1995 年には金融機関の経営破綻まで起き始め、金融市場への不安が広がっていきます。 1999年10月1日: 株式の売買委託手数料が小口も含めて完全自由化。 1999年4月30日: 東京証券取引所の立会場が閉場。 1999年: アメリカでグラス・スティーガル法が一部撤廃。商業銀行の証券取り扱いが解禁。 1999年: 東証マザーズが新設される。 1999年10月: 住友銀行、さくら銀行が合併を発表。2002 年に三井住友フィナンシャルグループを設立。 1999年8月: 第一勧業銀行、富士銀行、日本興業銀行が経営統合。 1999年7月: 金融監督庁が金融検査マニュアルを公表。不良債権をあぶりだす検査官たちは、銀行に恐れられた。 1999年3月: 大手銀など 15 行に公的資金を投入。 1999年2月: ゼロ金利政策（日銀の速水優が短期金利を「ゼロでもよい」と発言したことから）。無担保コール翌日物を0.15％に誘導することを発表。 1998年: ロシアがデフォルト。ロシアの借金が膨らみ、ルーブル建ての国債がデフォルトに陥った。 1998年4月: 売買代金 5000 万円を超える部分の手数料を自由化。 1998年: 「外国為替及び外国貿易法」が制定。外国為替市場に、特定の金融機関だけでなく、個人も参加できるようになった。 1998年: 金融システム改革法（金融の自由化と活発な競争：日本版ビッグバン）。証券業が免許制が再び登録制に。 1998年: 東証の立会場取引が終了。店頭市場と取引所市場の同格化。 1998年12月: 日本債権信用銀行が経営破綻。 1998年10月: 日本長期信用銀行が経営破綻。 1998年7月1日: 東証が TDnet (Timely Disclosure network) と呼ばれるコンピューターシステムによるディスクロージャー情報の提供を開始。 1998年6月: 大蔵省接待汚職事件をきっかけとして、大蔵省から金融機関の検査・監督機能を分離し、金融監督庁を発足。柳沢伯夫が金融担当相を務めた。 1998年3月: 大手銀など 21 行に公的資金を投入。 1998年1月: 大蔵省接待汚職事件。大蔵省が、銀行や証券会社から過剰な接待を受けていたことが明るみになる。ノーパンしゃぶしゃぶが連日ワイドショーで取り上げられる。 1997年11月: アジア通貨危機、バブル崩壊により、金融機関が立て続けに破綻（山一證券、三洋証券、北海道拓殖銀行）。都市銀行すら破綻するという事実が日本経済に衝撃を与えた。以降、2000年代前半まで銀行の破綻が相次ぐようになる。 1997年7月: タイの通貨バーツが暴落し、アジア通貨危機が発生。アジアの金融期間が相次いで破綻し始める。IMF が緊急融資。 1997年5月: 総会屋に対する利益供与事件。野村證券が総会屋関連企業への損失補てんを行い、証券取引等監視委員会に告発される。 1997年3月: タイの通貨バーツが変動相場制へ移行。ドルペッグ制を根拠に集まっていた資金が引き上げられ、急激なバーツ安が進んだ。IMF への支援要請も行われ、アジア新興国からの資金引き上げを招いた（→アジア通貨危機）。 1997年: 株券オプション の取引を開始。 1997年: 大証の立会場取引が終了。 1996年1月1日: 社債の適債基準が撤廃。 1996年: 橋本龍太郎内閣による日本版金融ビッグバンが始まり、金融商品が急速に広まる。金融持ち株会社や投資信託の銀行窓販が解禁され、現在の金融業界の基盤ができあがった。 1996年: 三菱銀行と東京銀行が合併し、東京三菱銀行が誕生。 1995年4月19日: 1ドル79円75銭を記録。 1995年: 住専（住宅金融専門会社）処理に 6,850 億円の公的資金を投入。住専 7 社合計で 64 兆円の損失が明らかとなった。 1995年: GPIF が保有資産のうち、外国債権を 0 にしようと動く。100 円から 80 円まで円高が進む。 1995年: 戦後初めて、銀行界で兵庫銀行が破綻。バブル崩壊による不良債権が原因となった。最後の貸し手、日銀による日銀特融が実行され、各支店に現金が運び込まれる光景が世間に衝撃を与えた。 1995年: ETF 第1号である「日経 300 株価指数連動型上場投信」が上場。 1994年4月: 売買代金 10 億円を超える大口取引について手数料自由化。 1994年: メキシコ通貨危機。IMF が緊急融資。 1993年: タイがバンコク・オフショア市場 (BIBF) を創設。バーツ経済圏構想により、アメリカとベトナムの間に入って儲けようとしたが、アメリカとベトナムは直接やりとりを始めた。そこで BIBF は海外からの資金調達の窓口という役割を持つことにした。 1993年: アメリカ国債が大暴落。債権メルトダウン。 1993年: 銀行系証券会社３社が設立。 1992年末: 不動産価格がピーク時から 60 ％以上の下落。銀行が多額の不良債権（60兆円）を抱えることとなり、失われた 10 年が始まる。銀行には、企業へ融資する余裕がなくなった。 1992年: 金融制度改革法。 1992年: 証券取引等監視委員会が発足。 1992年: バブル崩壊。 1991年: 損失補てん事件。手数料の自由化の引き金となる。 1991年: オメガリサーチ社から TradeStation がリリース。 1990年9月: シカゴ・マーカンタイル取引所 (CME) で日経平均先物、先物オプション取引を開始。 1990年（平成2年）3月: 大蔵省から金融機関に対して 「総量規制」 が通達される。不動産への融資が制限され、不動産価格が下がり始める。 1980年代 ─ 増税なき財政再建、規制緩和、バブル 70 年代に経済成長の鈍化する中で財政拡大を行ったため、国の借金は 1980 年までの 10 年間で 25 倍になりました。1980 年時点での国債残高は 70 兆円に達します。 中曽根内閣（1982年発足）では、財界からの圧力により「法人増税なき財政再建」が進められます。国鉄、電電公社、専売公社の民営化、規制緩和による輸入増加、低金利政策による内需拡大などにより民間の活動は軌道に乗ります。86 年からは経済は好況に転じましたが、これがバブル景気へと繋がります。 1980 年代は日米の自動車摩擦で幕を開けました。81 年に日本が輸出自主規制しましたが、以降はアメリカでの現地生産に切り替えるメーカーが増えていきます。 1989年末: 日経平均株価が史上最高値の 38,915 円を記録。 1989年12月: ゴルバチョフとジョージ・ブッシュ（パパブッシュ）が冷戦の終結を宣言。 1989年6月: 大阪証券取引所で 株価指数オプション（日経平均オプション） が上場。 1989年5月: 日銀総裁の三重野康が不動産価格の高騰を沈静化するため、公定歩合（政策金利）を上げ始める。 1989年: 三重野康が日銀総裁に就任。大蔵省 OB から日銀 OB にバトンタッチ。 1989年: ソニーがコロンビアピクチャーズを 34 億ドルで買収。三菱地所がマンハッタンのロックフェラーセンターを 10 億ドル以上で買収。 1989年（平成元年）: 日本で消費税が導入される。 1989年: 東西冷戦の崩壊。日本のバブル経済が頂点に達する。 1988年（昭和63年）: BIS（国際決済銀行）において、銀行の自己資本比率を設定しようというバーゼル合意の原案が提出される。このとき日本はバブルで、銀行の自己資本比率はわずか３％にすぎなかった。バーゼル合意により、日本の市中銀行の勢いを止める流れが現れた。 1988年9月: 大阪証券取引所で日経平均先物取引を開始。 1988年: ロシア危機。同時に LTCM というヘッジファンドが破綻。LTCM は大幅なドル買い円売りを行っていたため、その破綻によって円高が進む。 1988年: バブル景気（〜1990年）。 1987年: ブラックマンデー。1987年10月19日に史上最大規模の世界的株価大暴落。ダウ・ジョーンズ工業株 30 種が 22 ％下落した。オプション取引や LBO (Leveraged Buyout) などが原因と言われている。 1987年: 国鉄の分割、民営化が行われ、JR グループが発足。 1987年: 民営化された NTT 株が上場。売出価格 119 万円が、数週間で 318 万円になり、株式投資が注目を浴びるようになった。NTT の時価総額は一時的に 50 兆円を超えた。 1986年（昭和61年）末: 先進国の中央銀行が低金利政策を始める。日本銀行は戦後最低の公的歩合 2.5 ％を設定。 1986年9月: シンガポール国際金融取引所 (SIMEX、現シンガポール取引所SGX）で日経平均先物取引を開始。 1980年代: 銀行が個人向け住宅ローンに力を入れ始める。 &mdash;- 1980年代後半: 経済がバブル化 &mdash;- 1985年5月: 日本経済新聞社がダウ・ジョーンズ社と合意し、日経ダウ平均の名を日経平均株価に変更。 1985年）: 日銀総裁の前川春雄が、中曽根内閣に前川レポートを提出。**「金融・資本市場の自由化」**について示され、後の金融ビッグバン (1996) に繋がる。 1985年9月: プラザ合意。ドル安に向けた協調介入。円高トレンドが開始し、以後３年間で 260 円から 120 円代まで円高が進むことになり、日本のバブルのきっかけとなる。 1985年5月: 東証の立会場が、現在の場所に映され、電光掲示板などが取り入れられる。 1985年: 東京証券取引所に債権先物市場が開設。国債先物取引が開始される。 1985年: 電電公社・専売公社の民営化（NTT・JT）。 1984年: 日米円・ドル委員会報告書。大口預金金利の自由化などを提言。金融派生商品が生まれる。国内市場の解放を宣言し、東京市場が世界三大市場の１つとして認識された。外国銀行の信託業務への参入や、外国証券会社の東証会員権取得について合意。 1984年: 日米農産物交渉（オレンジ・牛肉）。 1983年: WTI が上場。 1983年: 大量の国債を消化するため、国際窓口販売が銀行にも認められるようになった（これまでは証券会社のみ）。 1982年: 中曽根内閣が発足。 1981年: 対米の自動車輸出を自主規制。 1981年6月: 銀行法が制定。普通銀行に関して規定された（→ 2017年4月に改正銀行法が施行）。 1980年代: リクルート事件。リクルートが子会社の未公開株を、政治家や官僚たちに渡していた。 1980年: 外為管理法の改正。日本企業の海外の金融商品や不動産への投資が自由化。 1980年: 日本の自動車生産が世界一になる。 1980年（昭和55年）: 鈴木内閣が発足。 1970年代 ─ 列島改造計画 60 年代には日本の経済成長が進みましたが、その発展は大都市に集中していました。そこで、田中角栄 (72年から首相）の「日本列島改造計画」では、大都市と地方のインフラの格差是正が掲げられました。 しかし、企業が投機目的で地方の土地を購入したため、73年には地価の急騰が発生します。 197X年: IMF は実質的に発展途上国の債務解決や、途上国の資金援助機関として機能するようになる。 1979年: 第二次オイルショック。原油の輸入にはドルが必要なため、円安ドル高が進む。 1975年5月: 日本経済新聞社がダウ・ジョーンズ社と独占契約し、日経ダウ平均として算出を開始。 1975年: 日本の赤字国債が本格化。 1974年: アメリカ政府がエリサ法（従業員退職所得補償法）を議会で可決。後に 401(k) 法として知られるようになる。 1974年: 狂乱物価が発生。72年から発生していた物価上昇に第一次オイルショックが重なり、物価が暴騰した。国民総生産 (GNP) がマイナス成長になる。 1973年: 第一次オイルショック。1973年10月6日に第四次中東戦争が勃発し、原油価格が高騰。イスラエルに肩入れしたアメリカに対して、アラブ諸国が反発した。 1973年: ドル円が変動為替相場制に移行。1ドル=360円の時代が終わり、1 ドル 260 円まで円高になる。 1973年: シカゴで通貨のオプション取引が始まる。 1973年: シカゴで通貨の先物取引が始まる。 1972年: 佐藤首相が退陣し、田中角栄が首相となる。日本列島改造論が出版される。 1971年8月: アメリカ（ニクソン大統領）が金・ドルの固定比率による交換を突然停止（ニクソン・ショック／ドル・ショック）。円レート切り上げの圧力により、1971 年末には、1 ドル 308 円まで切り上げられた（スミソニアン体制）。 1971年7月: 日本短波放送（現日経ラジオ社）が「NSB225種修正平均」の名称で算出を開始。 1970年7月: 東証が「東証修正平均株価」の算出を中止、日経グループが引き継ぐ。 1960年代 ─ 国民所得倍増計画 1960 年に発足した池田内閣により「国民所得倍増計画」が決定され、10 年間で GNP を 2 倍にするという高い経済成長目標が掲げられました。 経済成長には資源や機械の輸入が欠かせませんが、そのための外貨を獲得するため、政府はまずは輸出を増やそうとしました。 GNP の 2 倍到達は計画よりも早く、1967 年に達成されました。 60年代後半は、日本の経済成長が続く一方で、米国の貿易赤字が膨らみました。 これが、後の米国からの円レートの切り上げの圧力につながります。 1969年7月: 東証が時価総額を利用する東証株価指数の算出を開始。 1969年: 日本の国民総生産 (GNP) が世界第 2 位になる。 1968年: 大気汚染防止法、騒音規制法が公布される。 1968年: 証取法の改正。証券会社が免許制になる。 1968年: 都市銀行が定義され、第一銀行や三井銀行など 13 行がそこに分類された。 1967年: 神戸証券取引所が閉鎖。 1965年: 赤字国債を発行。いざなぎ景気（〜1970年）。 1965年: ベトナム戦争が本格化。 1965年: 証券恐慌。 1964年: 日本が OECD に正式加盟。 1964年: 東京オリンピック。 1960年（昭和35年）: 国民所得倍増計画が決定。 1950年代 ─ 経済の安定 50年代後半は、鳩山一郎内閣と岸内閣により、安定を重視した政策が進められます。 1959年: 貿易自由化が開始。 1958年: 岩戸景気（〜1961年）。 1957年: 公定歩合の引き下げ。なべ底不況（〜1958年）。 1955年: 日本が GATT に加入。神武景気（〜1957年）。 1955年: ロックフェラーのナショナル・シティ・バンクが、ファースト・ナショナル・バンクを吸収。現在のシティ・グループの元となる。 1955年: チェース・ナショナル・バンクがマンハッタン銀行と合併し、チェース・マンハッタン銀行 となる。 1953年: 朝鮮戦争が休戦。 1952年: 日本が IMF・世界銀行に加盟。交換レートは 1 ドル = 360 円。円は 360 度ということで、360 円に決まったという説あり。 1952年: **ECSC（ヨーロッパ石炭鉄鋼共同体）**が発足。加盟国はフランス、西ドイツ、イタリア、ベルギー、オランダ、ルクセンブルクの 6 ヵ国。EU の前身となる。 1951年（昭和26年）: 証券投資信託法が制定される。 1950年代: アメリカ黄金時代。自動車や鉄鋼の生産で世界の半分以上をアメリカが占める。アメリカ大統領は 34 代ドワイト・アイゼンハワー（任53-61）。 1950年9月7日: 東京証券取引所が「東証修正平均株価」の算出・公表を開始。現在では「日経平均」と呼ばれている。連合国軍総司令部 (GHQ) の要請を受けて、取引所再開時の 1949 年 5 月にさかのぼって算出された。 1940年代 ─ 終戦、傾斜生産方式、復興インフレ 終戦後は何はともあれ経済復興が急務でした。第一次吉田内閣は石炭・鉄による産業を重視した傾斜生産方式を決定します。国が復興金融公庫を設立し、石炭・鉄鋼産業に過剰に融資を行ったため、マネーサプライが増え、復興インフレが発生します。消費者物価指数は 45 年から 49 年にかけて 100 倍に膨らみました。 1949年4月: 東京証券取引所での立会がスタート。戦後相場が始まる。 1949年: 金融商品取引所が再開される。 1949年: 日本で復興インフレが発生し、45年から49年の間に消費者物価指数 (CPI) が 100 倍となった。米国からデトロイト銀行頭取のジョセフ・ドッジが派遣され、金融引き締め政策（ドッジ・ライン）が提案される。1 ドル 360 円の単一為替レート。 1948年: 証取法が制定。 1947年: マーシャル・プラン（ヨーロッパ復興計画）。33代大統領ハリー・トルーマン (任45-53) は、議会でソ連との対立を表明（45年からの米ソ冷戦継続）。西欧諸国への大規模援助を行うことにより、長期的にソ連の影響力を排除し、アメリカの勢力圏を広げようとした。プランの名前は、ジョージ・マーシャル国務長官（日本の外務大臣に相当）から。日本もアメリカのドル散布により復興を果たす。 1946年10月: 財閥解体により経済の民主化が図られる。アメリカ軍の憲兵 (MP) の立会いのもと、持株会社整理委員会の手に旧財閥の証券が移される。 1946年: 東京株式取引所が GHQ（連合国総司令部）に接収され 1952 年まで宿泊施設として使用されることになる。 1946年: 第一次吉田内閣により、傾斜生産方式が決定される。限られた資源、資産を石炭・鉄鋼産業へ集中投下した。 1946年: 横浜正金銀行（1879年〜）が東京銀行となる。現在の三菱東京 UFJ 銀行の母体のひとつ。 1946年: 日本で2度目の預金封鎖。 1945年: 終戦。連合国（アメリカ、イギリス、フランス側）の勝利。 1944年: ブレトンウッズ会議。アメリカの保養地ブレトンウッズに、連合国44カ国の代表が集まった。戦争に勝ったとしても、イギリスやフランスは経済的に疲弊しており、アメリカの貿易相手として機能しない。そこで、まずは各国の通貨を安定させるために **IMF（国際通貨基金）**を設立。各国通貨とドルを一定のレートで交換するドル本位制を確立し、ドルは基軸通貨 (key currency) となった。 1943年（昭和18年）: 日本証券取引所法が施行。日本証券取引所が設立。 &mdash;- 戦後 &mdash;- 1942年（昭和17年）: 戦時金融公庫。 1941年12月: 太平洋戦争。日本がハワイの真珠湾、イギリス領のマレーを攻撃して太平洋戦争が始まる。 1930年代 1939年9月: ナチスドイツがポーランドに侵攻し、第二次世界大戦が始まる。アメリカは再びイギリスに軍事物資を輸出し、軍事産業が発達。ジープやトラックの生産により、GM やフォードは息を吹き返す。 1938年: 起債市場が臨時資金調整法の対象となり、証券市場が沈滞。 1937年: 日中戦争。 1936年2月26日: ニ・二六事件。日銀総裁だった高橋是清が陸軍の青年将校に暗殺される。 1934年: アメリカの証券取引法により、証券取引委員会 (SEC: Securities and Exchange Commision) が設立。 1933年: 32代フランクリン・ルーズベルト大統領 (任33-45) の誕生により、ニューディール政策 が開始される。世界恐慌による失業者を救うため、TVA（テネシー渓谷開発公社）などを設立。ドルを大量に刷って財源を確保するため、金本位制を停止し、管理通貨制度へ移行した。 1933年: アメリカでグラス・スティーガル法が制定。一般の商業銀行が証券を売買することが禁止された。 1932年: ドイツの失業者数 600 万人を超える。 1931-1932年: 世界恐慌への対策として、イギリスがブロック経済を発動。イギリス首相はラムゼイ・マクドナルド。インド、カナダ、オーストラリアなどの植民地、自治領だけで経済を回し、アメリカなどには高い関税をかけて領域外から商品が入ってこないようにした。結果的に世界の経済活動はさらに縮小することになる。一方で、資源を持たないドイツ、イタリア、日本は、イギリスのブロック経済に反対し、第二次世界大戦の経済的要因となる。 1931年: オーストリア初の国際金融危機。ヨーロッパで取り付け騒ぎが発生。 1931年: イギリスが金本位制から離脱。 1930年6月: アメリカで関税法「スムート・ホーリー法」が成立。約2万品目以上に対して大幅な関税の引き上げを行い、1932年には米国の平均関税率は約59％に上昇。報復関税により貿易戦争に発展。 1920年代 1929年: アメリカの株価暴落による世界恐慌（暗黙の木曜日）。10月24日午前10時25分、当時最大の企業であったゼネラル・モーターズ (GM) 社の株価が 80 セントも暴落し、世界的な混乱を引き起こした。ダウ・ジョーンズ工業株 30 種平均は 12.8 ％の下落し、翌週の10月29日までに 30 ％以上下落した（悲劇の火曜日）。混乱はイギリスにも波及し、その後の世界的な経済混乱が第二次世界大戦を招くこととなる。大統領は第31代ハーバート・フーヴァー (任29-33)。 1927年: 昭和金融恐慌。預金の取り付け騒ぎが起こり、経営力のない銀行の淘汰が進む。日本における1度目の預金封鎖。 1925年: FRB がイギリスの要請により、金利を 4 ％から 3.5 ％に下げ、投資熱が加速。 1924年: 松方正義が死去（享年90歳）。 1923年: 関東大震災。 1910年代 1919年: 三菱為替店（1880〜）が三菱銀行となる。 1914-18年: 第一次世界大戦し、ヨーロッパ諸国が疲弊。ドイツは対戦中に大量の国債を発行し続け、ハイパーインフレーションを招く（月率３万％の物価上昇）。その後、デノミネーションにより、新通貨レンテンマルクを採用（＝旧通貨１兆パピエルマルク）。アメリカがドイツに復興資金を注ぎ込み、ドイツは難を逃れた。アメリカは友好国だったイギリス、フランスに軍事物資を輸出し、空前の繁栄を遂げる。石油・自動車・電機・航空などが成長。 1913年: アメリカで連邦準備法が制定され、中央銀行である **FRB（連邦準備銀行）**が設立される。 1913年: アメリカで米国憲法修正十六条が採択され、所得税が毎年取り立てられるようになる。 1911年: 高橋是清が日銀総裁に就任。 1904年: 東京株式取引所に上場されている株式数が 112 銘柄に到達。 1904年: 日露戦争が勃発。 1902年（明治35年）1月: 日英同盟が締結し、松方正義がイギリスへ渡る。後の日露戦争 (1904) の準備だとされている。 1800年代 1897年: 日本が金本位制へ移行。 1896年: 第一国立銀行（1873年〜）が第一銀行普銀となる。 1896年: 米ニューヨーク・ダウ株価指数の算出が開始。1928 年以降は 30 銘柄（ダウ工業株 30 種平均）で構成されているが、1896 年の開始時は 12 銘柄で算出されていた。 1895年: 住友銀行が設立。 1893年: 取引所法が施行。戦前の株式取引所を規定する基本法となる。 1885年: 内閣制度が創設。 1882年: 松方正義により日本銀行が設立。国立銀行から貨幣発行権を奪った。 1880年: 岩崎弥太郎 (1835-85) が三菱銀行の前身となる三菱為替店を設立。 1879年: 大隈重信のもとで**横浜正金銀行（しょうきんぎんこう）**が設立。正貨（せいか）を市中に流通させ、不換紙幣を償却することが目的だった。 1878年: 株式取引所条例が施行。渋沢栄一（資本主義の父）と大隈重信により、東京株式取引所、大阪株式取引所が開設される（後の東京証券取引所、大阪証券取引所）。 1876年: 行名に数字の入ったナンバー銀行の設立が相次ぐようになる（第四銀行、七十七銀行、八十二銀行など）。 1876年: 三井銀行が設立。 1874年: シカゴ・マーカンタイル取引所 (CME) が設立。 1874年: イギリスで所得税が国民から毎年取り立てられるようになる。 1874年: 株式取引条例が施行。 1873年: 大隈重信らにより、日本初の国立銀行（東京第一国立銀行）が設立される。伊藤博文によるワシントンの銀行制度視察の結果が国立銀行条例に反映された（要するにファースト・ナショナル・バンクを真似したということ）。 1873年（明治6年）: 大隈重信が大蔵卿に承認。日本経済における最重要人物となる。 1861年: アメリカ南北戦争。戦後、東西を結ぶ大陸横断鉄道が開通。 185X年: アメリカの工業生産額が、農業生産額を上回る。 1835年: ヤコブ・リットルにより 空売り の考え方が発見される。 1803年: ナポレオン戦争（フランス vs イギリスなど）。 1700年代 1789年: フランス革命（皇帝ナポレオンが登場）。 1783年: アメリカが独立（イギリスとの独立戦争）。当初のアメリカ人口は約 300 万人、日本の人口は 3000 万人だった。 1776年3月: アダム・スミスの『国富論』が出版され、ベストセラーとなる。富の性質について語られた。 1773年: ロンドン証券取引所 が創設。それまでの株式取引は主に相対で行われていた。 1775〜1783年: アメリカ独立戦争。フランスが財政難となり、増税実施。後のフランス革命の原因となる。 1760〜1830年: イギリス産業革命。蒸気機関の発達により、鉄道会社の株式がブームになる。 1730年: 大阪で世界初の先物取引所である 堂島米会所 が開設。 1720年: 英仏同時バブル。 1701〜1714年: スペイン継承戦争（イギリス vs フランス）。戦争による出費で、イギリスの財政が破綻寸前になる。 1600年代 1694年: イギリスの中央銀行**「イングランド銀行」**が設立。 1688年: イギリスで名誉革命。政府に対するチェックシステムが確立し、立憲君主制が始まる。 1687年: イギリスで起業ブーム。株価が急騰。 1637年: オランダのチューリップバブルが破綻。 1602年: 世界初の株式会社 オランダ東インド会社 が設立。"},{url:"/p/7snsjgx/",title:"財務諸表とは",date:"0001-01-01T00:00:00Z",body:"財務諸表とは 財務諸表は企業の活動実績を数量的に見えるようにしたもので、日本の企業は企業会計基準委員会によって制定された会計基準を元に各種の財務諸表を作成しています。 最近は、会計基準を国際的に統一しようという流れがあり、国際会計基準審議会 (IASB: The International Accouting Standards Board) により策定された、国際財務報告書基準 (IFRS: International Financial Reporting Standards) を採用する企業も増えています。 参考: IFRS適用済・適用決定会社一覧｜日本取引所グループ 基本的な財務諸表には、「貸借対照表」、「損益計算書」、「キャッシュフロー計算書」の 3 つがあります。 貸借対照表 (B/S: Balance Sheet): ある一定時点（瞬間）の財政状態 損益計算書 (P/L: Profit and Loss statement): ある一定期間の経営成績 キャッシュフロー計算書 (Cash Flow statement): ある一定期間の現金の変動 財務諸表は、会社法では計算書類と呼んでいます。"},{url:"/p/fwtpsqp/",title:"貸借対照表の読み方",date:"0001-01-01T00:00:00Z",body:"貸借対照表の読み方 貸借対照表の構成 資産の部 (Assets) 負債の部 (Liabilities) 純資産の部 (Equity) 貸借対照表はこのような構成で表現されます。 右側（貸方という）が資金の調達元、左側（借方という）がその資金をどのような資産として運用しているかを表しています。 資産の欄には、資金を使用して購入した固定資産も含まれますし、現金として残っているのならば、そのまま現金（及び預金）として記述されます。 つまり、資金全体の運用状態（資産構成）が示されているので、右側の合計金額と、左側の合計金額は常に一致します。 左側（借方） 資産の部: 現金や固定資産など、どのような資産として運用しているか。 右側（貸方） 負債の部: 借入金など他人から借りていて返済義務のあるお金（他人資本） 純資産の部: 資本金や自己株式など返済義務のないお金（自己資本） 右側の負債や純資産は、いわゆる「お金」の調達元を表しています。 負債の欄に記述されているものは、返済義務のあるお金なので、いつかはそのお金を返さなければいけません。 そのためには、営業活動などで利益をあげて返済するか、資産を切り崩して支払う必要があります。 こういった現金の流れは、財務諸表のひとつであるキャッシュフロー計算書を見るとわかるようになっています。 利益剰余金 資産の部 (Assets) 新しい資産 負債の部 (Liabilities) 純資産の部 (Equity) 経営がうまくいっていると、売り上げによる利益が出て資産が増えていきます（現金や売掛金という資産が増える）。 単純に金額ベースで見ると、貸借対照表のサイズは大きくなることになります。 貸借対照表の左右の金額は一致させなければいけません。 利益が出て左側の資産が増えたのであれば、右側の金額も増やしてバランスをとる必要があります。 利益が出た場合は、内部的にお金が入ってきて純資産の部分も同時に増えたとみなし、利益剰余金という科目で純資産の増加を表現します。 資産の部 (Assets) 新しい資産 負債の部 (Liabilities) 純資産の部 (Equity) 利益剰余金 (Surplus) 逆に、経営がうまくいかず、損失が出ている場合は資産が減っていきます。 この場合は、利益剰余金をマイナスで記入（表示上は △ で表現）することで純資産の減少を表現します。 いわゆる欠損金です。利益剰余金のマイナスが大きくなり、純資産の合計がマイナスになってしまうと、債務超過になり、資産を売り払っても負債を返しきれない状態になってしまいます。 資産は借金すればいくらでも増やせますが、利益剰余金がプラスでなければ、いつかは債務超過に陥ります。 財務の健全性を調べる場合は、利益剰余金がプラスであることは最初に見ておきたいポイントです。 利益剰余金の金額は、つまりは経営で儲かったお金なわけですから、損益計算書の方にも数値となって現れているはずです。 損益計算書の方では、当期純利益（あるいは当期純損失）という勘定項目が、儲かったお金、あるいは失ったお金として表現されます。 貸借対照表の方では利益剰余金という科目で表現されていますが、本質的には同じものを指しているというわけです。"},{url:"/p/76wkofh/",title:"金持ち父さんの教え",date:"0001-01-01T00:00:00Z",body:"金持ち父さんの教え 会計／投資／市場／法律の知識を付けること 金持ち父さんは、ファイナンス・インテリジェンスというものは、会計、投資、市場、法律の四つの分野の知識をすべて身に付けることで生まれるといっています。 まず、お金に関して読み書きできるようになるために、「会計」の知識（ファイナンシャル・リテラシ）を身につけなければなりません。 そして、「市場」は需要と供給の関係に成り立っているという原則を理解し、チャンスを逃さないようにすること。 お金がお金を生み出す「投資」というものを理解し、それに基いた戦略を立てられるようになること。 最後に、会計や会社、税金に関する「法律」を理解し、合法的に行動すること。 金持ち父さんは、これらについて理解することができれば、お金持ちになることは難しいことではないと言っています。 とはいっても、どう学んでいけばよいか迷ってしまうかもしれません。 日本には、関連する国家資格として、FP や簿記、証券外務員などがあります。 広範囲な知識を身につけたいのであれば、手始めにこういった試験に挑戦してみるのもよいでしょう。 広く浅く知るというのが金持ち父さんのアドバイスだった ひとつの仕事をして専門家になることもよいのですが、金持ち父さんは、多くの仕事にチャンレンジすることを勧めています。 会計課で働けば、企業においてどのようにお金を扱えばよいのかの知識を付けられます。 営業の仕事をすれば、顧客に対してどう接すれば商品やサービスを購入してもらえるのかが分かります。 ロバートキヨサキはいくつものベストセラーを出していますが、そのためにはマーケティングの知識が不可欠だったと言っています。 物があふれている現代において、商品を売るには、商品自体が素晴らしいだけでは不十分で、プラス α が必要だということです。 今の仕事に不満を持ちながら仕事をしている人も多いでしょう。でも、そこで得られる知識、経験を何かに活かせないかを一度ちゃんと考えてみると、その仕事に対する向き合い方も変わってくるかもしれません。 人は損をするのが怖くて、そのために損をする 多くの人はリスクをとるのが怖くて、チャンスだと思っても行動に移せません。 多少のリスクをとって前に進まなければ何も始まりません。 たとえそれによって損をしたとしても、そこから何かを学ぶというプロセスを繰り返すことで、これまで以上の富を得るための糧となります。 ロバートキヨサキも自己破産を経験しています。 それでも現在は破産する前よりもお金持ちになっています。 それまでの失敗により多くを学んできたからこその芸当です。 多くの経験を経て、多くを知ることで、今までリスクだと思っていたことが、本当はそれほど恐れるものではないことに気づきます。 損を恐れて何もしない人は、本当にチャンスが来た時に適切な行動に移せないし、そもそもチャンスにすら気付けません。 損をする覚悟ができたときに、お金持ちになるための扉が開かれます。 やる価値のあるものは、うまくいかなくてもやる価値がある 起業家精神を持つ人たちは、常にチャンスがないかを探しています。 よい取引相手、よいタイミング、そしてお金。 これらの条件がすべて揃うことはめったにありませんが、ひとつでも手に入るものがあれば、まずはそこから始め、あとから付け加えていく。 価値があると思うものがそこにあるのであれば行動します。 市場のニーズはいたるところに存在します。 完全なものをリリースする必要はありません。 ニーズに応えられるものがあると感じたら動くこと。 それができるかできないかです。"}];function search(e){const t=searchData(e),n=createHtml(t);showResult(n),showResultCount(t.length,data.length)}function searchData(e){const t=[];if(e=e.trim(),e.length<1)return t;const n=new RegExp(e,"i");for(let s=0;s<data.length;++s){const o=data[s].body.search(n);o!=-1&&t.push([s,o,o+e.length])}return t}function createHtml(e){const t=[];for(let n=0;n<e.length;++n){const s=e[n][0],o=e[n][1],i=e[n][2],a=data[s].url,r=data[s].title,c=data[s].body;t.push(createEntry(a,r,c,o,i))}return t.join("")}function createEntry(e,t,n,s,o){return'<div class="item"><a class="item_title" href="'+e+'">'+t+'</a><div class="item_excerpt">'+excerpt(n,s,o)+"</div></div>"}function excerpt(e,t,n){return[e.substring(t-30,t),"<b>",e.substring(t,n),"</b>",e.substring(n,n+200)].join("")}function showResult(e){const t=document.getElementById("result");t.innerHTML=e}function showResultCount(e,t){const n=document.getElementById("resultCount");n.innerHTML="<b>"+e+"</b> 件見つかりました（"+t+"件中）"}function searchWithHash(){const e=decodeURI(location.hash.substring(1));search(e);const t=document.getElementById("query");t.value!==e&&(t.value=e)}window.addEventListener("DOMContentLoaded",searchWithHash),window.addEventListener("hashchange",searchWithHash),window.addEventListener("load",()=>{const e=document.getElementById("query");e.focus()})</script><script async src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
<ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-6317852277883092 data-ad-slot=8636867067></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></main></div><aside><div class=xBreadcrumb><span class=xBreadcrumb_item><a href=../>&#x1F3E0;</a></span>
<span class=xBreadcrumb_item>サイト内全文検索</span></div></aside><div id=xSiteFooter><a href=../>まくまく投資ノート</a></div><div id=xSiteFooter2><a href=../sitemap/>サイトマップ</a> ｜
<a target=_blank href=https://forms.gle/xdUszEv4f5CEqH947>まくへのメッセージ</a></div></div><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"まくまく投資ノート","item":"https://toushi.maku.blog/"},{"@type":"ListItem","position":2,"name":"サイト内全文検索","item":"https://toushi.maku.blog/search/"}]}</script></body></html>