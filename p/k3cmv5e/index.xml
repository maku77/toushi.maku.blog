<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>MetaTrader/MQL: EA（エキスパートアドバイザー） on まくまく投資ノート</title><link>https://toushi.maku.blog/p/k3cmv5e/</link><description>Recent content in MetaTrader/MQL: EA（エキスパートアドバイザー） on まくまく投資ノート</description><generator>Hugo -- gohugo.io</generator><language>ja-jp</language><lastBuildDate>Mon, 17 Jul 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://toushi.maku.blog/p/k3cmv5e/index.xml" rel="self" type="application/rss+xml"/><item><title>MetaTrader/MQL: EA で使用できるイベント</title><link>https://toushi.maku.blog/p/aamwkiu/</link><pubDate>Mon, 17 Jul 2023 00:00:00 +0000</pubDate><guid>https://toushi.maku.blog/p/aamwkiu/</guid><description>EA（エキスパートアドバイザー）のプログラム内で、決まったシグネチャ（関数名やパラメーター構成）で関数を定義しておくと、特定のイベント発生時に自動的にその関数を呼び出してくれるようになります。
（参考）アプリの種類ごとに扱えるイベントハンドラーの一覧 （参考）カスタムインジケーターで使用できるイベント （参考）スクリプトで使用できるイベント EA では次のようなイベントハンドラーを定義することができます。
OnInit 関数 int OnInit(void); EA の OnInit() 関数は、Init イベントが発生したときに呼び出されます。 戻り値が void のバージョンもありますが、互換性のために残されているだけなので、int を返すバージョンを使ってください。
OnDeinit 関数 void OnDeinit(const int reason); EA の OnDeinit() 関数は、Deinit イベントが発生したときに呼び出されます。
OnCalculate 関数 int OnCalculate( const int rates_total, // price[] array size const int prev_calculated, // number of handled bars at the previous call const int begin, // index number in the price[] array meaningful data starts from const double&amp;amp; price[] // array of values for calculation ); int OnCalculate( const int rates_total, // size of input time series const int prev_calculated, // bars handled in previous call const datetime&amp;amp; time[], // Time const double&amp;amp; open[], // Open const double&amp;amp; high[], // High const double&amp;amp; low[], // Low const double&amp;amp; close[], // Close const long&amp;amp; tick_volume[], // Tick Volume const long&amp;amp; volume[], // Real Volume const int&amp;amp; spread[] // Spread ); EA の OnCalculate() 関数は、Calculate イベントが発生したとき（最新の価格が変化したとき）に呼び出されます。 EA を最初にチャートにアタッチしたときにも呼び出されます。</description></item></channel></rss>