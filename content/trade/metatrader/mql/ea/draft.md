---
title: "EA ドラフト"
url: "p/g3t6hrh/"
date: "2023-07-17"
tags: ["MetaTrader/MQL"]
draft: true
---

EA (Expert Advisor) の停止方法
----

- チャートから削除する
  1. チャート上で右クリックして、コンテキストメニューを開く
  2. `エキスパートリスト (E)` を選択する
  3. 対象のEA を選んで `削除` ボタンを押す


EA (Expert Advisor) がロードされるタイミング
----

- チャートに EA にアタッチされたとき
- 端末 (MetaTrader) が起動したとき（それにより以前の状態が復旧したとき）
- テンプレートの適用により、EA がセットされたチャートが開くとき
- プロファイルが変更されたとき
- アカウントの接続が確立したとき


EA (Expert Advisor) がアンロードされるタイミング
----

- チャートから EA がデタッチされたとき
- チャートに別の EA がアタッチされたとき（同上）
- 端末 (MetaTrader) が閉じられたとき
- テンプレートが適用されたとき
- チャートが閉じられたとき（EA はチャート開きっぱなしじゃないと動かない）
- プロファイルが変更されたとき
- 接続アカウントを変更するとき
- 明示的に `ExpoertRemove()` 関数を呼び出したとき

EA がアタッチされているチャートのシンボルや時間足（タイムフレーム）を変更しても、EA はアンロードされません。
その代わり、`OnDeinit()` と `OnInit()` が連続して呼び出されます。
グローバル変数には以前の値が保持されたままになるので、シンボルや時間足に依存する初期化処理は、`OnInit()` の中で実行すべきです。

